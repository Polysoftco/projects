(this.webpackJsonpayoola=this.webpackJsonpayoola||[]).push([[0],{125:function(e,t,a){},171:function(e,t,a){},186:function(e,t,a){e.exports=a.p+"static/media/contactsyros.f30bae74.png"},205:function(e,t,a){},209:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},246:function(e,t,a){},35:function(e,t,a){},432:function(e,t,a){e.exports=a.p+"static/media/contactsyros.a9ad8dcc.png"},441:function(e,t,a){},468:function(e,t,a){},485:function(e,t,a){e.exports=a.p+"static/media/devis.fbcc434d.png"},486:function(e,t,a){e.exports=a.p+"static/media/bc.aaf975c6.png"},487:function(e,t,a){e.exports=a.p+"static/media/bl.39762be0.png"},495:function(e,t,a){e.exports=a.p+"static/media/k.96d75117.jpg"},496:function(e,t,a){e.exports=a.p+"static/media/k1.fa1cca2c.jpeg"},509:function(e,t,a){e.exports=a(727)},627:function(e,t,a){},634:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},724:function(e,t,a){e.exports=a.p+"static/media/ts3.804e093c.jpg"},725:function(e,t,a){e.exports=a.p+"static/media/k.96d75117.jpg"},727:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),c=a.n(r),i=(a(322),a(171),a(12)),o=a.n(i),s=a(1),m=a(164),u=a(193),d=a(194),p=a(37),h=localStorage.getItem("username"),E=function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),r=a[0],c=a[1],i=function(){return c(!r)};return l.a.createElement(s.m,{style:{marginTop:"-10px",marginBottom:"10px"},color:"light",light:!0,className:"navbar shadow-sm p-3 bg-white rounded",expand:"md"},l.a.createElement(s.b,{className:"buttonside",style:{color:"#fff"},onClick:e.toggle},l.a.createElement(u.a,{icon:d.a})),"\xa0\xa0\xa0",l.a.createElement("span",{style:{color:"black"}},l.a.createElement("i",{class:"fa fa-user-circle","aria-hidden":"true"}," ",h)),l.a.createElement(s.n,{onClick:i}),l.a.createElement(s.d,{isOpen:!r,navbar:!0},l.a.createElement(s.j,{className:"ml-auto",navbar:!0},l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/fiche-fournisseur",onClick:i},l.a.createElement("span",{style:{color:"#020f64"}}," ",l.a.createElement("i",{className:"fas fa-shopping-cart"})," Fournisseur"))),l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/fiche-client",onClick:i},l.a.createElement("span",{style:{color:"#020f64"}}," ",l.a.createElement("i",{className:"fas fa-user"})," client"," "))),l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/fiche-article",onClick:i},l.a.createElement("span",{style:{color:"#020f64"}}," ",l.a.createElement("i",{className:"fas fa-cube"})," Article"," "))),l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/bon-de-livraison",onClick:i},l.a.createElement("span",{style:{color:"#020f64"}}," ",l.a.createElement("i",{class:"fas fa-list-alt"})," BL"," "))),l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/devis",onClick:i},l.a.createElement("span",{style:{color:"#020f64"}}," ",l.a.createElement("i",{className:"fas fa-clipboard-list"})," Devis"," "))),l.a.createElement(s.k,null,l.a.createElement(s.l,{tag:p.b,to:"/logout"},l.a.createElement("i",{class:"fas fa-sign-out-alt",style:{color:"rgb(220, 0, 78)"}}," ","Log-out"))))))},b=a(148),f=a(7),g=a(8),y=a(10),v=a(9),x=a(11),C=(n.Component,a(205),a(762)),S=a(484),k=a(792),T=a(763),w=a(14),j=a(15),I=a.n(j),N=function(){return function(e){I.a.get("http://192.168.1.100:81/api/FACCLIs").then((function(t){return e({type:"TOP_SELECT",payload:t.data})}))}},O=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Clients").then((function(t){return e({type:"CLIENT_SELECT",payload:t.data})}))}},B=function(){return function(e){I.a.get("http://192.168.1.100:81/api/FacFrs").then((function(t){return e({type:"TOPFRS_SELECT",payload:t.data})}))}},A=a(429),D=a(80),F=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).anneeHandler=function(e){I.a.get("http://192.168.1.100:81/api/CHIFFREs?annee=".concat(e.target.value)).then((function(e){console.log(e);var t=e.data,n=[],l=[];t.forEach((function(e){n.push(e.Mois),l.push(e.Ventes)})),a.setState({Data:{labels:n,datasets:[{label:"chiffre d'ann\xe9e par mois",data:l,backgroundColor:["rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)"]}]}})}))},a.state={change:!0,data:{},annee:"2020"},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/CHIFFREs?annee=2020").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(e.Mois),l.push(e.Ventes)})),e.setState({Data:{labels:n,datasets:[{label:"chiffre d'ann\xe9e par mois",data:l,backgroundColor:["rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)"]}]}})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",{className:"p1",style:{margin:"10px"}},"Chiffre d'affaire Global"),l.a.createElement("form",null,l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Ann\xe9e",defaultValue:this.state.annee,fullWidth:!0,name:"annee",type:"number",InputLabelProps:{shrink:!0},margin:"dense",variant:"outlined",onChange:this.anneeHandler}),l.a.createElement("div",null,l.a.createElement(D.a,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))))))}}]),t}(n.Component);var q=Object(w.b)((function(e){return{tops:e.tops,topfrss:e.topfrss}}),(function(e){return{SelectTopclient:function(){return e(N())},SelectTopFrs:function(){return e(B())}}}))(F),H=a(786),L=a(759),R=a(760),M=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectTopclient(),this.props.SelectTopFrs()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(H.a,{defaultActiveKey:"home",transition:!1,id:"noanim-tab-example"},l.a.createElement(L.a,{eventKey:"home",title:"Clients"},l.a.createElement("p",{className:"p1",style:{marginTop:"20px"}},"Top 5 clients"),l.a.createElement("div",{className:"tabtopp"},l.a.createElement(R.a,{striped:!0,hover:!0,size:"sm"},l.a.createElement("thead",{style:{background:"#454d55",color:"white"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison Social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.props.tops.tops.map((function(e){return"CLIENT PASSAGER"===e.raisoc?null:l.a.createElement("tr",{key:e.codcli},l.a.createElement("td",null," ",e.codcli," "),l.a.createElement("td",null," ",e.raisoc," "),l.a.createElement("td",null," ",Number(e.sommemntbn).toFixed(3)," "))})))))),l.a.createElement(L.a,{eventKey:"profile",title:"Fournisseurs"},l.a.createElement("p",{className:"p1",style:{marginTop:"20px"}},"Top 5 Fournisseurs"),l.a.createElement("div",{className:"tabtopp"},l.a.createElement(R.a,{striped:!0,hover:!0,size:"sm"},l.a.createElement("thead",{style:{background:"#454d55",color:"white"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison Social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.props.topfrss.topfrss.map((function(e){return l.a.createElement("tr",{key:e.codfrs},l.a.createElement("td",null," ",e.codfrs," "),l.a.createElement("td",null," ",e.raisoc," "),l.a.createElement("td",null," ",Number(e.sommemntbn).toFixed(3)," "))}))))))))}}]),t}(n.Component);var W=Object(w.b)((function(e){return{tops:e.tops,topfrss:e.topfrss}}),(function(e){return{SelectTopclient:function(){return e(N())},SelectTopFrs:function(){return e(B())}}}))(M),P=a(761),z={month:"short",day:"numeric"},V=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:{}},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/FACCLIs?typppeeee=FT").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",z)),l.push(e.sommemntbn)})),e.setState({Data:{labels:n,datasets:[{label:"Montant Facture / jour",data:l,backgroundColor:["rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)","rgb(220, 0, 78)"]}]}})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",null,n.createElement(D.a,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))}}]),t}(n.Component),U={month:"short",day:"numeric"},G=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:{}},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/BLBRs?typtyp=BL").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",U)),l.push(e.sommemntbn)})),e.setState({Data:{labels:n,datasets:[{label:"Montant BL / jour",data:l,backgroundColor:["#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8","#17a2b8"]}]}})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",null,n.createElement(D.a,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={change:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(P.a,{onClick:function(){return e.setState({change:!1})},variant:"outline-info"},"BL")," ","\xa0",l.a.createElement(P.a,{onClick:function(){return e.setState({change:!0})},variant:"outline-danger"},"Facture")),l.a.createElement("div",null,this.state.change?l.a.createElement("div",null,l.a.createElement("p",{className:"p1",style:{margin:"10px"}},"Total Montant des Factures par jour"),l.a.createElement(V,null)):l.a.createElement("div",null,l.a.createElement("p",{className:"p1",style:{margin:"10px"}},"Total Montant des BL par jour"),l.a.createElement(G,null))))}}]),t}(n.Component);var Q=Object(w.b)((function(e){return{tops:e.tops,topfrss:e.topfrss}}),(function(e){return{SelectTopclient:function(){return e(N())},SelectTopFrs:function(){return e(B())}}}))(_),K={month:"short",day:"numeric"},Y=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:{}},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/BEREs").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",K)),l.push(e.sommemntbn)})),e.setState({Data:{labels:n,datasets:[{label:"Montant / jour",data:l,backgroundColor:["#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2"]}]}})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",null,n.createElement(D.a,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))}}]),t}(n.Component),X=function(){return function(e){I.a.get("http://192.168.1.100:81/api/ChargeSum").then((function(t){return e({type:"SUMCHARGE_SELECT",payload:t.data})}))}},J=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:{},sum:[],k:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/GraphCperR").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(e.ville),l.push(e.num)})),e.setState({Data:{labels:n,datasets:[{label:"Clients / R\xe9gion",data:l,backgroundColor:["#20c997","#6610f2","#0000FF","#007bff","#ffc107"]}]}})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",null,n.createElement(D.b,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:{}},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.a.get("http://192.168.1.100:81/api/TopArticle").then((function(t){console.log(t);var a=t.data,n=[],l=[];a.forEach((function(e){n.push(e.codart),l.push(e.num)})),e.setState({Data:{labels:n,datasets:[{label:"Les % des articles les plus vendus",data:l,backgroundColor:["#20c997","#6610f2","#0000FF","#007bff","#ffc107"]}]}})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",null,n.createElement(D.b,{data:this.state.Data,options:{maintainAspectRatio:!1},width:"300px",height:"200px"})))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={change:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(P.a,{onClick:function(){return e.setState({change:!1})},variant:"light"},"Articles")," ","\xa0",l.a.createElement(P.a,{onClick:function(){return e.setState({change:!0})},variant:"light"},"Clients")),l.a.createElement("div",null,this.state.change?l.a.createElement("div",null,l.a.createElement("p",{className:"p1",style:{margin:"10px"}},"% Des clients par r\xe9gion"),l.a.createElement(J,null)):l.a.createElement("div",null,l.a.createElement("p",{className:"p1",style:{margin:"10px"}},"% Des articles les plus vendus"),l.a.createElement($,null))))}}]),t}(n.Component);var ee=Object(w.b)((function(e){return{tops:e.tops,topfrss:e.topfrss}}),(function(e){return{SelectTopclient:function(){return e(N())},SelectTopFrs:function(){return e(B())}}}))(Z),te=(a(432),a(186)),ae=a.n(te),ne=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggle=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})};var n=localStorage.getItem("token"),l=localStorage.getItem("username"),r=localStorage.getItem("fct"),c=!0;return null==n&&(c=!1),a.state={show:!1,loggedIn:c,tpk:n,user:l,activeTab:"2",token:n,username:l,fct:r},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectTopclient(),this.props.SelectClient(),this.props.SelectSumCharge()}},{key:"render",value:function(){return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,"200"===this.state.fct?l.a.createElement("div",{className:"contact-page",style:{width:"100%"}},l.a.createElement("img",{src:ae.a,alt:"Contact",style:{width:"100%",height:"100%"}})):l.a.createElement("div",{className:"scroll"},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:4,style:{marginBottom:"15px"}},l.a.createElement(k.a,{className:"card111"},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:6},l.a.createElement("p",{className:"p1"},"Total Charge")),l.a.createElement(S.a,{sm:6},this.props.charges.charges.map((function(e){return l.a.createElement("p",{className:"p2"},Number(e.somme).toFixed(3))})))),l.a.createElement(T.a,{style:{background:"#0f2535",marginBottom:"5px",marginTop:"-10px"}}),l.a.createElement("p",{className:"p4"},"Total Charge des Fournisseurs par jour"),l.a.createElement(Y,null)))),l.a.createElement(S.a,{sm:4,style:{marginBottom:"15px"}},l.a.createElement(k.a,{className:"card111"},l.a.createElement(k.a.Body,null,l.a.createElement(ee,null)))),l.a.createElement(S.a,{sm:4,style:{marginBottom:"15px"}},l.a.createElement(k.a,{className:"card111"},l.a.createElement(k.a.Body,null,l.a.createElement(Q,null))))),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:5,style:{marginBottom:"15px"}},l.a.createElement(k.a,{className:"card111"},l.a.createElement(k.a.Body,null,l.a.createElement(q,null)))),l.a.createElement(S.a,{sm:7,style:{marginBottom:"15px"}},l.a.createElement(k.a,{className:"card111"},l.a.createElement(k.a.Body,null,l.a.createElement(W,null)))))))}}]),t}(n.Component);var le=Object(w.b)((function(e){return{tops:e.tops,clients:e.clients,charges:e.charges}}),(function(e){return{SelectTopclient:function(){return e(N())},SelectClient:function(){return e(O())},SelectSumCharge:function(){return e(X())}}}))(ne),re=function(e){function t(e){var a;Object(f.a)(this,t),a=Object(y.a)(this,Object(v.a)(t).call(this,e));var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={loggedIn:n},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",{className:"contact-page",style:{width:"100%"}},l.a.createElement("img",{src:ae.a,alt:"Contact",style:{width:"100%",height:"100%"}}))}}]),t}(n.Component),ce=(a(35),a(766)),ie=a(767),oe=a(769),se=a(768),me=a(433),ue=a(110),de=a(485),pe=a.n(de),he=a(486),Ee=a.n(he),be=a(487),fe=a.n(be),ge=a(434),ye=a(783),ve=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Infos Devis client"))),l.a.createElement(ye.a.Body,null,l.a.createElement("p",null,"Remise globale : c\u2019est la remise globale pour client. Marge Ben : marge b\xe9n\xe9ficiaire r\xe9alis\xe9e sur le Devis. -le remplissage du tableau se fait par la saisie des articles soit manuellement ou g\xe9n\xe9rer la liste des articles par F1. N.B :l\u2019enregistrement ne peut \xeatre effectu\xe9 que lorsque tableau contient au moins un article. -la suppression du Devis se fait sur deux \xe9tapes : \xab Annuler \xbb puis \xab supprimer \xbb. -le bouton \xabVentes\xbb repr\xe9sente la liste des ventes d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix de vente selon le client s\xe9lectionn\xe9 dans le devis. -le bouton \xabAchats\xbb repr\xe9sente la liste des achats d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix d\u2019achats. N.B :le bouton \xab Remise\\TTC \xbb permet \xe0 l\u2019utilisateur de changer directement le montant TTC du devis.")),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component),xe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Infos Bon de commande"))),l.a.createElement(ye.a.Body,null,l.a.createElement("p",null,"Remise globale : c\u2019est la remise globale pour client. Marge Ben : marge b\xe9n\xe9ficiaire r\xe9alis\xe9e sur le bon de commande. -le remplissage du tableau se fait par la saisie des articles soit manuellement ou g\xe9n\xe9rer la liste des articles par F1. N.B :l\u2019enregistrement ne peut \xeatre effectu\xe9 que lorsque tableau contient au moins un article. -la suppression du bon de commande se fait sur deux \xe9tapes : \xab Annuler \xbb puis \xab supprimer \xbb. -Le bouton \xabVentes\xbb repr\xe9sente la liste des ventes d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix de vente selon le client s\xe9lectionn\xe9 dans le bon de commande. -le bouton \xabAchats\xbb repr\xe9sente la liste des achats d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix d\u2019achats. N.B : le bouton \xab Remise\\TTC \xbb permet \xe0 l\u2019utilisateur de changer directement le montant TTC du bon de commande.")),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Infos commandes des clients et fournisseurs"))),l.a.createElement(ye.a.Body,null,l.a.createElement("p",null,"Remise globale : c\u2019est la remise globale pour client. Marge Ben : marge b\xe9n\xe9ficiaire r\xe9alis\xe9e sur le bon de commande. -le remplissage du tableau se fait par la saisie des articles soit manuellement ou g\xe9n\xe9rer la liste des articles par F1. N.B :l\u2019enregistrement ne peut \xeatre effectu\xe9 que lorsque tableau contient au moins un article. -la suppression du bon de commande se fait sur deux \xe9tapes : \xab Annuler \xbb puis \xab supprimer \xbb. -Le bouton \xabVentes\xbb repr\xe9sente la liste des ventes d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix de vente selon le client s\xe9lectionn\xe9 dans le bon de commande. -le bouton \xabAchats\xbb repr\xe9sente la liste des achats d\u2019un article s\xe9lectionn\xe9, cela permet \xe0 l\u2019utilisateur de consulter l\u2019historique des prix d\u2019achats. N.B : le bouton \xab Remise\\TTC \xbb permet \xe0 l\u2019utilisateur de changer directement le montant TTC du bon de commande.")),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component),Se=a(791),ke=function(){return function(e){I.a.get("http://192.168.1.100:81/api/ARTICLEs").then((function(t){return e({type:"ARTICLE_SELECT",payload:t.data})}))}},Te=a(27),we=a.n(Te),je=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.SelectArticle()}},{key:"render",value:function(){var e=this.props.clients.clients.map((function(e){return e})),t=this.props.articles.articles.map((function(e){return e})).map((function(e){return{value:e.$id,label:e.codart,name:e.desart}})),a=e.map((function(e){return{value:e.$id,label:e.codcli,name:e.raisoc}}));return console.log(a.map((function(e){return e.name}))),l.a.createElement("div",null,l.a.createElement(C.a,null,l.a.createElement(S.a,{md:6},l.a.createElement(Se.a,{id:"article",options:t,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Article",variant:"outlined",fullWidth:!0}))}})),l.a.createElement(S.a,{md:6},l.a.createElement(Se.a,{id:"fournisseur",options:a,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Fournisseur",variant:"outlined",fullWidth:!0}))}}))),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(S.a,{md:6},l.a.createElement(Se.a,{id:"famille",options:t,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Famille",variant:"outlined",fullWidth:!0}))}})),l.a.createElement(S.a,{md:6},l.a.createElement(Se.a,{id:"sousfamille",options:a,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Sous famille",variant:"outlined",fullWidth:!0}))}}))),l.a.createElement("br",null),l.a.createElement(we.a,null,l.a.createElement(C.a,null,l.a.createElement(me.a,{variant:"contained",color:"primary"},"Ap\xe9r\xe7u"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement(me.a,{variant:"contained",color:"secondary"},"Imprimer"))))}}]),t}(n.Component);var Ie=Object(w.b)((function(e){return{clients:e.clients,articles:e.articles}}),(function(e){return{SelectClient:function(){return e(O())},SelectArticle:function(){return e(ke())}}}))(je),Ne=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Commande client et Fournisseur"))),l.a.createElement(ye.a.Body,null,l.a.createElement(Ie,null)),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component),Oe=(n.Component,a(21)),Be=function(){return function(e){I.a.get("http://192.168.1.100:81/api/BCDVCLIs?type=BC").then((function(t){return e({type:"BC_SELECT",payload:t.data})}))}},Ae=a(53),De=a.n(Ae),Fe=(a(627),a(435)),qe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggle=function(){a.setState({icon:!a.state.icon})},a.state={icon:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:function(t){return e.props.searching(t.target.value)},onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))}}]),t}(n.Component),He=(Object(w.b)((function(e){return{searchingResult:e.SearchingReducer}}),(function(e){return{searching:function(t){e(function(e){return function(t){t({type:"SEARCHING",payload:e})}}(t))}}}))(qe),a(125),a(489)),Le=a(788),Re=a(770),Me=a(339),We=a(772),Pe=a(771),ze=function(e){return function(e){I.a.get("http://192.168.1.100:81/api/BCDVCLIs?typpe=DV").then((function(t){return e({type:"NUMFAC_DEVIS",payload:t.data})}))}},Ve=a(340),Ue=(a(93),n.Component,a(71)),Ge=a.n(Ue),_e=a(503),Qe=a(473),Ke=a(79),Ye=a.n(Ke),Xe=a(39),Je=a(789),$e=a(59),Ze=(n.Component,a(46)),et=a.n(Ze),tt=(a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,netnetapayer:m}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,netnetapayer:m})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",defaultValue:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",t.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",t.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.totalht).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))}))))),l.a.createElement(s.o,{style:{marginBottom:"-15px",marginTop:"10px"}},l.a.createElement(s.c,{sm:2},l.a.createElement("p",{style:{color:"darkslateblue",fontWeight:"bold",fontSize:"13px"}},"Total Quantit\xe9")),l.a.createElement(s.c,{sm:3},l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},this.state.totalqte)))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled,e.state.netnetapayer),e.props.onHide()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component));var at=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(tt),nt=function(e){return function(e){I.a.get("http://192.168.1.100:81/api/BCDVCLIs?typpe=BC").then((function(t){return e({type:"NUMFAC_BC",payload:t.data})}))}},lt=(a(59),new Date);lt.setDate(lt.getDate());var rt=lt.toISOString().substr(0,10),ct=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.submitHandler=function(e,t,n,l,r,c,i,o,s,m){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s,netnetapayer:m})},a.handleSubmit=function(e){e.preventDefault(),a.setState({openActionModal:!0})},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.enregistrer=function(e){e.preventDefault(),a.state.tab.map((function(t,n){for(var l=0;l<a.state.tab.length;l++)fetch("http://192.168.1.100:81/api/LigBCDV/{ID}?numfac=".concat(e.target.codbc.value,"&typfac=BC&numlig=").concat(n,"&codart=").concat(t.codearticle,"&quantite=").concat(t.qte,"&fodart=0&desart=").concat(t.des,"&datfac=").concat(a.state.defaultdate,"&priuni=").concat(t.puht,"&remise=").concat(t.remisea,"&unite").concat(t.unite,"&codtva=3&tautva=").concat(t.tva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/BCDVCLIs?numfac=".concat(e.target.codbc.value,"&typfac=BC&taurem=").concat(e.target.remise.value,"&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&catfisc=").concat(e.target.categoriefiscale.value,"&datfac=").concat(a.state.defaultdate,"&timbre=").concat(a.state.showTimbre,"&ForfaitCli=").concat(a.state.showForfitaire,"&vendeur=").concat(a.state.username,"&valtimbre=").concat(a.state.valtimbre),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBC(),fetch("http://192.168.1.100:81/api/LigBCDV?FAC=".concat(a.props.numfacbcs.numfacbcs.map((function(e){return parseInt(e.valeur)})),"&typfacc=BC"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetNumFacBC(),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=BC2&valeur=".concat(parseInt(e.target.codbc.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))};var n=localStorage.getItem("username");return a.state={gilad:!0,passager:!1,defaultdate:rt,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,netnetapayer:0,btnEnable:!1,btnEnabled:!1,cemail:"",openActionModal:!1,snackbaropen:!1,snackbarmsg:",",rechs:[],username:n,libellecatfisc:"",valtimbre:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.GetNumFacDevis(),this.props.GetNumFacBC()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dvnumfac,t.dvraisoc,t.rem);t.clientmail;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Bon de commande"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.props.numfacbcs.numfacbcs.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 BC",margin:"normal",fullWidth:!0,name:"codbc",value:parseInt(e.valeur),disabled:!0})})))),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",defaultValue:this.state.defaultdate}))),l.a.createElement(C.a,{style:{marginBottom:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}}))),this.state.gilad?l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))):l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0})))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Cat Fis",margin:"normal",fullWidth:!0,name:"categoriefiscale",value:this.state.categoriefiscale,disabled:!0})),l.a.createElement(S.a,{sm:2},"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cat Fiscale"," ")),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",onChange:this.remiseglobalChange,value:this.state.remiseg}))))),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:12},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(S.a,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"#3f51b5",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null)))))))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("span",null,e.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",e.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",e.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.totalht).toFixed(2))))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.sumremisearticle).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.valtimbre).toFixed(3)))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.remiseglobal).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.netapayer).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.state.netnetapayer).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:8}),l.a.createElement(S.a,{sm:4},0===this.state.totalqte?l.a.createElement(me.a,{variant:"contained",disabled:!0,style:{marginTop:"20px",width:"100%"}},"Enregistrer tous"):l.a.createElement(me.a,{variant:"contained",style:{marginTop:"20px",width:"100%",color:"white",backgroundColor:"#020F64"},type:"submit"},"Enregistrer tous")))))),l.a.createElement(at,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},rem:a,numfaccc:this.props.numfacbcs.numfacbcs.map((function(e){return parseInt(e.valeur)})),datfac:this.state.defaultdate,valtimbre:this.state.valtimbre}))}}]),t}(n.Component);var it=Object(w.b)((function(e){return{clients:e.clients,numfacbcs:e.numfacbcs,articles:e.articles}}),(function(e){return{SelectClient:function(){return e(O())},GetNumFacDevis:function(){return e(ze())},SelectArticle:function(){return e(ke())},GetNumFacBC:function(){return e(nt())},SelectBC:function(){return e(Be())}}}))(ct),ot=a(6),st=a(23),mt=a(438),ut=a(436),dt=a(437);Object(ot.a)({root:{color:"#00695c"}})(ut.a),Object(ot.a)({colorPrimary:{backgroundColor:"#00695c"},barColorPrimary:{backgroundColor:"#00965d"}})(dt.a),Object(ot.a)({root:{height:10,backgroundColor:Object(st.i)("#ff6c5c",.5)},bar:{borderRadius:20,backgroundColor:"#ff6c5c"}})(dt.a),Object(mt.a)({root:{position:"relative"},top:{color:"#eef3fd"},bottom:{color:"#6798e5",animationDuration:"550ms",position:"absolute",left:0}}),Object(mt.a)((function(e){return{root:{flexGrow:1},margin:{margin:e.spacing(1)}}}));var pt=function(){return function(e){I.a.get("http://192.168.1.100:81/api/LigBCDV?type=BC").then((function(t){return e({type:"BC_LIG_SELECT",payload:t.data})}))}},ht=a(773),Et=a(774),bt=a(47),ft=a.n(bt),gt=a(25),yt=a.n(gt),vt=a(90),xt=a.n(vt),Ct=a(57),St=a.n(Ct),kt=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).datHandler=function(e){a.setState({datebcc:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.modifiermodification=function(e){var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:a.state.remisea,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,changeButton:!1}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.sameTable=function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=BC&numfac=".concat(a.props.bcidd)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clickeda:!0})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechsc:e,clicked:!0})}))},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.enregistrer=function(){fetch("http://192.168.1.100:81/api/BCDVCLIs?numfac=".concat(a.props.bcidd,"&typfac=BC&datfac=").concat(a.state.datebcc,"&codcli=").concat(a.state.codeclient,"&raisoc=").concat(a.state.raisonsocial,"&taurem=").concat(a.state.remiseg,"&catfisc=").concat(a.state.categoriefiscale,"&timbre=").concat(a.props.droitdetimbre,"&valtimbre=0&ForfaitCli=").concat(a.props.avanceimpot,"&vendeur=").concat(a.state.username),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),fetch("http://192.168.1.100:81/api/LigBCDV/".concat(a.props.bcidd,"?typfacc=BC"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.state.tab.map((function(e,t){for(var n=0;n<a.state.tab.length;n++)fetch("http://192.168.1.100:81/api/LigBCDV/{ID}?numfac=".concat(a.props.bcidd,"&typfac=BC&numlig=").concat(t+10,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.props.datebl,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=3&tautva=").concat(e.tautva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({enrsnackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/LigBCDV?FAC=".concat(a.props.bcidd,"&typfacc=BC"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}))},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:e.target.remisea.value,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.deleteRowMod=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,btnEnabled:!0})};var n=localStorage.getItem("username");return a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,giladd:!0,rechs:[],rechsc:[],changeButton:!1,remiseg:0,raisonsocial:"",codeclient:"",categoriefiscale:"",datebcc:"",username:n,clicked:!1,clickeda:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle(),this.sameTable(),this.props.SelectClient(),this.setState({remiseg:this.props.taurem,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,categoriefiscale:this.props.catfisc,datebcc:new Date(this.props.datebl).toISOString().substr(0,10)})}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.enrsnackbaropen,autoHideDuration:2e3,onClose:this.enrsnackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.enrsnackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Bon de commande \u2116 ",this.props.bcidd))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,{style:{marginBottom:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher client par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.giladd,onChange:this.handleChange("giladd"),value:"giladd",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code client"))))),this.state.giladd?l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}})))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0,InputLabelProps:{shrink:!0}}))),l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",InputLabelProps:{shrink:!0},onChange:this.remiseglobalChange,value:this.state.remiseg})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",onChange:this.datHandler,value:this.state.datebcc,InputLabelProps:{shrink:!0}}))))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code article"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"Code Article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",defaultValue:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:this.state.totalht,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:this.state.puttcnet,fullWidth:!0,disabled:!0,size:"small"})))),this.state.changeButton?l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"320px"},variant:"contained",color:"primary",onClick:function(){e.modifiermodification()}},"Enregistrer les modifications")):""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px",textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"40%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"40%"}},t.desart),l.a.createElement("td",null,l.a.createElement("span",null,t.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Modifier cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){e.setState({codearticle:t.codart,des:t.desart,unite:t.unite,puht:t.priuni,remisea:t.remise,tva:t.tautva,faudec:t.typfodec,qte:t.quantite,changeButton:!0}),e.deleteRowMod(a)}})))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white"},onClick:function(){e.enregistrer(),e.props.onHide(),e.props.onHide01(),window.alert("Modification enregistr\xe9s")}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained"},"Enregistrer"))))}}]),t}(n.Component);var Tt=Object(w.b)((function(e){return{articles:e.articles,clients:e.clients}}),(function(e){return{SelectArticle:function(){return e(ke())},SelectBC:function(){return e(Be())},SelectClient:function(){return e(O())}}}))(kt),wt=a(58),jt=a.n(wt),It=a(51),Nt=a.n(It),Ot=a(43),Bt=a.n(Ot),At=(a(59),[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}]),Dt={weekday:"short",year:"numeric",month:"short",day:"numeric"},Ft=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})}))},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.openModifier=function(){a.setState({openModifierModal:!0,bcid:a.props.bcid}),a.props.bcligs.bcligs.map((function(e){a.setState({ligid:e.id})}))},a.annuler=function(){"0"===a.props.annuler?fetch("http://192.168.1.100:81/api/BCDVCLIs?idd=".concat(a.props.bcid,"&typfaccs=BC"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.onHide(),a.props.SelectBC()})):window.alert("Bon de livraison d\xe9ja annul\xe9e")},a.imprimer=function(){window.alert("imprimer")},a.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer cette bon de commande?")&&(fetch("http://192.168.1.100:81/api/LigBCDV/".concat(a.props.bcid,"?typfacc=BC"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://192.168.1.100:81/api/BCDVCLIs/".concat(a.props.bcid,"?typfacc=BC"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBC(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})})))},a.nonsupprimer=function(){window.alert("Vous devez annuler ce bon de Bon de commande pour que vous puissiez le supprimer")},a.state={open:!1,hidden:!1,openModifierModal:!1,ligid:"",bcid:"",tab:[],newtab:[],codearticle:0,des:"",qte:0,unite:0,puht:0,faudec:0,remisea:0,tva:0,puttcnet:0,totalht:0,totalqte:0,netapayer:0,clientimp:[],snackbaropen:!1,snackbarmsg:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBCLig()}},{key:"render",value:function(){var e=this,t=this.state;t.ligidd,t.bcidd,t.tabb;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#08052B"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Bon de commande"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 BC")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.bcid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date BC")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.datebc)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:4},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"40%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUTTCNET"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"40%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbree).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbree)).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-20px",right:"10px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},At.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&"1"===e.props.annuler&&e.supprimer(),"Supprimer"==t.name&&"0"===e.props.annuler&&e.nonsupprimer(),"Annuler"==t.name&&e.annuler()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))),l.a.createElement(Tt,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},ligidd:this.state.ligid,bcidd:this.props.bcid,tabb:this.props.tabtab,datebl:this.props.datebc,onHide01:this.props.onHide,taurem:this.props.taurem,catfisc:this.props.catfisc,client:this.props.client,raisonsociale:this.props.raisonsociale,droitdetimbre:this.props.droitdetimbre,avanceimpot:this.props.avanceimpot})),l.a.createElement(ye.a.Footer,null," ")),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Bon de commande \u2116 ",this.props.bcid," ","-------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"170px"}},"Date:"," ",new Date(this.props.datebc).toLocaleDateString("fr",Dt))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Client : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.codtva?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.codtva)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"620px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Timbre fiscal:"),l.a.createElement("td",null,Number(this.props.valtimbree).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbree)).toFixed(3)," ")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var qt=Object(w.b)((function(e){return{bcligs:e.bcligs}}),(function(e){return{SelectBCLig:function(){return e(pt())},SelectBC:function(){return e(Be())}}}))(Ft),Ht=a(198),Lt=a.n(Ht),Rt=a(147),Mt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.state={name:"",email:"",message:"",snackbaropen:!1,sent:!1},a.handleChange=a.handleChange.bind(Object(Rt.a)(a)),a.submitHandler=a.submitHandler.bind(Object(Rt.a)(a)),a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"submitHandler",value:function(e){var t,a,n,l;return Lt.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=this.state,a=t.name,n=t.email,l=t.message,r.next=4,Lt.a.awrap(I.a.post("/api/form",{name:a,email:n,message:l}));case 4:r.sent;case 5:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return console.log("sent=",this.state.sent),l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"#F2F3F3",color:"#222",fontSize:"16px"}},l.a.createElement("b",null,"Nouveau message")),l.a.createElement(ye.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement(s.f,{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," \xc0 ")),l.a.createElement(s.c,{sm:10},l.a.createElement("input",{name:"email",onChange:this.handleChange,className:"inputmail",type:"text"}))),l.a.createElement(T.a,null),l.a.createElement(s.o,{style:{marginTop:"5px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," Objet ")),l.a.createElement(s.c,{sm:10},l.a.createElement("input",{name:"name",onChange:this.handleChange,className:"inputmail",type:"text"}))),l.a.createElement(T.a,null),l.a.createElement(s.o,{style:{marginTop:"5px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," Message ")),l.a.createElement(s.c,{sm:10},l.a.createElement("textarea",{rows:"10",name:"message",onChange:this.handleChange,className:"textareamail",type:"text"}))),l.a.createElement(T.a,{style:{marginTop:"15px"}}),l.a.createElement(s.b,{color:"primary"},"Envoyer")))))))}}]),t}(n.Component),Wt=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Vendeur?coddos=SOPIA&BDsql=PSSOPIA").then((function(t){return e({type:"VALTIMBRE_SELECT",payload:t.data})}))}},Pt={year:"numeric",month:"numeric",day:"numeric"},zt=new Date;zt.setDate(zt.getDate());var Vt=zt.toISOString().substr(0,10),Ut=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/BCDVCLIs/".concat(e.target.value,"?type=BC")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/BCDVCLIs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=BC")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/BCDVCLIs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=BC")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,getBCByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:Vt,firstdate:Vt,seconddate:Vt,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBC(),this.props.SelectValTimbre()}},{key:"render",value:function(){var e=this,t=this.state,a=t.bcid,n=t.datebc,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.rem,v=t.annuler,x=t.catfisc,C=t.sumqt,S=t.taurem,k=t.valtimbree;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"bc-icon"},l.a.createElement("i",{class:"fas fa-clipboard-list"}," Bon de commande")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 BC / Client")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BC"))))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BC")))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=BC&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBCByIdModalShow:!0,bcid:t.numfac,datebc:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Pt))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=BC&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBCByIdModalShow:!0,bcid:t.numfac,datebc:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Pt))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.props.bcs.bcs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=BC&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBCByIdModalShow:!0,bcid:t.numfac,datebc:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Pt))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))))}))))),l.a.createElement(it,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})},valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}),l.a.createElement(qt,{show:this.state.getBCByIdModalShow,onHide:function(){return e.setState({getBCByIdModalShow:!1})},bcid:a,datebc:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,rem:y,tabtab:this.state.tabtab,annuler:v,sumqt:C,taurem:S,catfisc:x,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)})),valtimbree:k}))}}]),t}(n.Component);var Gt=Object(w.b)((function(e){return{bcs:e.bcs,SearchingResult:e.SearchingReducer,valtimbres:e.valtimbres}}),(function(e){return{SelectBC:function(){return e(Be())},SelectValTimbre:function(){return e(Wt())}}}))(Ut),_t=(n.Component,a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,netnetapayer:m}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,netnetapayer:m})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",t.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",t.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.totalht).toFixed(2))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled,e.state.netnetapayer),e.props.onHide()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component));var Qt=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(_t),Kt=(a(246),function(){return function(e){I.a.get("http://192.168.1.100:81/api/BCDVCLIs?type=DV").then((function(t){return e({type:"USER_SELECTED",payload:t.data})}))}}),Yt=(a(59),new Date);Yt.setDate(Yt.getDate());var Xt=Yt.toISOString().substr(0,10),Jt=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e,t,n,l,r,c,i,o,s,m){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s,netnetapayer:m})},a.handleSubmit=function(e){e.preventDefault(),a.setState({openActionModal:!0})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.enregistrer=function(e){e.preventDefault(),a.state.tab.map((function(t,n){for(var l=0;l<a.state.tab.length;l++)fetch("http://192.168.1.100:81/api/LigBCDV/{ID}?numfac=".concat(e.target.numfac.value,"&typfac=DV&numlig=").concat(n,"&codart=").concat(t.codearticle,"&quantite=").concat(t.qte,"&fodart=0&desart=").concat(t.des,"&datfac=").concat(e.target.datfac.value,"&priuni=").concat(t.puht,"&remise=").concat(t.remisea,"&unite").concat(t.unite,"&codtva=3&tautva=").concat(t.tva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/BCDVCLIs?numfac=".concat(e.target.numfac.value,"&typfac=DV&taurem=").concat(e.target.remise.value,"&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&catfisc=").concat(e.target.categoriefiscale.value,"&datfac=").concat(e.target.datfac.value,"&timbre=").concat(a.state.showTimbre,"&ForfaitCli=").concat(a.state.showForfitaire,"&vendeur=").concat(a.state.username,"&valtimbre=").concat(a.state.valtimbre),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.hide(),a.props.SelectUser(),fetch("http://192.168.1.100:81/api/LigBCDV?FAC=".concat(a.props.numfac.numfac.map((function(e){return parseInt(e.valeur)})),"&typfacc=DV"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetNumFacDevis(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=DV2&valeur=".concat(parseInt(e.target.numfac.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))};var n=localStorage.getItem("username");return a.state={defaultdate:Xt,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totalputtcnet:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,btnEnable:!1,btnEnabled:!1,gilad:!0,cemail:"",openActionModal:!1,snackbaropen:!1,snackbarmsg:",",codart:"",quantite:0,desart:"",priuni:"",remise:0,tautva:0,fodart:!1,numfacc:0,nu:0,artligs:[],rechs:[],username:n,valtimbre:0,netnetapayer:0,propsvaltimbre:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.GetNumFacDevis(),this.props.SelectValTimbre(),this.setState({propsvaltimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dvnumfac,t.dvraisoc,t.rem);t.clientmail;return l.a.createElement("div",null,l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:4},this.props.numfac.numfac.map((function(e){return l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 Devis",margin:"normal",value:parseInt(e.valeur),fullWidth:!0,name:"numfac",disabled:!0}))}))),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",defaultValue:this.state.defaultdate}))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.state.propsvaltimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.state.propsvaltimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}}))),this.state.gilad?l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))):l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Cat Fiscale",margin:"normal",fullWidth:!0,name:"categoriefiscale",value:this.state.categoriefiscale,disabled:!0})),l.a.createElement(s.c,{sm:2},"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cat Fiscale"," ")),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",value:this.state.remiseg,onChange:this.remiseglobalChange}))))),l.a.createElement("div",null),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(s.c,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"rgb(2, 15, 100)",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null)))))))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("span",null,e.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",e.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",e.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.totalht).toFixed(2))))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtbrut).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.sumremisearticle).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totaltva).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.valtimbre).toFixed(3)))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(s.c,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(s.c,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(s.c,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtnet).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.remiseglobal).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.netapayer).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.state.netnetapayer).toFixed(3)))))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:5}),l.a.createElement(s.c,{sm:3}),l.a.createElement(s.c,{sm:4},0===this.state.totalqte?l.a.createElement(me.a,{variant:"contained",disabled:!0,style:{marginTop:"20px",width:"100%"}},"Enregistrer tous"):l.a.createElement(me.a,{variant:"contained",style:{marginTop:"20px",width:"100%",color:"white",backgroundColor:"#020F64"},type:"submit"},"Enregistrer tous")))),l.a.createElement(Qt,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},numfaccc:this.props.numfac.numfac.map((function(e){return parseInt(e.valeur)})),dateee:this.state.defaultdate,rem:a,valtimbre:this.state.valtimbre}))}}]),t}(n.Component);var $t=Object(w.b)((function(e){return{clients:e.clients,numfac:e.numfac,articles:e.articles,valtimbres:e.valtimbres}}),(function(e){return{SelectClient:function(){return e(O())},GetNumFacDevis:function(){return e(ze())},SelectArticle:function(){return e(ke())},SelectUser:function(){return e(Kt())},SelectValTimbre:function(){return e(Wt())}}}))(Jt),Zt=new Date;Zt.setDate(Zt.getDate());var ea=Zt.toISOString().substr(0,10),ta=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(e){a.setState({snackbaropen:!1})},a.state={snackbaropen:!1,snacckbarmsg:"",defaultdate:ea},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.snackbaropen,autoHideDuration:3e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snacckbarmsg," "),action:[l.a.createElement(Me.a,{key:"close","arial-label":"Close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Devis"))),l.a.createElement(ye.a.Body,null,l.a.createElement($t,{valtimbre:this.props.valtimbre,hide:function(){return e.props.onHide()},valtimbree:this.props.valtimbree}))))}}]),t}(n.Component),aa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={addModalShow1:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow1:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter devis"))),l.a.createElement("br",null),l.a.createElement(ta,{show:this.state.addModalShow1,onHide:function(){return e.setState({addModalShow1:!1})},valtimbre:this.props.valtimbre,valtimbree:this.props.valtimbree}))}}]),t}(n.Component),na=a(177),la=a.n(na),ra=a(95),ca=a.n(ra),ia=a(471),oa=(a(439),a(440),a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.qteHandler=function(e){a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"}),console.log(a.state.totalqte)},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:a.props.testt,gilad:!0,btnEnabled:!1,totalqte:a.props.totalqtee,sumremisearticle:0,totalhtbrut:0,totaltva:a.props.tvaaa,totalhtnet:0,remiseglobal:0,netapayer:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},"Liste des articles ",l.a.createElement("b",null,this.props.numDeviss))),l.a.createElement(ye.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(s.i,null,"Chercher article par :"),l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Code article",margin:"normal",fullWidth:!0}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"D\xe9signation article",margin:"normal",fullWidth:!0}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:4},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",disabled:!0,type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"0px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,disabled:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:this.state.totalht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:this.state.puttcnet,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement(s.i,null," Fodec "),"A"===this.state.faudec?l.a.createElement(ia.a,{defaultChecked:!0,value:"secondary",color:"primary",inputProps:{"aria-label":"secondary checkbox"}}):l.a.createElement(s.i,null,l.a.createElement(ia.a,{disabled:!0,value:"disabled",inputProps:{"aria-label":"disabled checkbox"}}))))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(s.b,{disabled:!0,style:{width:"250px"},color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(s.b,{style:{width:"250px"},color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tab28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px",textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Article"),l.a.createElement("th",null,"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"Unit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Fodec"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.codearticle),l.a.createElement("td",null,t.des),l.a.createElement("td",null,t.qte),l.a.createElement("td",null,t.unite),l.a.createElement("td",null,t.puht),l.a.createElement("td",null,"A"===t.faudec?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,t.remisea),l.a.createElement("td",null,t.tva),l.a.createElement("td",null,t.puttcnet),l.a.createElement("td",null,t.totalht),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(s.b,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white"},onClick:function(){e.props.onHide()}},"Enregistrer"):l.a.createElement(s.b,{disabled:!0,variant:"contained"},"Enregistrer"))))}}]),t}(n.Component));var sa=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(oa),ma=[{icon:l.a.createElement(ft.a,null),name:"Imprimer"},{icon:l.a.createElement(ca.a,null),name:"Mail"},{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],ua=(n.Component,function(){return function(e){I.a.get("http://192.168.1.100:81/api/LigBCDV?type=DV").then((function(t){return e({type:"DEVIS_LIG_SELECT",payload:t.data})}))}}),da=(a(59),new Date);da.setDate(da.getDate());var pa=da.toISOString().substr(0,10),ha=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).datHandler=function(e){a.setState({datebcc:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clickeda:!0})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechsc:e,clicked:!0})}))},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.modifiermodification=function(e){var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:a.state.remisea,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,changeButton:!1}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:e.target.remisea.value,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.sameTable=function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=DV&numfac=".concat(a.props.numfacc)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e})}))},a.qteHandler=function(e){a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.deleteRowMod=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,btnEnabled:!0})},a.enregistrer=function(){fetch("http://192.168.1.100:81/api/BCDVCLIs?numfac=".concat(a.props.numfacc,"&typfac=DV&datfac=").concat(a.state.datebcc,"&codcli=").concat(a.state.codeclient,"&raisoc=").concat(a.state.raisonsocial,"&taurem=").concat(a.state.remiseg,"&catfisc=").concat(a.state.categoriefiscale,"&timbre=").concat(a.props.droitdetimbre,"&valtimbre=0&ForfaitCli=").concat(a.props.avanceimpot,"&vendeur=").concat(a.state.username),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),fetch("http://192.168.1.100:81/api/LigBCDV/".concat(a.props.numfacc,"?typfacc=DV"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.state.tab.map((function(e,t){for(var n=0;n<a.state.tab.length;n++)fetch("http://192.168.1.100:81/api/LigBCDV/{ID}?numfac=".concat(a.props.numfacc,"&typfac=DV&numlig=").concat(t+10,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.props.datfac,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=3&tautva=").concat(e.tautva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({enrsnackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/LigBCDV?FAC=".concat(a.props.numfacc,"&typfacc=DV"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}))};var n=localStorage.getItem("username");return a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,snackbarmsg:",",numlig:0,artligs:[],numligs:[],defaultdate:pa,shown:!0,openEditModal:!1,giladd:!0,rechs:[],rechsc:[],changeButton:!1,remiseg:0,raisonsocial:"",codeclient:"",categoriefiscale:"",datebcc:"",username:n,clicked:!1,clickeda:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle(),this.sameTable(),this.props.SelectClient(),this.setState({remiseg:this.props.taurem,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,categoriefiscale:this.props.catfisc,datebcc:new Date(this.props.datfac).toISOString().substr(0,10)})}},{key:"render",value:function(){var e=this,t=this.state;t.quantt,t.remiss,t.artid,t.totalhtt,t.puttcnett,t.numligg,t.numfacccc,t.prixunix;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.enrsnackbaropen,autoHideDuration:2e3,onClose:this.enrsnackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.enrsnackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Devis \u2116 ",this.props.numfacc))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,{style:{marginBottom:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher client par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.giladd,onChange:this.handleChange("giladd"),value:"giladd",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code client"))))),this.state.giladd?l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}})))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0,InputLabelProps:{shrink:!0}}))),l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",InputLabelProps:{shrink:!0},onChange:this.remiseglobalChange,value:this.state.remiseg})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",onChange:this.datHandler,value:this.state.datebcc,InputLabelProps:{shrink:!0}}))))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"Code Article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:0,remisea:0,tva:0,faudec:"N"})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0})),l.a.createElement(s.g,null,this.state.numligs.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"numlig",value:e.Column1+1,name:"numligg",fullWidth:!0,disabled:!0,style:{display:"none"}})})))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),this.state.changeButton?l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"320px"},variant:"contained",color:"primary",onClick:function(){e.modifiermodification()}},"Enregistrer les modifications")):""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{fontSize:"12px",textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"40%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"Puttcnet"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"40%"}},t.desart),l.a.createElement("td",null,l.a.createElement("span",null,t.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Modifier cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){e.setState({codearticle:t.codart,des:t.desart,unite:t.unite,puht:t.priuni,remisea:t.remise,tva:t.tautva,faudec:t.typfodec,qte:t.quantite,changeButton:!0}),e.deleteRowMod(a)}})))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.enregistrer(),e.props.onHide(),e.props.onHide01(),window.alert("Modification enregistr\xe9"),e.props.SelectUser()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component);var Ea=Object(w.b)((function(e){return{articles:e.articles,clients:e.clients}}),(function(e){return{SelectArticle:function(){return e(ke())},SelectUser:function(){return e(Kt())},SelectClient:function(){return e(O())}}}))(ha),ba=[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],fa={weekday:"short",year:"numeric",month:"short",day:"numeric"},ga=function(e){function t(e){var a,n;return Object(f.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).annuler=function(){"0"===n.props.annuler?fetch("http://192.168.1.100:81/api/BCDVCLIs?idd=".concat(n.props.devisid,"&typfaccs=DV"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({snackbaropen:!0,snackbarmsg:e}),n.props.onHide(),n.props.SelectUser()})):window.alert("Bon de livraison d\xe9ja annul\xe9e")},n.imprimer=function(){window.alert("imprimer")},n.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer le Devis?")&&(fetch("http://192.168.1.100:81/api/LigBCDV/".concat(n.props.devisid,"?typfacc=DV"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://192.168.1.100:81/api/BCDVCLIs/".concat(n.props.devisid,"?typfacc=DV"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n.props.onHide(),n.props.SelectUser(),console.log(e),n.setState({snackbaropen:!0,snackbarmsg:e})})))},n.nonsupprimer=function(){window.alert("Vous devez annuler ce devis pour que vous puissiez le supprimer")},n.openModifier=function(){n.setState({openModifierModal:!0})},n.handleOpen=function(){n.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(n.props.client)).then((function(e){return e.json()})).then((function(e){return n.setState({clientimp:e})}))},n.handleClose=function(){n.setState({open:!1})},n.snackbarClose=function(e){n.setState({snackbaropen:!1})},n.snackbarClosesup=function(e){n.setState({snackbaropensup:!1})},n.snackbarClosenodel=function(e){n.setState({snackbaropennodel:!1})},n.state=(a={snackbaropen:!1,snacckbarmsg:"",totalqte:n.props.totalqteee,totalq:0,newtable:[],open:!1,hidden:!1,openModifierModal:!1,artligs:[],show:!1},Object(Oe.a)(a,"snackbaropen",!1),Object(Oe.a)(a,"snackbaropensup",!1),Object(Oe.a)(a,"snackbaropennodel",!1),Object(Oe.a)(a,"snackbarmsg",","),Object(Oe.a)(a,"sumsttc",[]),Object(Oe.a)(a,"ttt",0),Object(Oe.a)(a,"clientimp",[]),a),n}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectDevisLig(),this.props.SelectUser(),this.props.SelectClient()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropensup,autoHideDuration:2e3,onClose:this.snackbarClosesup,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClosesup},"x")]}),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropennodel,autoHideDuration:4e3,onClose:this.snackbarClosenodel},l.a.createElement(Je.a,{onClose:this.snackbarClosenodel,severity:"error"},"Vous devez l'annuler d'abord pour le supprimer")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#08052B"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails devis client"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h5",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 Devis")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.devisid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h5",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date Devis")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datedevis).toLocaleDateString("fr",fa))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h5",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:5},l.a.createElement(ue.a,{variant:"h5",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabd28"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"40%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"40%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbree).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbree)).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-20px",right:"10px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},ba.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&"1"===e.props.annuler&&e.supprimer(),"Supprimer"==t.name&&"0"===e.props.annuler&&e.nonsupprimer(),"Annuler"==t.name&&e.annuler()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))),l.a.createElement(Ea,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},numfacc:this.props.devisid,datfac:this.props.datedevis,onHide01:this.props.onHide,taurem:this.props.taurem,catfisc:this.props.catfisc,client:this.props.client,raisonsociale:this.props.raisonsociale,droitdetimbre:this.props.droitdetimbre,avanceimpot:this.props.avanceimpot})),l.a.createElement(ye.a.Footer,null)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Devis \u2116 ",this.props.devisid," ","------------------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"150px"}},"Date:"," ",new Date(this.props.datedevis).toLocaleDateString("fr",fa))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Client : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.codtva?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.codtva)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"620px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Timbre fiscal:"),l.a.createElement("td",null,Number(this.props.valtimbree).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbree)).toFixed(3)," ")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var ya=Object(w.b)((function(e){return{ligs:e.ligs,clients:e.clients}}),(function(e){return{SelectDevisLig:function(){return e(ua())},SelectUser:function(){return e(Kt())},SelectClient:function(){return e(O())}}}))(ga),va={year:"numeric",month:"numeric",day:"numeric"},xa=new Date;xa.setDate(xa.getDate());var Ca=xa.toISOString().substr(0,10),Sa=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/BCDVCLIs/".concat(e.target.value,"?type=DV")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/BCDVCLIs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=DV")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/BCDVCLIs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=DV")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.editModalClose=function(){return a.setState({editModalShow:!1})};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={editModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:Ca,firstdate:Ca,seconddate:Ca,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectUser(),this.props.SelectValTimbre()}},{key:"render",value:function(){var e=this,t=this.state,a=t.devisid,n=t.datedevis,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.annuler,v=t.sumqt,x=t.catfisc,C=t.taurem,S=t.valtimbree;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"page-icon"},l.a.createElement("i",{class:"fas fa-tasks"}," Devis client")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 DV / Client")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement(aa,null))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement(aa,{valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))})))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 DV"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Social"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=DV&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({editModalShow:!0,devisid:t.numfac,datedevis:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",va))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 DV"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Social"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=DV&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({editModalShow:!0,devisid:t.numfac,datedevis:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",va))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):l.a.createElement("div",{className:"tabd"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 DV"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.props.devis.devis.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBCDV?type=DV&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({editModalShow:!0,devisid:t.numfac,datedevis:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",va))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))))}))))),l.a.createElement("br",null),l.a.createElement(ya,{show:this.state.editModalShow,onHide:this.editModalClose,devisid:a,datedevis:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,cod:a,annuler:y,tabtab:this.state.tabtab,sumqt:v,taurem:C,catfisc:x,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)})),valtimbree:S}))}}]),t}(n.Component);var ka=Object(w.b)((function(e){return{devis:e.devis,valtimbres:e.valtimbres}}),(function(e){return{SelectUser:function(){return e(Kt())},SelectValTimbre:function(){return e(Wt())}}}))(Sa),Ta=[{title:"Code",className:""},{title:"D\xe9signation",className:"big-part"},{title:"Unit\xe9",className:"medium-part"},{title:"T.V.A (%)",className:""},{title:"PU HT",className:""}],wa=[{title:"Code",className:""},{title:"Raison Sociale",className:"medium-part"},{title:"Adresse",className:"big-part"},{title:"Solde Facture",className:""},{title:"Solde Global",className:""}],ja=[{id:0,title:"Vente",submenu:[{id:0,title:"Devis",icon:l.a.createElement("i",{className:"fas fa-tasks"})},{id:1,title:"Bon de commande",icon:l.a.createElement("i",{className:"fas fa-clipboard-list"})},{id:2,title:"Bon de Livraison",icon:l.a.createElement("i",{className:"fas fa-list-alt"})},{id:3,title:"Facture",icon:l.a.createElement("i",{className:"fas fa-file-invoice-dollar"})}],icon:l.a.createElement("i",{class:"fas fa-money-check-alt"}),isOpen:!1,tabsData:[]},{id:1,title:"Stock",submenu:[{id:0,title:"Fiche Article",icon:l.a.createElement("i",{className:"fas fa-cube"})},{id:1,title:"Bon entree",icon:l.a.createElement("i",{class:"fa fa-share","aria-hidden":"true"})},{id:1,title:"Bon de sortie",icon:l.a.createElement("i",{class:"fa fa-reply","aria-hidden":"true"})}],icon:l.a.createElement("i",{class:"fas fa-money-check-alt"}),isOpen:!1,tabsData:[]},{id:2,title:"Suivi Banque",submenu:[{id:0,title:"Reglement",icon:l.a.createElement("i",{className:"fab fa-dashcube"})}],icon:l.a.createElement("i",{class:"fas fa-money-check-alt"}),isOpen:!1,tabsData:[]},{id:3,title:"Parametres",submenu:[{id:0,title:"Nomenclature",icon:l.a.createElement("i",{class:"far fa-plus-square"})}],icon:l.a.createElement("i",{class:"far fa-plus-square"}),isOpen:!1,tabsData:[]}],Ia=(l.a.createElement("i",{className:"fas fa-print",style:{fontSize:"20px"}}),l.a.createElement(yt.a,null),l.a.createElement("i",{className:"fas fa-trash-alt",style:{fontSize:"20px"}}),l.a.createElement("i",{className:"fas fa-clipboard-list",style:{fontSize:"20px"}}),l.a.createElement("i",{class:"fas fa-list-ul",style:{fontSize:"20px"}}),l.a.createElement("i",{class:"fas fa-list-ol",style:{fontSize:"20px"}}),l.a.createElement("i",{className:"fas fa-calculator",style:{fontSize:"20px"}}),l.a.createElement("i",{className:"fas fa-shopping-cart",style:{fontSize:"20px"}}),l.a.createElement("i",{class:"far fa-plus-square",style:{fontSize:"20px"}}),l.a.createElement(yt.a,null),l.a.createElement("i",{className:"fas fa-trash-alt",style:{fontSize:"20px"}}),l.a.createElement("i",{className:"fas fa-cube",style:{fontSize:"20px"}}),l.a.createElement("i",{class:"fas fa-list-ul",style:{fontSize:"20px"}}),l.a.createElement("i",{class:"fas fa-list-ol",style:{fontSize:"20px"}}),l.a.createElement("i",{className:"fas fa-tasks",style:{fontSize:"20px"}}),function(){return function(e){e({type:"GET_CLIENTS_HEADER",payload:wa})}}),Na=(a(441),function(){return function(e){I.a.get("https://jsonplaceholder.typicode.com/todos").then((function(t){return e({type:"TEST_SELECT",payload:t.data})}))}}),Oa=a(442),Ba=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Codcli").then((function(t){return e({type:"GET_CODCLI",payload:t.data})}))}},Aa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.catHandler=function(e){a.setState({categoriefiscale:e.target.value})},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/CLIENTs?codcli=".concat(e.target.codcli.value,"&raisoc=").concat(e.target.raisoc.value,"&tel1=").concat(e.target.tel1.value,"&tel2=").concat(e.target.tel2.value,"&passager=").concat(e.target.passager.value,"&email=").concat(e.target.emailcli.value,"&adr=").concat(e.target.adressecli.value,"&sitweb=").concat(e.target.sitewebcli.value,"&cin=").concat(e.target.cincli.value,"&ville=").concat(e.target.villecli.value,"&cp=").concat(e.target.cp.value,"&codtva=").concat(e.target.identcli.value,"&compte=").concat(e.target.fodeccli.value,"&timbre=").concat(e.target.timbre.value,"&NAR=").concat(e.target.soustraitant.value,"&RC=").concat(e.target.contactcli.value,"&CodDep=").concat(e.target.impotcli.value,"&catfisc=").concat(e.target.catfisc.value,"&RIB2=").concat(e.target.comptable.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectClient(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetCodcli(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.state={gilad:0,timbre:0,soustraitant:0,snackbaropen:!1,snackbarmsg:",",tablecat:[{code:"0"},{code:"1"},{code:"2"},{code:"3"},{code:"4"},{code:"5"},{code:"6"}],categoriefiscale:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.GetCodcli()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Client"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,this.props.codclis.codclis.map((function(e){return l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code Client",margin:"dense",variant:"outlined",fullWidth:!0,name:"codcli",value:e.Column1+1,disabled:!0})})))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"10px"}},l.a.createElement(We.a,{name:"passager",color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:this.state.gilad}),"Passager")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Raison Sociale",margin:"dense",variant:"outlined",fullWidth:!0,name:"raisoc"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"CIN",margin:"dense",variant:"outlined",fullWidth:!0,name:"cincli"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Email",margin:"dense",variant:"outlined",fullWidth:!0,name:"emailcli"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Adresse",margin:"dense",variant:"outlined",fullWidth:!0,name:"adressecli"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Ville",margin:"dense",variant:"outlined",fullWidth:!0,name:"villecli"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"Code Postal",margin:"dense",variant:"outlined",fullWidth:!0,name:"cp"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"T\xe9l\xe9phone 1",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel1"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"T\xe9l\xe9phone 2",type:"number",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel2"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"A Contacter",margin:"dense",variant:"outlined",fullWidth:!0,name:"contactcli"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Site Web",margin:"dense",variant:"outlined",fullWidth:!0,name:"sitewebcli"}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Identifiant unique",margin:"dense",variant:"outlined",fullWidth:!0,name:"identcli",required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Autre Impots",margin:"dense",variant:"outlined",fullWidth:!0,name:"impotcli"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Taux Fodec",margin:"dense",variant:"outlined",fullWidth:!0,name:"fodeccli"}))),l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Comptable",margin:"dense",variant:"outlined",fullWidth:!0,name:"comptable"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,{controlId:"catfisc"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Categorie Fisc",margin:"dense",variant:"outlined",fullWidth:!0,name:"catfisc",required:!0,onChange:this.catHandler},this.state.tablecat.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.code)}))))),l.a.createElement(s.c,null,"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Cat Fiscale"," "))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"timbre",color:"primary",checked:this.state.timbre,onChange:this.handleChange("timbre"),value:this.state.timbre}),"Timbre Fiscale")))),l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"soustraitant",color:"primary",checked:this.state.soustraitant,onChange:this.handleChange("soustraitant"),value:this.state.soustraitant}),"Sous Traitant")))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},l.a.createElement(s.b,{color:"primary",style:{width:"100%"}},"Enregistrer")))))))}}]),t}(n.Component);var Da=Object(w.b)((function(e){return{codclis:e.codclis}}),(function(e){return{GetCodcli:function(){return e(Ba())},SelectClient:function(){e(O())}}}))(Aa),Fa=a(775),qa=a(199),Ha=a.n(qa),La=a(286),Ra=a.n(La),Ma=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.catHandler=function(e){a.setState({categoriefiscale:e.target.value})},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/CLIENTs?codcli=".concat(e.target.codcli.value,"&raisoc=").concat(e.target.raisoc.value,"&tel1=").concat(e.target.tel1.value,"&tel2=").concat(e.target.tel2.value,"&passager=").concat(e.target.passager.value,"&email=").concat(e.target.emailcli.value,"&adr=").concat(e.target.adressecli.value,"&sitweb=").concat(e.target.sitewebcli.value,"&cin=").concat(e.target.cincli.value,"&ville=").concat(e.target.villecli.value,"&cp=").concat(e.target.cp.value,"&codtva=").concat(e.target.identcli.value,"&compte=").concat(e.target.fodeccli.value,"&timbre=").concat(e.target.timbre.value,"&NAR=").concat(e.target.soustraitant.value,"&RC=").concat(e.target.contactcli.value,"&CodDep=").concat(e.target.impotcli.value,"&RIB2=").concat(e.target.comptable.value,"&catfisc=").concat(e.target.catfisc.value),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.SelectClient(),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.state={gilad:a.props.passager,timbre:a.props.timbre,soustraitant:a.props.soustraitant,snackbaropen:!1,snackbarmsg:",",tablecat:[{code:"0"},{code:"1"},{code:"2"},{code:"3"},{code:"4"},{code:"5"},{code:"6"}],categoriefiscale:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.setState({categoriefiscale:this.props.categoriefiscale})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:6e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Client"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code Client",margin:"dense",variant:"outlined",fullWidth:!0,name:"codcli",defaultValue:this.props.codeclient,disabled:!0}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"10px"}},l.a.createElement(We.a,{name:"passager",color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:this.state.gilad}),"Passager")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Raison Sociale",margin:"dense",variant:"outlined",fullWidth:!0,name:"raisoc",defaultValue:this.props.raisoc}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"CIN",margin:"dense",variant:"outlined",fullWidth:!0,name:"cincli",defaultValue:this.props.cin})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Email",margin:"dense",variant:"outlined",fullWidth:!0,name:"emailcli",defaultValue:this.props.email}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Adresse",margin:"dense",variant:"outlined",fullWidth:!0,name:"adressecli",defaultValue:this.props.adresse})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Ville",margin:"dense",variant:"outlined",fullWidth:!0,name:"villecli",defaultValue:this.props.ville}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code Postal",margin:"dense",variant:"outlined",fullWidth:!0,name:"cp",defaultValue:this.props.codepostal})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"T\xe9l\xe9phone 1",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel1",defaultValue:this.props.tel1}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"T\xe9l\xe9phone 2",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel2",defaultValue:this.props.tel2})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"A Contacter",margin:"dense",variant:"outlined",fullWidth:!0,name:"contactcli",defaultValue:this.props.acontacter}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Site Web",margin:"dense",variant:"outlined",fullWidth:!0,name:"sitewebcli",defaultValue:this.props.siteweb}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Identifiant unique",margin:"dense",variant:"outlined",fullWidth:!0,name:"identcli",defaultValue:this.props.identifiant})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Autre Impots",margin:"dense",variant:"outlined",fullWidth:!0,name:"impotcli",defaultValue:this.props.impot})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Taux Fodec",margin:"dense",variant:"outlined",fullWidth:!0,name:"fodeccli",defaultValue:this.props.tauxfodec}))),l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Compte comptable",margin:"dense",variant:"outlined",fullWidth:!0,name:"comptable",defaultValue:this.props.comptable})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,{controlId:"catfisc"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Categorie Fisc",margin:"dense",variant:"outlined",fullWidth:!0,name:"catfisc",required:!0,defaultValue:this.props.categoriefiscale,onChange:this.catHandler},this.state.tablecat.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.code)}))))),l.a.createElement(s.c,null,"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"20px",color:"#007bff"}},"Cat Fiscale"," "))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"timbre",color:"primary",checked:this.state.timbre,onChange:this.handleChange("timbre"),value:this.state.timbre}),"Timbre Fiscale")))),l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"soustraitant",color:"primary",checked:this.state.soustraitant,onChange:this.handleChange("soustraitant"),value:this.state.soustraitant}),"Sous Traitant")))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},l.a.createElement(s.b,{color:"primary",style:{width:"100%"}},"Enregistrer")))))))}}]),t}(n.Component);var Wa=Object(w.b)((function(e){return{}}),(function(e){return{SelectClient:function(){e(O())}}}))(Ma),Pa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.state={name:"",email:"",message:"",snackbaropen:!1,sent:!1},a.handleChange=a.handleChange.bind(Object(Rt.a)(a)),a.submitHandler=a.submitHandler.bind(Object(Rt.a)(a)),a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"submitHandler",value:function(e){var t,a,n,l;return Lt.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=this.state,a=t.name,n=t.email,l=t.message,r.next=4,Lt.a.awrap(I.a.post("./api/form",{name:a,email:n,message:l}));case 4:r.sent;case 5:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{onClose:this.snackbarClose,severity:"success"},"Email envoy\xe9 avec succ\xe9es")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"#F2F3F3",color:"#222",fontSize:"16px"}},l.a.createElement("b",null,"Nouveau message")),l.a.createElement(ye.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement(s.f,{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," \xc0 ")),l.a.createElement(s.c,{sm:10},l.a.createElement("input",{name:"email",defaultValue:this.props.email,onChange:this.handleChange,className:"inputmail",type:"text"}))),l.a.createElement(T.a,null),l.a.createElement(s.o,{style:{marginTop:"5px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," Objet ")),l.a.createElement(s.c,{sm:10},l.a.createElement("input",{name:"name",onChange:this.handleChange,className:"inputmail",type:"text"}))),l.a.createElement(T.a,null),l.a.createElement(s.o,{style:{marginTop:"5px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.i,{style:{color:"#A3A4A4"}}," Message ")),l.a.createElement(s.c,{sm:10},l.a.createElement("textarea",{rows:"10",name:"message",onChange:this.handleChange,className:"textareamail",type:"text"}))),l.a.createElement(T.a,{style:{marginTop:"15px"}}),l.a.createElement(s.b,{onClick:function(){e.setState({snackbaropen:!0}),e.props.onHide()},color:"primary"},"Envoyer")))))))}}]),t}(n.Component),za=[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],Va=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){a.setState({openMailModal:!0})},a.openModifier=function(){a.setState({openModifierModal:!0})},a.nomail=function(){a.setState({snackbaropen:!0})},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarClosee=function(e){a.setState({snackbaropenn:!1})},a.call1=function(){fetch("http://localhost/couplagetel/calling.php?exten=".concat(a.props.tel1,"&number=").concat(a.props.tel1),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return window.alert(e)}))},a.call2=function(){fetch("http://localhost/couplagetel/calling.php?exten=".concat(a.props.tel2,"&number=").concat(a.props.tel2),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return window.alert(e)}))},a.state={open:!1,hidden:!1,openModifierModal:!1,openMailModal:!1,snackbaropen:!1,snackbaropenn:!1,snackbarmsg:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"deleteclient",value:function(e){var t=this;window.confirm("\xeates-vous s\xfbr de vouloir supprimer ce client?")&&fetch("http://192.168.1.100:81/api/CLIENTs/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({snackbaropenn:!0,snackbarmsg:e}),t.props.onHide(),console.log(e),window.location.reload()}),(function(e){t.setState({snackbaropenn:!0,snackbarmsg:"failed"})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropenn,autoHideDuration:3e3,onClose:this.snackbarClosee,message:this.state.snackbarmsg,action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClosee},"x")]}),l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Fa.a,{onClose:this.snackbarClose,variant:"danger"},"Email non trouvable pour ce client")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Client"))),l.a.createElement(ye.a.Body,null,this.props.passager?l.a.createElement(Fa.a,{style:{width:"100%",textAlign:"center"},variant:"primary"},"Client passager"):null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("h3",null,this.props.raisoc),l.a.createElement("p",{style:{color:"gray",fontSize:"larger"}},this.props.codeclient),l.a.createElement(T.a,null),""===this.props.tel1&&""===!this.props.tel2?l.a.createElement("p",null,l.a.createElement(Bt.a,null)," ",l.a.createElement("a",{href:"tel:".concat(this.props.tel2)},this.props.tel2)):""===!this.props.tel1&&""===this.props.tel2?l.a.createElement("p",{id:"tell"},l.a.createElement(Bt.a,null)," ",l.a.createElement("a",{href:"tel:".concat(this.props.tel1)},this.props.tel1)):""===this.props.tel1&&""===this.props.tel2?l.a.createElement("p",null,l.a.createElement(Bt.a,null)," --"):l.a.createElement("p",null,l.a.createElement("a",{href:"tel:".concat(this.props.tel1)},this.props.tel1)," /"," ",l.a.createElement("a",{href:"tel:".concat(this.props.tel2)},this.props.tel2)," "),""===this.props.email?l.a.createElement("p",null,l.a.createElement(Ha.a,null)," --"):l.a.createElement("p",null,l.a.createElement(Ha.a,null)," ",l.a.createElement("a",{href:"mailto:"+this.props.email},this.props.email)),""===this.props.adresse?l.a.createElement("p",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("p",null,l.a.createElement(Nt.a,null)," ",l.a.createElement("a",{href:"https://www.google.com/maps/search/"+this.props.adresse,target:"_blank"},this.props.adresse)),""===this.props.siteweb?null:l.a.createElement("p",null,l.a.createElement(Ra.a,null)," ",this.props.siteweb," "))),l.a.createElement(C.a,{style:{marginTop:"18px"}},l.a.createElement(S.a,{sm:6},this.props.timbre?l.a.createElement(Fa.a,{style:{width:"100%"},variant:"success"},"Avec Timbre"):l.a.createElement(Fa.a,{style:{width:"100%"},variant:"danger"},"Sans Timbre")),l.a.createElement(S.a,{sm:6},this.props.soustraitant?l.a.createElement(Fa.a,{style:{width:"100%"},variant:"success"},"Avec soustraitant"):l.a.createElement(Fa.a,{style:{width:"100%"},variant:"danger"},"Sans soustraitant"))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginLeft:"10px"}},l.a.createElement(S.a,{sm:2},l.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"CIN")),l.a.createElement(S.a,{sm:3},""===this.props.cin?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray",fontSize:"12px"}},this.props.cin)),l.a.createElement(S.a,{sm:3},l.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Identifiant")),l.a.createElement(S.a,{sm:4},""===this.props.identifiant?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray",fontSize:"12px"}},this.props.identifiant))),l.a.createElement(C.a,{style:{marginLeft:"10px"}},l.a.createElement(S.a,{sm:2},l.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Ville")),l.a.createElement(S.a,{sm:3},""===this.props.ville?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray",fontSize:"12px"}},this.props.ville)),l.a.createElement(S.a,{sm:4},l.a.createElement("p",{style:{fontSize:"14px",fontWeight:"bold"}},"Code Postal")),l.a.createElement(S.a,{sm:3},""===this.props.codepostal?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray",fontSize:"12px"}},this.props.codepostal))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"0px",right:"10px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},za.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Imprimer"==t.name&&e.affiche(),""!==e.props.email&&"Mail"==t.name&&e.openMail(),""===e.props.email&&"Mail"==t.name&&e.nomail(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&e.deleteclient(e.props.codeclient)&&e.props.onHide()}})}))))),l.a.createElement(Wa,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},passager:this.props.passager,codeclient:this.props.codeclient,raisoc:this.props.raisoc,tel1:this.props.tel1,tel2:this.props.tel2,email:this.props.email,adresse:this.props.adresse,siteweb:this.props.siteweb,cin:this.props.cin,ville:this.props.ville,codepostal:this.props.codepostal,identifiant:this.props.identifiant,tauxfodec:this.props.tauxfodec,timbre:this.props.timbre,soustraitant:this.props.soustraitant,acontacter:this.props.acontacter,impot:this.props.impot,comptable:this.props.comptable,categoriefiscale:this.props.categoriefiscale}),l.a.createElement(Pa,{show:this.state.openMailModal,onHide:function(){return e.setState({openMailModal:!1})},email:this.props.email}))))}}]),t}(n.Component),Ua=function(){return function(e){I.a.get("http://192.168.1.100:81/api/fournisseurs").then((function(t){return e({type:"FOURNISSEUR_SELECT",payload:t.data})}))}},Ga=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/FOURNISSEURs?codfrs=".concat(e.target.codfrs.value,"&raisoc=").concat(e.target.raisoc.value,"&tel1=").concat(e.target.tel1.value,"&tel2=").concat(e.target.tel2.value,"&email=").concat(e.target.email.value,"&adr=").concat(e.target.adr.value,"&sitweb=").concat(e.target.sitweb.value,"&nom=").concat(e.target.nom.value,"&ville=").concat(e.target.ville.value,"&cp=").concat(e.target.cp.value,"&fax=").concat(e.target.acontacter.value,"&compte=").concat(e.target.compte.value,"&timbre=").concat(e.target.timbre.value,"&STrt=").concat(e.target.soustraitant.value,"&tauxfodec=").concat(e.target.tauxfodec.value,"&autreimp=").concat(e.target.impot.value,"&CodeTVA=").concat(e.target.identifiant.value),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectFournisseur(),a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.state={timbre:a.props.timbre,soustraitant:a.props.soustraitant,snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:6e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"#eee",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Fournisseur"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#eee"}},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code Fournisseur",margin:"dense",variant:"outlined",fullWidth:!0,name:"codfrs",defaultValue:this.props.codefournisseur}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Raison Sociale",margin:"dense",variant:"outlined",fullWidth:!0,name:"raisoc",defaultValue:this.props.raisoc}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Nom",margin:"dense",variant:"outlined",fullWidth:!0,name:"nom",defaultValue:this.props.nom})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Email",margin:"dense",variant:"outlined",fullWidth:!0,name:"email",defaultValue:this.props.email}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Adresse",margin:"dense",variant:"outlined",fullWidth:!0,name:"adr",defaultValue:this.props.adresse})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Ville",margin:"dense",variant:"outlined",fullWidth:!0,name:"ville",defaultValue:this.props.ville}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"Code Postal",margin:"dense",variant:"outlined",fullWidth:!0,name:"cp",defaultValue:this.props.codepostal})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"T\xe9l\xe9phone 1",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel1",defaultValue:this.props.tel1}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"T\xe9l\xe9phone 2",type:"number",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel2",defaultValue:this.props.tel2})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"A Contacter",margin:"dense",variant:"outlined",fullWidth:!0,name:"acontacter",defaultValue:this.props.acontacter}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Site Web",margin:"dense",variant:"outlined",fullWidth:!0,name:"sitweb",defaultValue:this.props.siteweb}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Identifiant unique",margin:"dense",variant:"outlined",fullWidth:!0,name:"identifiant",defaultValue:this.props.identifiant})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Autre Impots",margin:"dense",variant:"outlined",type:"number",fullWidth:!0,name:"impot",defaultValue:this.props.impot})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Taux Fodec",margin:"dense",type:"number",variant:"outlined",fullWidth:!0,name:"tauxfodec",defaultValue:this.props.tauxfodec})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Compte comptable",margin:"dense",variant:"outlined",fullWidth:!0,name:"compte",defaultValue:this.props.comptable})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"timbre",color:"primary",checked:this.props.timbre,onChange:this.handleChange("timbre"),value:this.state.timbre}),"Timbre Fiscale")))),l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"soustraitant",color:"primary",checked:this.props.soustraitant,onChange:this.handleChange("soustraitant"),value:this.state.soustraitant}),"Sous Traitant")))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},l.a.createElement(s.b,{color:"primary",style:{width:"100%"}},"Enregistrer"))))),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component);var _a=Object(w.b)((function(e){return{}}),(function(e){return{SelectFournisseur:function(){e(Ua())}}}))(Ga),Qa=[{icon:l.a.createElement(ca.a,null),name:"Mail"},{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],Ka=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){a.setState({openMailModal:!0})},a.openModifier=function(){a.setState({openModifierModal:!0})},a.nomail=function(){a.setState({snackbaropen:!0})},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarClosee=function(e){a.setState({snackbaropenn:!1})},a.state={open:!1,hidden:!1,openModifierModal:!1,openMailModal:!1,snackbaropen:!1,snackbaropenn:!1,snackbarmsg:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"deletefournisseur",value:function(e){var t=this;window.confirm("\xeates-vous s\xfbr de vouloir supprimer ce fournisseur?")&&fetch("http://192.168.1.100:81/api/FOURNISSEURs/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.onHide(),t.setState({snackbaropenn:!0,snackbarmsg:e}),console.log(e),window.location.reload()}),(function(e){t.setState({snackbaropenn:!0,snackbarmsg:"failed"})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropenn,autoHideDuration:3e3,onClose:this.snackbarClosee,message:this.state.snackbarmsg,action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClosee},"x")]}),l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Fa.a,{onClose:this.snackbarClose,variant:"danger"},"Email non trouvable pour ce client")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Fournisseur"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("h3",null,this.props.raisoc),l.a.createElement("p",{style:{color:"gray",fontSize:"larger"}},this.props.codefournisseur),l.a.createElement(T.a,null),""===this.props.tel1&&""===!this.props.tel2?l.a.createElement("p",null,l.a.createElement(Bt.a,null)," ",this.props.tel2):""===!this.props.tel1&&""===this.props.tel2?l.a.createElement("p",null,l.a.createElement(Bt.a,null)," ",this.props.tel1):""===this.props.tel1&&""===this.props.tel2?l.a.createElement("p",null,l.a.createElement(Bt.a,null)," --"):l.a.createElement("p",null,l.a.createElement(Bt.a,null)," ",this.props.tel1," / ",this.props.tel2),""===this.props.email?l.a.createElement("p",null,l.a.createElement(Ha.a,null)," --"):l.a.createElement("p",null,l.a.createElement(Ha.a,null)," ",this.props.email),""===this.props.adresse?l.a.createElement("p",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("p",null,l.a.createElement(Nt.a,null)," ",this.props.adresse),""===this.props.siteweb?null:l.a.createElement("p",null,l.a.createElement(Ra.a,null)," ",this.props.siteweb))),l.a.createElement(C.a,{style:{marginTop:"18px"}},l.a.createElement(S.a,{sm:6},this.props.timbre?l.a.createElement(Fa.a,{style:{width:"100%"},variant:"success"},"Avec Timbre"):l.a.createElement(Fa.a,{style:{width:"100%"},variant:"danger"},"Sans Timbre")),l.a.createElement(S.a,{sm:6},this.props.soustraitant?l.a.createElement(Fa.a,{style:{width:"100%"},variant:"success"},"Avec soustraitant"):l.a.createElement(Fa.a,{style:{width:"100%"},variant:"danger"},"Sans soustraitant"))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginLeft:"10px"}},l.a.createElement(S.a,{sm:2},l.a.createElement("b",null,"Nom")),l.a.createElement(S.a,{sm:3},""===this.props.nom?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray"}},this.props.nom)),l.a.createElement(S.a,{sm:4},l.a.createElement("b",null,"Identifiant")),l.a.createElement(S.a,{sm:3},""===this.props.identifiant?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray"}},this.props.identifiant))),l.a.createElement(C.a,{style:{marginLeft:"10px"}},l.a.createElement(S.a,{sm:2},l.a.createElement("b",null,"Ville")),l.a.createElement(S.a,{sm:3},""===this.props.ville?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray"}},this.props.ville)),l.a.createElement(S.a,{sm:4},l.a.createElement("b",null,"Code Postal")),l.a.createElement(S.a,{sm:3},""===this.props.codepostal?l.a.createElement("p",{style:{color:"gray"}},"--"):l.a.createElement("p",{style:{color:"gray"}},this.props.codepostal))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"0px",right:"10px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},Qa.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Imprimer"==t.name&&e.affiche(),""!==e.props.email&&"Mail"==t.name&&e.openMail(),""===e.props.email&&"Mail"==t.name&&e.nomail(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&e.deletefournisseur(e.props.codefournisseur)&&e.props.onHide()}})}))))),l.a.createElement(_a,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},codefournisseur:this.props.codefournisseur,raisoc:this.props.raisoc,tel1:this.props.tel1,tel2:this.props.tel2,email:this.props.email,adresse:this.props.adresse,siteweb:this.props.siteweb,cin:this.props.cin,ville:this.props.ville,codepostal:this.props.codepostal,identifiant:this.props.identifiant,tauxfodec:this.props.tauxfodec,timbre:this.props.timbre,soustraitant:this.props.soustraitant,acontacter:this.props.acontacter,impot:this.props.impot,comptable:this.props.comptable,nom:this.props.nom}),l.a.createElement(Pa,{show:this.state.openMailModal,onHide:function(){return e.setState({openMailModal:!1})},email:this.props.email}))))}}]),t}(n.Component),Ya=function(){return function(e){I.a.get("http://192.168.1.100:81/api/CodFrs").then((function(t){return e({type:"GET_CODFRS",payload:t.data})}))}},Xa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/FOURNISSEURs?codfrs=".concat(e.target.codfrs.value,"&raisoc=").concat(e.target.raisoc.value,"&tel1=").concat(e.target.tel1.value,"&tel2=").concat(e.target.tel2.value,"&email=").concat(e.target.email.value,"&adr=").concat(e.target.adr.value,"&sitweb=").concat(e.target.sitweb.value,"&nom=").concat(e.target.nom.value,"&ville=").concat(e.target.ville.value,"&cp=").concat(e.target.cp.value,"&fax=").concat(e.target.acontacter.value,"&compte=").concat(e.target.compte.value,"&timbre=").concat(e.target.timbre.value,"&STrt=").concat(e.target.soustraitant.value,"&tauxfodec=").concat(e.target.tauxfodec.value,"&autreimp=").concat(e.target.impot.value,"&CodeTVA=").concat(e.target.identifiant.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectFournisseur(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetCodfrs(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.state={timbre:0,soustraitant:0,snackbaropen:!1,snackbarmsg:",",fod:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.GetCodfrs()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:3e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Fournisseur"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,this.props.codfrss.codfrss.map((function(e){return l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code Fournisseur",margin:"dense",variant:"outlined",fullWidth:!0,name:"codfrs",value:e.Column1+1,disabled:!0})})))),l.a.createElement(s.c,{sm:6})),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Raison Sociale",margin:"dense",variant:"outlined",fullWidth:!0,name:"raisoc"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Nom",margin:"dense",variant:"outlined",fullWidth:!0,name:"nom"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Email",margin:"dense",variant:"outlined",fullWidth:!0,name:"email"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Adresse",margin:"dense",variant:"outlined",fullWidth:!0,name:"adr"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Ville",margin:"dense",variant:"outlined",fullWidth:!0,name:"ville"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"Code Postal",margin:"dense",variant:"outlined",fullWidth:!0,name:"cp"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"T\xe9l\xe9phone 1",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel1"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",type:"number",label:"T\xe9l\xe9phone 2",margin:"dense",variant:"outlined",fullWidth:!0,name:"tel2"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"A Contacter",margin:"dense",variant:"outlined",fullWidth:!0,name:"acontacter"}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Site Web",margin:"dense",variant:"outlined",fullWidth:!0,name:"sitweb"}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,{className:"card0"},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Identifiant unique",margin:"dense",variant:"outlined",fullWidth:!0,name:"identifiant"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Autre Impots",type:"number",margin:"dense",variant:"outlined",fullWidth:!0,name:"impot"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Taux Fodec",margin:"dense",type:"number",variant:"outlined",fullWidth:!0,name:"tauxfodec",defaultValue:this.state.fod})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Compte comptable",margin:"dense",variant:"outlined",fullWidth:!0,name:"compte"})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"timbre",color:"primary",checked:this.state.timbre,onChange:this.handleChange("timbre"),value:this.state.timbre}),"Timbre Fiscale")))),l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.g,null,l.a.createElement(Pe.a,{item:!0,style:{marginTop:"12px",textAlign:"center"}},l.a.createElement(We.a,{name:"soustraitant",color:"primary",checked:this.state.soustraitant,onChange:this.handleChange("soustraitant"),value:this.state.soustraitant}),"Sous Traitant")))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},l.a.createElement(s.b,{color:"primary",style:{width:"100%"}},"Enregistrer")))))))}}]),t}(n.Component);var Ja=Object(w.b)((function(e){return{codfrss:e.codfrss}}),(function(e){return{GetCodfrs:function(){return e(Ya())},SelectFournisseur:function(){e(Ua())}}}))(Xa),$a=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/fournisseurs?codfrss=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,GetByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){console.log("gettestslist component didmount"),this.props.getClientHeader(),this.props.SelectFournisseur()}},{key:"render",value:function(){var e=this,t=this.state,a=t.codefournisseur,n=t.raisoc,r=t.tel1,c=t.tel2,i=t.email,o=t.adresse,m=t.siteweb,u=t.nom,d=t.ville,p=t.codepostal,h=t.identifiant,E=t.tauxfodec,f=t.timbre,g=t.soustraitant,y=t.acontacter,v=t.impot,x=t.comptable;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("main",{className:"gestion-des-clients"},l.a.createElement("div",{className:"page-icon"},l.a.createElement("i",{className:"fas fa-shopping-cart"}," Fiche Fournisseur")),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:"9"},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:"3"},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter Fournisseur"))))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"Solde Facture"),l.a.createElement("th",null,"Solde Global"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.codfrs,onClick:function(){e.setState({GetByIdModalShow:!0,codefournisseur:t.codfrs,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,nom:t.nom,ville:t.ville,codepostal:t.cp,identifiant:t.CodeTVA,tauxfodec:t.tauxfodec,timbre:t.timbre,soustraitant:t.STrt,acontacter:t.fax,impot:t.autreimp,comptable:t.compte})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codfrs)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfac).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfacbl).toFixed(3))))}))))):l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"Solde Facture"),l.a.createElement("th",null,"Solde Global"))),l.a.createElement("tbody",null,this.props.fournisseurs.fournisseurs.map((function(t){return l.a.createElement("tr",{key:t.codfrs,onClick:function(){e.setState({GetByIdModalShow:!0,codefournisseur:t.codfrs,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,nom:t.nom,ville:t.ville,codepostal:t.cp,identifiant:t.CodeTVA,tauxfodec:t.tauxfodec,timbre:t.timbre,soustraitant:t.STrt,acontacter:t.fax,impot:t.autreimp,comptable:t.compte})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codfrs)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfac).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfacbl).toFixed(3))))}))))),l.a.createElement(Ja,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}}),l.a.createElement(Ka,{show:this.state.GetByIdModalShow,onHide:function(){return e.setState({GetByIdModalShow:!1})},codefournisseur:a,raisoc:n,tel1:r,tel2:c,email:i,adresse:o,siteweb:m,nom:u,ville:d,codepostal:p,identifiant:h,tauxfodec:E,timbre:f,soustraitant:g,acontacter:y,impot:v,comptable:x})))}}]),t}(n.Component),Za=Object(w.b)((function(e){return{DataTables:e.DataTablesReducer,SearchingResult:e.SearchingReducer,fournisseurs:e.fournisseurs}}),(function(e){return{getClientHeader:function(){e(Ia())},SelectFournisseur:function(){e(Ua())}}}))($a),en=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/CLIEntS?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,GetByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){console.log("gettestslist component didmount"),this.props.getClientHeader(),this.props.SelectClient()}},{key:"render",value:function(){var e=this,t=this.state,a=t.passager,n=t.codeclient,r=t.raisoc,c=t.tel1,i=t.tel2,o=t.email,m=t.adresse,u=t.siteweb,d=t.cin,p=t.ville,h=t.codepostal,E=t.identifiant,f=t.tauxfodec,g=t.timbre,y=t.soustraitant,v=t.acontacter,x=t.impot,C=t.comptable,S=t.categoriefiscale;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("main",{className:"gestion-des-clients"},l.a.createElement("div",{className:"page-icon"},l.a.createElement("i",{className:"fas fa-user"}," Fiche client")),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:"9"},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:"3"},l.a.createElement("div",{id:"",style:{textAlign:"center",marginLeft:"50px"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter client"))))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"Solde Facture"),l.a.createElement("th",null,"Solde Global"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.codcli,onClick:function(){e.setState({GetByIdModalShow:!0,passager:t.passager,codeclient:t.codcli,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,cin:t.cin,ville:t.ville,codepostal:t.cp,identifiant:t.codtva,tauxfodec:t.compte,timbre:t.timbre,soustraitant:t.NAR,acontacter:t.RC,impot:t.CodDep,comptable:t.RIB2,categoriefiscale:t.catfisc})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfac).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfacbl).toFixed(3))))}))))):l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"Solde Facture"),l.a.createElement("th",null,"Solde Global"))),l.a.createElement("tbody",null,this.props.clients.clients.map((function(t){return l.a.createElement("tr",{key:t.codcli,onClick:function(){e.setState({GetByIdModalShow:!0,passager:t.passager,codeclient:t.codcli,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,cin:t.cin,ville:t.ville,codepostal:t.cp,identifiant:t.codtva,tauxfodec:t.compte,timbre:t.timbre,soustraitant:t.NAR,acontacter:t.RC,impot:t.CodDep,comptable:t.RIB2,categoriefiscale:t.catfisc})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfac).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.soldfacbl).toFixed(3))))}))))),l.a.createElement(Da,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}}),l.a.createElement(Va,{show:this.state.GetByIdModalShow,onHide:function(){return e.setState({GetByIdModalShow:!1})},passager:a,codeclient:n,raisoc:r,tel1:c,tel2:i,email:o,adresse:m,siteweb:u,cin:d,ville:p,codepostal:h,identifiant:E,tauxfodec:f,timbre:g,soustraitant:y,acontacter:v,impot:x,comptable:C,categoriefiscale:S})))}}]),t}(n.Component),tn=Object(w.b)((function(e){return{DataTables:e.DataTablesReducer,tests:e.tests,SearchingResult:e.SearchingReducer,clients:e.clients}}),(function(e){return{getClientHeader:function(){e(Ia())},SelectTest:function(){e(Na())},SelectClient:function(){e(O())}}}))(en),an=(a(634),a(785)),nn=a(776),ln=a(189),rn=a.n(ln),cn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Nome?cat=FA").then((function(t){return e({type:"NOME_SELECT",payload:t.data})}))}},on=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=SF").then((function(t){return e({type:"SOUS_FAMILLE_SELECT",payload:t.data})}))}},sn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Codart").then((function(t){return e({type:"GET_CODART",payload:t.data})}))}},mn=function(e){return function(t){I.a.get("http://192.168.1.100:81/api/NOME?cat=".concat(e)).then((function(e){return t({type:"NOMENCLATURE_SELECT",payload:e.data})}))}},un=a(59),dn=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.codeabarrechange=function(e){a.setState({codeabarre:e.target.value})},a.designationchange=function(e){a.setState({designation:e.target.value})},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/ARTICLEs?codart=".concat(e.target.codart.value,"\n    &desart=").concat(e.target.desart.value,"\n    &unite=").concat(e.target.unite.value,"\n    &tautva=").concat(e.target.tautva.value,"\n    &famart=").concat(e.target.famart.value,"\n    &codbar=").concat(e.target.codbar.value,"\n    &reffrs=").concat(e.target.reffrs.value,"\n    &PUDTTC=").concat(e.target.PUDTTC.value,"\n    &typfodec=").concat(e.target.typfodec.value,"\n    &typdc=").concat(e.target.typdc.value,"\n    &PUDHT=").concat(e.target.PUDHT.value,"\n    &sousfam=").concat(e.target.sousfam.value,"\n    &TDC=").concat(e.target.TDC.value,"\n    &PURBHT=").concat(e.target.PURBHT.value,"\n    &remisefrs=").concat(e.target.remisefrs.value,"\n    &PURNHT=").concat(e.target.PURNHT.value,"\n    &PURNTTC=").concat(e.target.PURNTTC.value,"\n    &margedet=").concat(e.target.margedet.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectArticle(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetCodart(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.tvaaHandler=function(e){a.setState({tvaa:e.target.value,pudhttc:un(a.state.pudhtt*(1+e.target.value/100),3),purttc:un(a.state.purnhtnet*(1+e.target.value/100),3)})},a.brutHandler=function(e){var t=un(e.target.value*(1-a.state.remisefrs/100),3),n=un(t*(1+a.state.marged/100),3);a.setState({purbrut:Number(e.target.value).toFixed(3),purnhtnet:t,purttc:un(t*(1+a.state.tvaa/100),3),pudhtt:n,pudhttc:un(n*(1+a.state.tvaa/100),3)})},a.remisefrsHandler=function(e){var t=un(a.state.purbrut*(1-e.target.value/100),3);a.setState({remisefrs:e.target.value,purnhtnet:t,purttc:un(a.state.purbrut*(1-e.target.value/100)*(1+a.state.tvaa/100),3)})},a.margedHandler=function(e){var t=un(a.state.purnhtnet*(1+e.target.value/100),3),n=e.target.value;a.setState({marged:n,pudhtt:t,pudhttc:un(t*(1+a.state.tvaa/100),3)})},a.state={tt:"dqsd",purnhtnet:0,remisefrs:0,purbrut:0,purttc:0,tvaa:0,marged:0,pudhtt:0,pudhttc:0,tableunite:[{libele:"KG",name:"KG"},{libele:"PI",name:"PI"}],tabletva:[{code:0,label:0},{code:1,label:7},{code:2,label:10},{code:3,label:19}],van:[{code:"V",label:"Sur Vente"},{code:"A",label:"Sur Achat"},{code:"N",label:"Sans Faudec"}],unite:"",famille:"",snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectNome(),this.props.SelectSousFamille(),this.props.GetCodart(),this.props.SelectArticle(),this.props.SelectNomenclature("TV")}},{key:"render",value:function(){var e=this;return console.log("codart=",this.props.codarts.codarts.map((function(e){return e.Column1+1}))),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Article"))),l.a.createElement(ye.a.Body,null,l.a.createElement("div",null,l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,null,l.a.createElement(ce.a,null,l.a.createElement(se.a,null,l.a.createElement(s.o,{form:!0,style:{marginBottom:"0px"}},l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"codart"},this.props.codarts.codarts.map((function(e){return l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code article",margin:"dense",variant:"outlined",fullWidth:!0,name:"codart",value:parseInt(e.Column1),disabled:!0})})))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"codbar"},l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"Code \xe0 barre",margin:"dense",variant:"outlined",fullWidth:!0,name:"codbar"}))),l.a.createElement(s.c,{md:6},l.a.createElement(an.a.Group,{controlId:"desart"},l.a.createElement(A.a,{className:"card add-input",id:"standard-basic",label:"D\xe9signation",margin:"dense",variant:"outlined",fullWidth:!0,name:"desart",required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"unite"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.tableunite,getOptionLabel:function(e){return e.name},onChange:function(t,a){a?e.setState({unite:a.name}):e.setState({unite:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({className:"card add-input"},e,{label:"Unit\xe9",margin:"dense",variant:"outlined",required:!0,name:"unite",fullWidth:!0}))}}))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"famart"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.nomes.nomes,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({famille:a.code}):e.setState({famille:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({className:"card add-input"},e,{label:"Famille",margin:"dense",variant:"outlined",fullWidth:!0,name:"famart"}))}}))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"sousfam"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.sousfamilles.sousfamilles,getOptionLabel:function(t){return t.chdec==e.state.famille?t.code:""},onChange:function(t,a){a?e.setState({unite:a.name}):e.setState({unite:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({className:"card add-input"},e,{label:"Sous Famille",margin:"dense",variant:"outlined",fullWidth:!0,name:"sousfam"}))}}))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"reffrs"},l.a.createElement(A.a,{className:"card add-input",type:"text",label:"R\xe9f Fournisseur",margin:"dense",variant:"outlined",fullWidth:!0,name:"reffrs"})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"codtva"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.nomenclatures.nomenclatures,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({tvaa:a.lib,pudhttc:un(e.state.pudhtt*(1+parseInt(a.lib)/100),3),purttc:un(e.state.purnhtnet*(1+parseInt(a.lib)/100),3)}):e.setState({tvaa:0})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({className:"card add-input"},e,{label:"TVA",margin:"dense",variant:"outlined",fullWidth:!0}))}}))),l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"tautva"},l.a.createElement(A.a,{className:"card add-input",label:"%",id:"outlined-margin-dense",margin:"dense",variant:"outlined",fullWidth:!0,name:"tautva",disabled:!0,value:this.state.tvaa}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"typfodec"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Type Fodec",margin:"dense",variant:"outlined",fullWidth:!0,name:"typfodec"},this.state.van.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.label)}))))),l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"TDC"},l.a.createElement(A.a,{className:"card add-input",label:"Taux D.C",id:"outlined-margin-dense",margin:"dense",variant:"outlined",fullWidth:!0,name:"TDC"}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"typdc"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Type DC",margin:"dense",variant:"outlined",fullWidth:!0,name:"typdc"},this.state.van.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.label)})))))))))),l.a.createElement("br",null),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,null,l.a.createElement(ce.a,null,l.a.createElement(nn.a,{style:{height:"20px"},avatar:l.a.createElement(rn.a,null),title:"Prix"}),l.a.createElement(se.a,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURBHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Brut HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURBHT",onChange:this.brutHandler,defaultValue:this.state.purbrut}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"remisefrs"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"Remise Frs (%)",variant:"outlined",fullWidth:!0,name:"remisefrs",margin:"dense",defaultValue:this.state.remisefrs,onChange:this.remisefrsHandler}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURNHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Net HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURNHT",value:this.state.purnhtnet.toFixed(3)}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURNTTC"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Net TTC",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURNTTC",value:this.state.purttc.toFixed(3)})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"margedet"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"Marge/ P.R Net (%)",variant:"outlined",margin:"dense",fullWidth:!0,name:"margedet",value:this.state.marged,onChange:this.margedHandler}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PUDHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Vente HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PUDHT",value:this.state.pudhtt.toFixed(3)}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PUDTTC"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Vente TTC",variant:"outlined",margin:"dense",fullWidth:!0,name:"PUDTTC",value:this.state.pudhttc.toFixed(3)})))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},""===this.state.tt?l.a.createElement(we.a,null,l.a.createElement(P.a,{disabled:!0,style:{width:"100%"},variant:"outlined",type:"submit"},"Enregistrer")):l.a.createElement(we.a,null,l.a.createElement(P.a,{style:{width:"100%",background:"#020f64",color:"white"},type:"submit"},"Enregistrer")))))))))}}]),t}(n.Component);var pn=Object(w.b)((function(e){return{nomes:e.nomes,sousfamilles:e.sousfamilles,codarts:e.codarts,nomenclatures:e.nomenclatures}}),(function(e){return{SelectNome:function(){return e(cn())},SelectSousFamille:function(){return e(on())},GetCodart:function(){return e(sn())},SelectArticle:function(){return e(ke())},SelectNomenclature:function(){return e(mn("TV"))}}}))(dn),hn=a(197),En=a(59),bn=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.codeabarrechange=function(e){a.setState({codeabarre:e.target.value})},a.designationchange=function(e){a.setState({designation:e.target.value})},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/ARTICLEs?codart=".concat(e.target.codart.value,"&desart=").concat(e.target.desart.value,"&unite=").concat(e.target.unite.value,"&tautva=").concat(e.target.tautva.value,"&famart=").concat(e.target.famart.value,"&codbar=").concat(e.target.codbar.value,"&typfodec=").concat(e.target.typfodec.value,"&typdc=").concat(e.target.typdc.value,"&sousfam=").concat(e.target.sousfam.value,"&TDC=").concat(e.target.TDC.value,"&reffrs=").concat(e.target.reffrs.value,"&PUDTTC=").concat(e.target.PUDTTC.value,"&PUDHT=").concat(e.target.PUDHT.value,"&PURBHT=").concat(e.target.PURBHT.value,"\n      &remisefrs=").concat(e.target.remisefrs.value,"\n      &PURNHT=").concat(e.target.PURNHT.value,"\n      &PURNTTC=").concat(e.target.PURNTTC.value,"\n      &margedet=").concat(e.target.margedet.value),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectArticle(),a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.tvaaHandler=function(e){a.setState({tvaa:e.target.value,pudhttc:En(a.state.pudhtt*(1+e.target.value/100),3),purttc:En(a.state.purnhtnet*(1+e.target.value/100),3)})},a.brutHandler=function(e){var t=En(e.target.value*(1-a.state.remisefrs/100),3),n=En(t*(1+a.state.marged/100),3);a.setState({purbrut:e.target.value,purnhtnet:t,purttc:En(t*(1+a.state.tvaa/100),3),pudhtt:n,pudhttc:En(n*(1+a.state.tvaa/100),3)})},a.remisefrsHandler=function(e){var t=En(a.state.purbrut*(1-e.target.value/100),3);a.setState({remisefrs:e.target.value,purnhtnet:t,purttc:En(a.state.purbrut*(1-e.target.value/100)*(1+a.state.tvaa/100),3)})},a.margedHandler=function(e){var t=En(a.state.purnhtnet*(1+e.target.value/100),3);a.setState({marged:e.target.value,pudhtt:t,pudhttc:En(t*(1+a.state.tvaa/100),3)})},a.state={tt:"dqsd",purnhtnet:a.props.purevientnetht,remisefrs:a.props.remisefrs,purbrut:a.props.purevientbrut,purttc:a.props.purevientnetttc,tvaa:a.props.tvaarticle,marged:a.props.margeprrnet,pudhtt:a.props.puventeht,pudhttc:a.props.puventettc,tableunite:[{libele:"KG",name:0},{libele:"PI",name:1}],tabletva:[{code:0,label:0},{code:1,label:6},{code:2,label:12},{code:3,label:18},{code:5,label:29},{code:6,label:10}],van:[{code:"V",label:"Sur Vente"},{code:"A",label:"Sur Achat"},{code:"N",label:"Sans Faudec"}],vann:[{code:"V",label:"Sur Vente"},{code:"A",label:"Sur Achat"},{code:"N",label:"Sans Faudec"}],codeabarre:"",designation:"",snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectNome(),this.props.SelectSousFamille(),this.props.SelectNomenclature("TV")}},{key:"render",value:function(){var e=this;return console.log("unit\xe9 egale \xe0".concat(this.props.unitearticles,"//")),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:6e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Article"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"white"}},l.a.createElement("div",null,l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"codart"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"Code article"),l.a.createElement(s.h,{className:"card add-input",type:"text",name:"codart",defaultValue:this.props.codearticle,disabled:!0}))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"codbar"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"Code \xe0 barre"),l.a.createElement(s.h,{className:"card add-input",type:"text",name:"codbar",defaultValue:this.props.codeabarrearticle}))),l.a.createElement(s.c,{md:6},l.a.createElement(an.a.Group,{controlId:"desart"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"D\xe9signation"),l.a.createElement(s.h,{className:"card add-input",type:"text",name:"desart",defaultValue:this.props.designationarticle})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"unite"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"Unit\xe9"),l.a.createElement(s.h,{className:"card add-input",type:"select",name:"unite",defaultValue:this.props.unitearticles},this.state.tableunite.map((function(e){return l.a.createElement("option",{key:e.name,value:e.libele},e.libele)}))))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"famart"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"Famille article"),l.a.createElement(s.h,{className:"card add-input",type:"select",name:"famart",defaultValue:this.props.famillearticle},this.props.nomes.nomes.map((function(e,t){return l.a.createElement("option",{key:t,value:e.code},e.code)}))))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"sousfam"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"Sous Famille"),l.a.createElement(s.h,{className:"card add-input",type:"select",name:"sousfam",defaultValue:this.props.sousfamillearticle},this.props.sousfamilles.sousfamilles.map((function(e,t){return l.a.createElement("option",{key:t,value:e.code}," ",e.code," ")}))))),l.a.createElement(s.c,{md:3},l.a.createElement(an.a.Group,{controlId:"reffrs"},l.a.createElement(s.i,{className:"labell",style:{color:"#A9A9A9"}},"R\xe9f Fournisseur"),l.a.createElement(s.h,{className:"card add-input",type:"text",name:"reffrs",defaultValue:this.props.reffrsarticle})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"codtva"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.nomenclatures.nomenclatures,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({tvaa:a.lib,pudhttc:En(e.state.pudhtt*(1+parseInt(a.lib)/100),3),purttc:En(e.state.purnhtnet*(1+parseInt(a.lib)/100),3)}):e.setState({tvaa:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({className:"card add-input"},t,{label:"TVA",margin:"dense",variant:"outlined",fullWidth:!0,value:e.state.tvaa}))}}))),l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"tautva"},l.a.createElement(A.a,{className:"card add-input",label:"%",id:"outlined-margin-dense",margin:"dense",variant:"outlined",fullWidth:!0,name:"tautva",disabled:!0,value:this.state.tvaa}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"typfodec"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Type Fodec",margin:"dense",variant:"outlined",fullWidth:!0,name:"typfodec",defaultValue:this.props.typefodecarticle},this.state.van.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.label)}))))),l.a.createElement(s.c,{sm:2},l.a.createElement(an.a.Group,{controlId:"TDC"},l.a.createElement(A.a,{className:"card add-input",label:"Taux D.C",id:"outlined-margin-dense",margin:"dense",variant:"outlined",fullWidth:!0,name:"TDC",defaultValue:this.props.tauxdcarticle}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"typdc"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-select-currency",select:!0,label:"Type DC",margin:"dense",variant:"outlined",fullWidth:!0,name:"typdc",defaultValue:this.props.typedcarticle},this.state.vann.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.label)})))))),l.a.createElement("br",null),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,null,l.a.createElement(ce.a,null,l.a.createElement(nn.a,{style:{height:"20px"},avatar:l.a.createElement(rn.a,null),title:"Prix De Revient"}),l.a.createElement(se.a,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURBHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Brut HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURBHT",value:this.state.purbrut,onChange:this.brutHandler}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"remisefrs"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"Remise Frs (%)",variant:"outlined",margin:"dense",fullWidth:!0,name:"remisefrs",value:this.state.remisefrs,onChange:this.remisefrsHandler}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURNHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Net HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURNHT",value:this.state.purnhtnet}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PURNTTC"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Revient Net TTC",variant:"outlined",margin:"dense",fullWidth:!0,name:"PURNTTC",value:this.state.purttc})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"margedet"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"Marge/ P.R Net (%)",variant:"outlined",margin:"dense",fullWidth:!0,name:"margedet",value:this.state.marged,onChange:this.margedHandler}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PUDHT"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Vente HT",variant:"outlined",margin:"dense",fullWidth:!0,name:"PUDHT",value:this.state.pudhtt}))),l.a.createElement(s.c,{sm:3},l.a.createElement(an.a.Group,{controlId:"PUDTTC"},l.a.createElement(A.a,{className:"card add-input",id:"outlined-basic",label:"P.U Vente TTC",variant:"outlined",margin:"dense",fullWidth:!0,name:"PUDTTC",value:this.state.pudhttc})))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8}),l.a.createElement(s.c,{sm:4},""===this.state.tt?l.a.createElement(we.a,null,l.a.createElement(s.b,{disabled:!0,style:{width:"100%",backgroundColor:"#020F64"},variant:"outlined",type:"submit"},"Enregistrer")):l.a.createElement(we.a,null,l.a.createElement(s.b,{style:{width:"100%",backgroundColor:"#020F64"},type:"submit"},"Enregistrer")))))))))}}]),t}(n.Component);var fn=Object(w.b)((function(e){return{nomes:e.nomes,sousfamilles:e.sousfamilles,nomenclatures:e.nomenclatures}}),(function(e){return{SelectNome:function(){return e(cn())},SelectSousFamille:function(){return e(on())},SelectArticle:function(){return e(ke())},SelectNomenclature:function(){return e(mn("TV"))}}}))(bn),gn=[{icon:l.a.createElement(ft.a,null),name:"Imprimer"},{icon:l.a.createElement(ca.a,null),name:"Mail"},{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],yn=(n.Component,[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}]),vn=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(){a.setState({snackbaropen:!1})},a.codeabarrechange=function(e){a.setState({codeabarre:e.target.value})},a.showprix=function(e){a.setState({showp:!a.state.showp})},a.designationchange=function(e){a.setState({designation:e.target.value})},a.submitHandler=function(e){e.preventDefault(),window.alert(a.state.unite)},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose1=function(){a.setState({anchorEl:null})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){a.setState({openMailModal:!0})},a.openModifier=function(){a.setState({openModifierModal:!0})},a.affiche=function(){window.alert(a.state.totalqte)},a.state={tt:"dqsd",tableunite:[{libele:"KG",name:"KG"},{libele:"PI",name:"PI"}],tabletva:[{code:0,label:0},{code:1,label:6},{code:2,label:12},{code:3,label:18},{code:4,label:18},{code:5,label:29},{code:6,label:10}],van:[{code:"V",label:"Sur Vente"},{code:"A",label:"Sur Achat"},{code:"N",label:"Sans Faudec"}],unite:"",codeabarre:"",designation:"",anchorEl:null,open:!1,hidden:!1,openMailModal:!1,openModifierModal:!1,snackbaropen:!1,snackbarmsg:"",showp:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"deletearticle",value:function(e){var t=this;window.confirm("\xeates-vous s\xfbr de vouloir supprimer cet article?")&&fetch("http://192.168.1.100:81/api/ARTICLEs?codartt="+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.onHide(),t.props.SelectArticle(),t.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()}),(function(e){t.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}},{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl)?"simple-popover":void 0;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:3e3,onClose:this.snackbarClose,message:this.state.snackbarmsg,action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Article"))),l.a.createElement(ye.a.Body,null,l.a.createElement("div",null,l.a.createElement(Pe.a,{item:!0,xs:12,style:{marginTop:"10px",width:"100%"}},l.a.createElement(Pe.a,{container:!0,justify:"center"},l.a.createElement(Pe.a,{item:!0,style:{width:"100%"}},l.a.createElement(hn.a,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:9,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},""===this.props.designationarticle?l.a.createElement("h3",null,"--"):l.a.createElement("h3",null," ",this.props.designationarticle," "),l.a.createElement("p",{style:{color:"gray",fontSize:"larger"}},this.props.codearticle)),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"red",fontSize:"larger",fontWeight:"bold"}},"Stock"),l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"20px"}},this.props.stockarticle))))))),l.a.createElement(s.o,{sm:12,style:{marginTop:"20px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(Pe.a,{container:!0,justify:"center"},l.a.createElement(Pe.a,{item:!0,style:{width:"100%"}},l.a.createElement(hn.a,{style:{width:"100%"}},l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Code \xe0 barre")),l.a.createElement(s.c,{sm:5},""===this.props.codeabarrearticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,this.props.codeabarrearticle))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"PU Vente HT")),l.a.createElement(s.c,{sm:5},""===this.props.pudht?l.a.createElement("p",null,"--"):l.a.createElement("p",null,Number(this.props.pudht).toFixed(3)))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Taux TVA")),l.a.createElement(s.c,{sm:5},""===this.props.tvaarticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,Number(this.props.tvaarticle).toFixed(2)))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"PU Vente TTC")),l.a.createElement(s.c,{sm:5},""===this.props.puventettc?l.a.createElement("p",null,"--"):l.a.createElement("p",null,Number(this.props.puventettc).toFixed(3)))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(Pe.a,{container:!0,justify:"center"},l.a.createElement(Pe.a,{item:!0,style:{width:"100%"}},l.a.createElement(hn.a,{style:{width:"100%"}},l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Famille")),l.a.createElement(s.c,{sm:5},""===this.props.famillearticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,this.props.famillearticle))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Sous Famille")),l.a.createElement(s.c,{sm:5},""===this.props.sousfamillearticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,this.props.sousfamillearticle))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Unit\xe9")),l.a.createElement(s.c,{sm:5},""===this.props.unitearticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,this.props.unitearticle))),l.a.createElement(s.o,{sm:12},l.a.createElement(s.c,{sm:7},l.a.createElement(s.i,{style:{fontWeight:"bold"}},"Ref\xe9rence Fournisseur")),l.a.createElement(s.c,{sm:5},""===this.props.reffrsarticle||" "===this.props.reffrsarticle?l.a.createElement("p",null,"--"):l.a.createElement("p",null,this.props.reffrsarticle)))))))),l.a.createElement(s.o,{style:{marginTop:"15px"}},l.a.createElement(s.c,{sm:6},l.a.createElement("div",null,l.a.createElement(s.b,{style:{width:"50%",height:"50px",marginBottom:"5px"},"aria-describedby":t,variant:"contained",color:"primary",onClick:this.showprix},l.a.createElement(rn.a,null)," P.U.R"))),l.a.createElement(s.c,{sm:3},"V"===this.props.typefodecarticle?l.a.createElement(s.a,{color:"success",style:{width:"100%",height:"50px",fontSize:"15px"}},"Fodec sur Vente"):"A"===this.props.typefodecarticle?l.a.createElement(s.a,{color:"success",style:{width:"100%",height:"50px",fontSize:"15px"}},"Fodec sur Achat"):l.a.createElement(s.a,{color:"danger",style:{width:"100%",height:"50px",fontSize:"15px"}},"Sans Fodec")),l.a.createElement(s.c,{sm:3},"V"===this.props.typedcarticle?l.a.createElement(s.a,{color:"success",style:{width:"100%",height:"50px",fontSize:"15px"}},"D.C sur Vente"):"A"===this.props.typedcarticle?l.a.createElement(s.a,{color:"success",style:{width:"100%",height:"50px",fontSize:"15px"}},"D.C sur Achat"):l.a.createElement(s.a,{color:"danger",style:{width:"100%",height:"50px",fontSize:"15px"}},"Sans D.C"))),l.a.createElement(T.a,null),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:11},this.state.showp?l.a.createElement(ce.a,{style:{backgroundColor:"#fff"}},l.a.createElement(se.a,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"P.U.R Brut HT"),l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"20px"}},Number(this.props.purevientbrut).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"Remise Frs (%)"),l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"20px"}},Number(this.props.remisefrs).toFixed(2))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"P.U.R Net HT"),l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"20px"}},Number(this.props.purevientnetht).toFixed(3))),l.a.createElement(s.c,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"P.U.R Net TTC"),l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"20px"}},Number(this.props.purevientnetttc).toFixed(3)))))):null),l.a.createElement(s.c,{sm:1},l.a.createElement("div",null,l.a.createElement(ht.a,{style:{position:"absolute",bottom:"0px",right:"10px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},yn.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&e.deletearticle(e.props.codearticle)&&e.props.onHide()}})}))),l.a.createElement(fn,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},onHide01:this.props.onHide,designationarticle:this.props.designationarticle,codearticle:this.props.codearticle,codeabarrearticle:this.props.codeabarrearticle,famillearticle:this.props.famillearticle,reffrsarticle:this.props.reffrsarticle,remisearticle:this.props.remisearticle,stockarticle:this.props.stockarticle,pvttcarticle:this.props.pvttcarticle,typefodecarticle:this.props.typefodecarticle,typedcarticle:this.props.typedcarticle,pudht:this.props.pudht,unitearticles:this.props.unitearticle,tvaarticle:this.props.tvaarticle,sousfamillearticle:this.props.sousfamillearticle,tauxdcarticle:this.props.tauxdcarticle,purevientbrut:this.props.purevientbrut,remisefrs:this.props.remisefrs,purevientnetht:this.props.purevientnetht,purevientnetttc:this.props.purevientnetttc,margeprbrut:this.props.margeprbrut,margeprrnet:this.props.margeprrnet,puventeht:this.props.puventeht,puventettc:this.props.puventettc}))))))),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",borderStyle:"solid",height:"98%"}},l.a.createElement(hn.a,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"120px"}},l.a.createElement("h2",null,l.a.createElement("u",null,this.props.designationarticle)),l.a.createElement("p",{style:{color:"gray",fontSize:"35px"}},this.props.codearticle)),l.a.createElement("div",{style:{marginLeft:"100px",marginRight:"100px",marginTop:"60px",fontSize:"25px"}},l.a.createElement(hn.a,null,l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(hn.a,{style:{width:"100%"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Code \xe0 barre"),l.a.createElement(s.c,null,this.props.codeabarrearticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"PU HT"),l.a.createElement(s.c,null,this.props.pudht)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"TVA"),l.a.createElement(s.c,null,this.props.tvaarticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Remise (%)"),l.a.createElement(s.c,null,this.props.remisearticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Fodec"),l.a.createElement(s.c,null,"V"===this.props.typefodecarticle?l.a.createElement(s.i,null,"Vente"):"A"===this.props.typefodecarticle?l.a.createElement(s.i,null,"Achat"):l.a.createElement(s.i,null,"\u2205"))))))),l.a.createElement(s.c,null,l.a.createElement(hn.a,{style:{width:"100%",marginLeft:"100px"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Famille"),l.a.createElement(s.c,null,this.props.famillearticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Sous Famille"),l.a.createElement(s.c,null,this.props.sousfamillearticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Unit\xe9"),l.a.createElement(s.c,null,this.props.unitearticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"Ref\xe9rence Frs"),l.a.createElement(s.c,null,this.props.reffrsarticle)),l.a.createElement(s.o,{style:{marginBottom:"20px"}},l.a.createElement(s.c,null,"D.C"),l.a.createElement(s.c,null,"V"===this.props.typedcarticle?l.a.createElement(s.i,null,"Vente"):"A"===this.props.typedcarticle?l.a.createElement(s.i,null,"Achat"):l.a.createElement(s.i,null,"\u2205")))))))))),l.a.createElement("div",{style:{marginLeft:"100px",marginRight:"100px",marginTop:"60px",fontSize:"25px"}},l.a.createElement(s.p,{style:{textAlign:"center",borderStyle:"solid"}},l.a.createElement("thead",{style:{fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("td",null,"PU Brut HT"),l.a.createElement("td",null,"Remise Frs (%)"),l.a.createElement("td",null,"PU Net HT"),l.a.createElement("td",null,"PU Net TTC"),l.a.createElement("td",null,"Marge/ P.R Brut (%)"),l.a.createElement("td",null,"Marge/ P.R Net (%)"),l.a.createElement("td",null,"PU Vente HT"),l.a.createElement("td",null,"PU Vente TTC"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.purevientbrut),l.a.createElement("td",null,this.props.remisefrs),l.a.createElement("td",null,this.props.purevientnetht),l.a.createElement("td",null,this.props.purevientnetttc),l.a.createElement("td",null,this.props.margeprbrut),l.a.createElement("td",null,this.props.margeprrnet),l.a.createElement("td",null,this.props.puventeht),l.a.createElement("td",null,this.props.puventettc))))),l.a.createElement("div",null,l.a.createElement(s.o,{style:{margin:"100px",fontSize:"38px"}},l.a.createElement(s.c,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"STOCK"),l.a.createElement("span",{style:{fontWeight:"bold"}},this.props.stockarticle)),l.a.createElement(s.c,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("span",{style:{color:"gray",fontSize:"larger"}},"P.V TTC"),l.a.createElement("span",{style:{fontWeight:"bold"}},this.props.pvttcarticle)))))))}}]),t}(n.Component);var xn=Object(w.b)((function(e){return{nomes:e.nomes,sousfamilles:e.sousfamilles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(vn),Cn=(n.Component,function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/Nome?cat=FA\n    &code=".concat(e.target.code.value,"\n    &lib=").concat(e.target.lib.value,"\n    "),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),a.props.onHide(),a.props.SelectNome()},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.state={snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#17a2b8"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Famille"))),l.a.createElement(ye.a.Body,null,l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"code"},l.a.createElement(A.a,{id:"standard-basic",label:"Code Famille",margin:"normal",fullWidth:!0,name:"code",type:"text"})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"lib"},l.a.createElement(A.a,{id:"standard-basic",label:"Libell\xe9",margin:"normal",fullWidth:!0,name:"lib",type:"text"})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,{sm:6}),l.a.createElement(S.a,{sm:6},l.a.createElement(an.a.Group,null,l.a.createElement(P.a,{type:"submit",style:{backgroundColor:"#17a2b8"}},"Enregistrer")))))))))}}]),t}(n.Component));Object(w.b)((function(e){return{nomes:e.nomes}}),(function(e){return{SelectNome:function(){return e(cn())}}}))(Cn);var Sn=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/SousFamille?cat=SF&code=".concat(e.target.code.value,"&lib=").concat(e.target.lib.value,"&chdec=").concat(e.target.chdec.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),a.props.onHide(),a.props.SelectSousFamille()},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.state={snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#17a2b8"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter SousFamille"))),l.a.createElement(ye.a.Body,null,l.a.createElement("div",{style:{padding:"15px"}},l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"chdec"},l.a.createElement(A.a,{id:"outlined-select-currency",select:!0,label:"Famille",margin:"normal",fullWidth:!0,name:"chdec",required:!0},this.props.nomes.nomes.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.code)})))))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"code"},l.a.createElement(A.a,{id:"standard-basic",label:"Code Famille",margin:"normal",fullWidth:!0,name:"code",type:"text"})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"lib"},l.a.createElement(A.a,{id:"standard-basic",label:"Libell\xe9",margin:"normal",fullWidth:!0,name:"lib",type:"text"})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,{sm:6}),l.a.createElement(S.a,{sm:6},l.a.createElement(an.a.Group,null,l.a.createElement(P.a,{type:"submit",style:{backgroundColor:"#17a2b8",width:"100%",marginBottom:"-20px"}},"Enregistrer")))))))))}}]),t}(n.Component);Object(w.b)((function(e){return{nomes:e.nomes}}),(function(e){return{SelectSousFamille:function(){return e(on())}}}))(Sn);var kn=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.toggle=function(){a.setState({icon:!a.state.icon})};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={data:[],modal:!1,addModalShow1:!1,getArticleByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){console.log("getarticleslist component didmount"),this.props.getArticleHeader(),this.props.SelectArticle()}},{key:"deletearticle",value:function(e){window.confirm("are you sure?")&&fetch("http://192.168.1.100:81/api/ARTICLEs/"+e,{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.designationarticle,n=t.codearticle,r=t.codeabarrearticle,c=t.famillearticle,i=t.reffrsarticle,o=t.remisearticle,m=t.stockarticle,u=t.pvttcarticle,d=t.typefodecarticle,p=t.typedcarticle,h=t.pudht,E=t.unitearticle,f=t.tvaarticle,g=t.sousfamillearticle,y=t.tauxdcarticle,v=t.purevientbrut,x=t.remisefrs,C=t.purevientnetht,S=t.purevientnetttc,k=t.margeprbrut,T=t.margeprrnet,w=t.puventeht,j=t.puventettc;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("main",{className:"gestion-des-articles"},l.a.createElement("div",{className:"page-icon"},l.a.createElement("i",{className:"fas fa-cube"}," Fiche Article")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:"9"},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:"3"},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow1:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter article"))))),l.a.createElement(pn,{show:this.state.addModalShow1,onHide:function(){return e.setState({addModalShow1:!1})}})),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabga"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"40%"}},"D\xe9signation"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",null,"P.U.V HT"),l.a.createElement("th",null,"T.V.A (%)"),l.a.createElement("th",null,"P.U.V TTC"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.codart,onClick:function(){e.setState({getArticleByIdModalShow:!0,designationarticle:t.desart,codearticle:t.codart,codeabarrearticle:t.codbar,famillearticle:t.famart,reffrsarticle:t.reffrs,remisearticle:t.remise,stockarticle:t.stkfin,pvttcarticle:t.PUDTTC,typefodecarticle:t.typfodec,typedcarticle:t.typdc,pudht:t.PUDHT,unitearticle:t.unite,tvaarticle:t.tautva,sousfamillearticle:t.sousfam,tauxdcarticle:t.TDC,purevientbrut:t.PURBHT,remisefrs:t.remisefrs,purevientnetht:t.PURNHT,purevientnetttc:t.PURNTTC,margeprbrut:t.margedet,margeprrnet:t.margedet,puventeht:t.PUDHT,puventettc:t.PUDTTC})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.desart)),l.a.createElement("td",null,l.a.createElement("span",null,t.stkfin)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUDHT).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUDTTC).toFixed(3))))}))))):l.a.createElement("div",{className:"tabga"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"50%"}},"D\xe9signation"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",null,"P.U.V HT"),l.a.createElement("th",null,"T.V.A (%)"),l.a.createElement("th",null,"P.U.V TTC"))),l.a.createElement("tbody",null,this.props.articles.articles.map((function(t){return l.a.createElement("tr",{key:t.codart,onClick:function(){e.setState({getArticleByIdModalShow:!0,designationarticle:t.desart,codearticle:t.codart,codeabarrearticle:t.codbar,famillearticle:t.famart,reffrsarticle:t.reffrs,remisearticle:t.remise,stockarticle:t.stkfin,pvttcarticle:t.PUDTTC,typefodecarticle:t.typfodec,typedcarticle:t.typdc,pudht:t.PUDHT,unitearticle:t.unite,tvaarticle:t.tautva,sousfamillearticle:t.sousfam,tauxdcarticle:t.TDC,purevientbrut:t.PURBHT,remisefrs:t.remisefrs,purevientnetht:t.PURNHT,purevientnetttc:t.PURNTTC,margeprbrut:t.margedet,margeprrnet:t.remise,puventeht:t.PUDHT,puventettc:t.PUDTTC})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{width:"50%"}},l.a.createElement("span",null,t.desart)),l.a.createElement("td",null,l.a.createElement("span",null,t.stkfin)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUDHT).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUDTTC).toFixed(3))))}))))),l.a.createElement(xn,{show:this.state.getArticleByIdModalShow,onHide:function(){return e.setState({getArticleByIdModalShow:!1})},designationarticle:a,codearticle:n,codeabarrearticle:r,famillearticle:c,reffrsarticle:i,remisearticle:o,stockarticle:m,pvttcarticle:u,typefodecarticle:d,typedcarticle:p,pudht:h,unitearticle:E,tvaarticle:f,sousfamillearticle:g,tauxdcarticle:y,purevientbrut:v,remisefrs:x,purevientnetht:C,purevientnetttc:S,margeprbrut:k,margeprrnet:T,puventeht:w,puventettc:j})))}}]),t}(n.Component),Tn=Object(w.b)((function(e){return{SideBarTitles:e.SideBarTitles,SearchingResult:e.SearchingReducer,DataTables:e.DataTablesReducer,articles:e.articles}}),(function(e){return{getArticleList:function(){e((function(e){e({type:"START_LOADING"}),I.a.get("http://192.168.1.100:81/api/ARTICLEs").then((function(t){e({type:"GET_ARTICLES_LIST",payload:t.data,etat:"article"}),e({type:"STOP_LOADING"})}))}))},getArticleHeader:function(){e((function(e){e({type:"GET_ARTICLES_HEADER",payload:Ta})}))},SelectArticle:function(){return e(ke())}}}))(kn),wn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/BLBRs?type=bl").then((function(t){return e({type:"BL_SELECT",payload:t.data})}))}},jn=(a(209),a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)}),a.state.stkfin>=parseInt(e.target.value)?a.setState({yesno:"yes"}):a.setState({yesno:"no"})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,netnetapayer:m})},a.submitHandlers=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:e.target.remisea.value,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,netnetapayer:m}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],stkfin:0,snackbarmsg:",",yesno:"",netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandlers},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0,qte:""})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0,qte:"",puttcnet:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),""===this.state.des||"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",t.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",t.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.totalht).toFixed(2))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled,e.state.netnetapayer),e.props.onHide()}},"Enregistrer"))))}}]),t}(n.Component));var In=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(jn),Nn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/bCDVCLIs?typpe=BL").then((function(t){return e({type:"BL_COD",payload:t.data})}))}},On=(a(59),new Date);On.setDate(On.getDate());var Bn=On.toISOString().substr(0,10),An=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e,t,n,l,r,c,i,o,s,m){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s,netnetapayer:m})},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleSubmit=function(e){e.preventDefault(),a.setState({openActionModal:!0})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.enregistrer=function(e){e.preventDefault(),a.state.tab.map((function(t,n){for(var l=0;l<a.state.tab.length;l++)fetch("http://192.168.1.100:81/api/LigBLBRs/{ID}?numfac=".concat(e.target.codbl.value,"&typfac=BL&numlig=").concat(n,"&codart=").concat(t.codearticle,"&quantite=").concat(t.qte,"&fodart=0&desart=").concat(t.des,"&datfac=").concat(a.state.defaultdate,"&priuni=").concat(t.puht,"&remise=").concat(t.remisea,"&unite").concat(t.unite,"&codtva=3&tautva=").concat(t.tva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/BLBRs?numfac=".concat(e.target.codbl.value,"&typfac=BL&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&catfisc=").concat(e.target.categoriefiscale.value,"&datfac=").concat(a.state.defaultdate,"&timbre=").concat(a.state.showTimbre,"&ForfaitCli=").concat(a.state.showForfitaire,"&taurem=").concat(a.state.remiseg,"&VENDEUR=").concat(a.state.username),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBL(),fetch("http://192.168.1.100:81/api/LigBLBRs?FAC=".concat(a.props.codbls.codbls.map((function(e){return parseInt(e.valeur)})),"&typfacc=BL"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.SelectBLCod(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/LigBLBRs?FAC=".concat(e.target.codbl.value,"&Typfacc=bl&CODDEPP="),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=BL2&valeur=".concat(parseInt(e.target.codbl.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))};var n=localStorage.getItem("username");return a.state={gilad:!0,defaultdate:Bn,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,btnEnable:!1,btnEnabled:!1,cemail:"",openActionModal:!1,rechs:[],nextsubmit:!1,snackbaropen:!1,snackbarmsg:",",username:n,valtimbre:0,netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.GetNumFacDevis(),this.props.SelectBLCod()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dvnumfac,t.dvraisoc,t.rem);t.clientmail;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Bon de livraison"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.props.codbls.codbls.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 BL",margin:"normal",value:parseInt(e.valeur),fullWidth:!0,name:"codbl",disabled:!0})})))),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,defaultValue:this.state.defaultdate}))),l.a.createElement(C.a,{style:{marginBottom:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}}))),this.state.gilad?l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))):l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0})))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Cat Fiscale",margin:"normal",fullWidth:!0,name:"categoriefiscale",value:this.state.categoriefiscale,disabled:!0})),l.a.createElement(S.a,{sm:2},"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cat Fiscale"," ")),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",value:this.state.remiseg,onChange:this.remiseglobalChange}))))),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:12},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(S.a,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"#3f51b5",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null)))))))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",null,l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.state.tab.map((function(e){return l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",e.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",e.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.totalht).toFixed(2))))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.sumremisearticle).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.valtimbre).toFixed(3)))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.remiseglobal).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.netapayer).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.state.netnetapayer).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:8}),l.a.createElement(S.a,{sm:4},0===this.state.totalqte?l.a.createElement(me.a,{variant:"contained",disabled:!0,style:{marginTop:"20px",width:"100%"}},"Enregistrer tous"):l.a.createElement(me.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"100%",color:"white",backgroundColor:"#020F64"}},"Enregistrer tous")))))),l.a.createElement(In,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},rem:a,numfaccc:this.props.codbls.codbls.map((function(e){return parseInt(e.valeur)})),datfac:this.state.defaultdate,valtimbre:this.state.valtimbre}))}}]),t}(n.Component);var Dn=Object(w.b)((function(e){return{clients:e.clients,numfac:e.numfac,articles:e.articles,codbls:e.codbls}}),(function(e){return{SelectClient:function(){return e(O())},GetNumFacDevis:function(){return e(ze())},SelectArticle:function(){return e(ke())},SelectBLCod:function(){return e(Nn())},SelectBL:function(){return e(wn())}}}))(An),Fn=function(e){return function(t){I.a.get("http://192.168.1.100:81/Api/LigBLBRs?type=BL&numfac=".concat(e)).then((function(e){return t({type:"BL_LIG_SELECT",payload:e.data})}))}},qn=(a(444),a(467),a(59)),Hn=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).qteHandler=function(e){var t=qn(e.target.value*a.props.prixunix,3);a.setState({qte:e.target.value,totalht:t,shown:!0})},a.submitHandler=function(e){a.deleteRow(a.props.numligg),a.onHide()},a.changeHandler=function(e){a.setState({Qtte:e.target.value})},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1),a.setState({tab:t})},a.state={snackbaropen:!1,snackbarmsg:"",totalht:0,qte:a.props.quantt,shown:!1,tab:a.props.tab},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,style:{background:"rgba(0,0,0, 0.6)"}}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"#eee",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Edit ligne article ",l.a.createElement("span",null,this.props.artid)))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#eee"}},l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(C.a,null,l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Numfac",defaultValue:this.props.numfacccc,fullWidth:!0,name:"numfacccc",disabled:!0,style:{display:"none"}})),l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"NumLig",defaultValue:this.props.numligg,fullWidth:!0,name:"numligg",style:{display:"none"}})),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"codart",defaultValue:this.props.artid,fullWidth:!0,name:"artid",disabled:!0}))),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"prixuni",defaultValue:this.props.prixunix,fullWidth:!0,disabled:!0,value:this.props.prixunix}))),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantite",defaultValue:this.props.quantt,fullWidth:!0,name:"quantt",onChange:this.qteHandler}))),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise",defaultValue:this.props.remiss,fullWidth:!0,name:"remiss"}))),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,this.state.shown?l.a.createElement(A.a,{id:"standard-basic",label:"TotalHT",fullWidth:!0,name:"totalhtt",value:this.state.totalht}):l.a.createElement(A.a,{id:"standard-basic",label:"TotalHT",defaultValue:this.props.totalhtt,fullWidth:!0,name:"totalhtt"}))),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"PUTTCNET",defaultValue:this.props.puttcnett,fullWidth:!0,name:"puttcnett"})))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:8}),l.a.createElement(S.a,{sm:4},this.state.shown?l.a.createElement(P.a,{type:"submit",className:"btn btn-info",style:{width:"100%"}},"Enregistrer"):l.a.createElement(P.a,{type:"submit",className:"btn btn-secondary",style:{width:"100%"},disabled:!0},"Enregistrer")))))))}}]),t}(n.Component),Ln=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).datHandler=function(e){a.setState({datebcc:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clickeda:!0})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechsc:e,clicked:!0})}))},a.sameTable=function(){fetch("http://192.168.1.100:81/Api/LigBLBRs?type=BL&numfac=".concat(a.props.blid)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.enrsnackbarClose=function(e){a.setState({enrsnackbaropen:!1})},a.fsnackbarClose=function(e){a.setState({fsnackbaropen:!1})},a.modifiermodification=function(e){var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:a.state.remisea,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,changeButton:!1}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",stkfin:0})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:e.target.remisea.value,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.deleteRowMod=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,btnEnabled:!0})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)}),a.state.stkfin>=parseInt(e.target.value)?a.setState({yesno:"yes"}):a.setState({yesno:"no"})},a.enregistrer=function(){fetch("http://192.168.1.100:81/api/BLBRs?numfac=".concat(a.props.blid,"&typfac=BL&datfac=").concat(a.state.datebcc,"&codcli=").concat(a.state.codeclient,"&raisoc=").concat(a.state.raisonsocial,"&taurem=").concat(a.state.remiseg,"&catfisc=").concat(a.state.categoriefiscale,"&timbre=").concat(a.props.droitdetimbre,"&ForfaitCli=").concat(a.props.avanceimpot,"&VENDEUR=").concat(a.state.username,"&facture=").concat(a.props.facture),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),fetch("http://192.168.1.100:81/api/LigBLBRs/".concat(a.props.blid,"?typfacc=BL"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.state.tab.map((function(e,t){for(var n=0;n<a.state.tab.length;n++)fetch("http://192.168.1.100:81/api/LigBLBRs/{ID}?numfac=".concat(a.props.blid,"&typfac=BL&numlig=").concat(t+10,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.props.datebl,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=3&tautva=").concat(e.tautva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({enrsnackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/LigBLBRs?FAC=".concat(a.props.blid,"&typfacc=BL"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/LigBLBRs?FAC=".concat(a.props.blid,"&Typfacc=bl&CODDEPP="),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))}))};var n=localStorage.getItem("username");return a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,snackbarmsg:"",enrsnackbaropen:!1,fsnackbaropen:!1,openEditModal:!1,idel:0,reload:!1,giladd:!0,rechs:[],rechsc:[],changeButton:!1,remiseg:0,raisonsocial:"",codeclient:"",categoriefiscale:"",datebcc:"",username:n,clicked:!1,clickeda:!1,stkfin:0,yesno:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle(),this.sameTable(),this.props.SelectClient(),this.setState({remiseg:this.props.taurem,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,categoriefiscale:this.props.catfisc,datebcc:new Date(this.props.datebl).toISOString().substr(0,10)})}},{key:"render",value:function(){var e=this;console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle));var t=this.state,a=t.quantt,n=t.remiss,r=t.artid,c=t.totalhtt,i=t.puttcnett,o=t.numligg,m=t.numfacccc,u=t.prixunix;return this.state.reload?l.a.createElement(b.a,{to:"/bon-de-livraison"}):l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.enrsnackbaropen,autoHideDuration:2e3,onClose:this.enrsnackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.enrsnackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Bon de livraison \u2116 ",this.props.blid))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,{style:{marginBottom:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher client par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.giladd,onChange:this.handleChange("giladd"),value:"giladd",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code client"))))),this.state.giladd?l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}})))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0,InputLabelProps:{shrink:!0}}))),l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",InputLabelProps:{shrink:!0},onChange:this.remiseglobalChange,value:this.state.remiseg})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",onChange:this.datHandler,value:this.state.datebcc,InputLabelProps:{shrink:!0}}))))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"Code Article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),this.state.changeButton?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0,style:{width:"320px"},variant:"contained",color:"primary",onClick:function(){e.modifiermodification()}},"Enregistrer les modifications")):""===this.state.des||"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},t.desart),l.a.createElement("td",null,l.a.createElement("span",null,t.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Editer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(t.codart)).then((function(e){return e.json()})).then((function(t){return e.setState({stkfin:t.map((function(e){return e.stkfin}))})})),e.setState({codearticle:t.codart,des:t.desart,unite:t.unite,puht:t.priuni,remisea:t.remise,tva:t.tautva,faudec:t.typfodec,qte:t.quantite,totalht:t.montht,puttcnet:t.PUTTCNET,changeButton:!0}),e.deleteRowMod(a)}})))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))}))))))))),l.a.createElement(Hn,{show:this.state.openEditModal,onHide:function(){return e.setState({openEditModal:!1})},quantt:a,remiss:n,artid:r,totalhtt:c,puttcnett:i,numfacccc:m,numligg:o,prixunix:u,tab:this.state.tab})),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.enregistrer(),e.props.onHide(),e.props.onHide01(),window.alert("Modification enregistr\xe9s"),e.props.SelectBL()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component);var Rn=Object(w.b)((function(e){return{articles:e.articles,clients:e.clients}}),(function(e){return{SelectArticle:function(){return e(ke())},SelectBL:function(){return e(wn())},SelectClient:function(){return e(O())}}}))(Ln),Mn=a(220),Wn=a.n(Mn),Pn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/bCDVCLIs?typpe=FC").then((function(t){return e({type:"FAC_COD",payload:t.data})}))}},zn=(a(59),[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"},{icon:l.a.createElement(Wn.a,null),name:"Facturer"}]),Vn={weekday:"short",year:"numeric",month:"short",day:"numeric"},Un=new Date;Un.setDate(Un.getDate());var Gn=Un.toISOString().substr(0,10),_n=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})}))},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){},a.noupdate=function(){window.alert("Impossible de modifier Bon de livraison ... Bon de livraison est d\xe9ja factur\xe9")},a.openModifier=function(){a.setState({openModifierModal:!0,blid:a.props.blid}),a.props.blligs.blligs.map((function(e){a.setState({ligid:e.id})}))},a.annuler=function(){"0"===a.props.annuler?fetch("http://192.168.1.100:81/api/BLBRs?idd=".concat(a.props.blid,"&typfaccs=BL"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBL(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})})):window.alert("Bon de livraison d\xe9ja annul\xe9e")},a.imprimer=function(){window.alert("imprimer")},a.nonsupprimer=function(){window.alert("Vous devez annuler ce bon de livraison pour que vous puisse le supprimer")},a.facturer=function(){"0"===a.props.facture?fetch("http://192.168.1.100:81/api/BLBRs?iddd=".concat(a.props.blid,"&typfaccss=BL"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBL(),console.log(e),a.props.tabtab.map((function(e,t){for(var n=0;n<a.props.tabtab.length;n++)fetch("http://192.168.1.100:81/api/LigFACCLIs/{ID}?numfac=".concat(a.props.codfacs.codfacs.map((function(e){return e.valeur})),"&typfac=FT&numlig=").concat(e.numlig,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.state.todaydate,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=").concat(e.codtva,"&tautva=").concat(e.tautva,"&montht=").concat(e.montht,"&ttclig=").concat(e.ttclig),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log("22",e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/FACCLIs?numfac=".concat(a.props.codfacs.codfacs.map((function(e){return e.valeur})),"&typfac=FT&codcli=").concat(a.props.client,"&raisoc=").concat(a.props.raisonsociale,"&catfisc=").concat(a.props.catfisc,"&datfac=").concat(a.state.todaydate,"&timbre=").concat(a.props.droitdetimbre,"&smhtb=").concat(a.props.totalhtbrut,"&smremart=").concat(a.props.remiselignes,"&smremglo=").concat(a.props.remiseglobale,"&smhtn=").concat(a.props.totalhtnet,"&smtva=").concat(a.props.totaltva,"&mntbon=").concat(a.props.totalttc,"&valtimbre=").concat(a.props.valtimbre,"&Vendeur=").concat(a.state.username),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=FC2&valeur=".concat(a.props.codfacs.codfacs.map((function(e){return parseInt(e.valeur)+1}))),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),a.setState({snackbaropen:!0,snackbarmsg:e})})):window.alert("Bon de livraison d\xe9ja factur\xe9")},a.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer cette bon de livraison?")&&(fetch("http://192.168.1.100:81/api/LigBLBRs/".concat(a.props.blid,"?typfacc=BL"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://192.168.1.100:81/api/BLBRs/".concat(a.props.blid,"?typfacc=BL"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBL(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})})))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})};var n=localStorage.getItem("username");return a.state={open:!1,hidden:!1,openModifierModal:!1,ligid:"",blid:"",tab:[],newtab:[],todaydate:Gn,codearticle:0,des:"",qte:0,unite:0,puht:0,faudec:0,remisea:0,tva:0,puttcnet:0,totalht:0,totalqte:0,netapayer:0,clientimp:[],snackbaropen:!1,snackbarmsg:"",username:n},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBLLig(this.props.blid),this.props.SelectFacCod()}},{key:"render",value:function(){var e=this,t=this.state;t.ligidd,t.bcidd,t.tabb;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#08052B"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Bon de Livraison"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 BL")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.blid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date BL")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datebl).toLocaleDateString("fr",Vn))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:5},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de Timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbre).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-20px",right:"10px"},FabProps:{size:"small"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open},zn.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Imprimer"==t.name&&e.imprimer(),"Modifier"==t.name&&"0"!==e.props.facture&&e.noupdate(),"Modifier"==t.name&&"0"===e.props.facture&&e.openModifier(),"Supprimer"==t.name&&"1"===e.props.annuler&&e.supprimer(),"Supprimer"==t.name&&"0"===e.props.annuler&&e.nonsupprimer(),"Annuler"==t.name&&e.annuler(),"Facturer"==t.name&&e.facturer()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))),l.a.createElement(Rn,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},ligidd:this.state.ligid,tabb:this.props.tabtab,blid:this.props.blid,datebl:this.props.datebl,onHide01:this.props.onHide,taurem:this.props.taurem,catfisc:this.props.catfisc,client:this.props.client,raisonsociale:this.props.raisonsociale,droitdetimbre:this.props.droitdetimbre,avanceimpot:this.props.avanceimpot,facture:this.props.facture})),l.a.createElement(ye.a.Footer,null)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Bon de livraison \u2116 ",this.props.blid," ","-------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"170px"}},"Date:"," ",new Date(this.props.datebl).toLocaleDateString("fr",Vn))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Client : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.codtva?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.codtva)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"620px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Timbre fiscal:"),l.a.createElement("td",null,Number(this.props.valtimbre).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3)," ")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var Qn=Object(w.b)((function(e){return{blligs:e.blligs,codfacs:e.codfacs}}),(function(e){return{SelectBLLig:function(){return e(Fn())},SelectBL:function(){return e(wn())},SelectFacCod:function(){return e(Pn())}}}))(_n),Kn=(n.Component,{year:"numeric",month:"numeric",day:"numeric"}),Yn=new Date;Yn.setDate(Yn.getDate());var Xn=Yn.toISOString().substr(0,10),Jn=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/BLBRs/".concat(e.target.value,"?type=bl")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/BLBRs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=BL")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/BLBRs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=BL")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,getBLByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:Xn,firstdate:Xn,seconddate:Xn,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBL(),this.props.SelectValTimbre()}},{key:"render",value:function(){var e=this,t=this.state,a=t.blid,n=t.datebl,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.rem,v=t.annuler,x=t.sumqt,C=t.facture,S=t.catfisc,k=t.SumHtBrut,T=t.taurem;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"bl-icon"},l.a.createElement("i",{class:"fas fa-list-alt"}," Bon de Livraison")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 BL / Client")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BL"))))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BL")))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabbl"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BL"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Factur\xe9"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/Api/LigBLBRs?type=BL&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(a){return e.setState({tabtab:a,sumqt:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)}),0),SumHtBrut:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)*t.priuni}),0),getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,taurem:t.taurem})}))}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Kn))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,t.facture===t.numfac?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabbl"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BL"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Factur\xe9"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/Api/LigBLBRs?type=BL&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(a){return e.setState({tabtab:a,sumqt:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)}),0),SumHtBrut:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)*t.priuni}),0),getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,taurem:t.taurem})}))}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Kn))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,t.facture===t.numfac?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))):l.a.createElement("div",{className:"tabbl"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BL"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Factur\xe9"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.props.bls.bls.map((function(t){return l.a.createElement("tr",{key:t.id,onClick:function(){fetch("http://192.168.1.100:81/Api/LigBLBRs?type=BL&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(a){return e.setState({tabtab:a,sumqt:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)}),0),SumHtBrut:a&&a.reduce((function(e,t){return e+parseInt(t.quantite)*t.priuni}),0),getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,taurem:t.taurem})}))}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Kn))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,t.facture===t.numfac?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))),l.a.createElement(Dn,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})},valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}),l.a.createElement(Qn,{show:this.state.getBLByIdModalShow,onHide:function(){return e.setState({getBLByIdModalShow:!1})},blid:a,datebl:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,rem:y,annuler:v,tabtab:this.state.tabtab,sumqt:x,facture:C,catfisc:S,SumHtBrut:k,taurem:T,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}))}}]),t}(n.Component);var $n=Object(w.b)((function(e){return{bls:e.bls,SearchingResult:e.SearchingReducer,valtimbres:e.valtimbres}}),(function(e){return{SelectBL:function(){return e(wn())},SelectValTimbre:function(){return e(Wt())}}}))(Jn),Zn=function(){return function(e){I.a.get("http://192.168.1.100:81/api/FACCLIs?type=FT").then((function(t){return e({type:"FACTURE_SELECT",payload:t.data})}))}},el=(a(216),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(s.i,null,"Chercher article par :"),l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({codearticle:a.id,des:a.title,unite:a.userId,puht:a.id,remisea:a.userId,tva:a.id,faudec:a.userId}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Code article",margin:"normal",fullWidth:!0}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({codearticle:a.id,des:a.title,unite:a.userId,puht:a.id,remisea:a.userId,tva:a.id,faudec:a.userId}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"D\xe9signation article",margin:"normal",fullWidth:!0}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:4},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"0px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,disabled:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:this.state.totalht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:this.state.puttcnet,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement(s.i,null," Fodec "),"A"===this.state.faudec?l.a.createElement(ia.a,{defaultChecked:!0,value:"secondary",color:"primary",inputProps:{"aria-label":"secondary checkbox"}}):l.a.createElement(s.i,null,l.a.createElement(ia.a,{disabled:!0,value:"disabled",inputProps:{"aria-label":"disabled checkbox"}}))))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(s.b,{disabled:!0,style:{width:"250px"},color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(s.b,{style:{width:"250px"},color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tab28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Article"),l.a.createElement("th",null,"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"Unit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Fodec"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.codearticle),l.a.createElement("td",{style:{fontSize:"12px"}},t.des),l.a.createElement("td",null,t.qte),l.a.createElement("td",null,t.unite),l.a.createElement("td",null,t.puht),l.a.createElement("td",null,"A"===t.faudec?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,t.remisea),l.a.createElement("td",null,t.tva),l.a.createElement("td",null,t.totalht),l.a.createElement("td",null,t.puttcnet),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(s.b,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled),e.props.onHide()}},"Enregistrer"):l.a.createElement(s.b,{disabled:!0,variant:"contained"},"Enregistrer"))))}}]),t}(n.Component));var tl=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(el),al=a(59),nl=new Date;nl.setDate(nl.getDate());var ll=nl.toISOString().substr(0,10),rl=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e,t,n,l,r,c,i,o,s){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s})},a.handleSubmit=function(e){e.preventDefault(),a.setState({openActionModal:!0})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.state={gilad:!0,defaultdate:ll,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,btnEnable:!1,btnEnabled:!1,cemail:"",openActionModal:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.GetNumFacDevis()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dvnumfac,t.dvraisoc,t.rem);t.clientmail;return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Facture"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code Facture",margin:"normal",fullWidth:!0,name:"codbc"}))),l.a.createElement(S.a,{sm:5}),l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.state.showButtonModalPassager?l.a.createElement(Ve.a,{title:"Ajouter les d\xe9tails du client passager"},l.a.createElement(me.a,{style:{backgroundColor:"#3f51b5",color:"white",fontWeight:"bold",width:"100%",marginTop:"20px",height:"40px"},onClick:function(){return e.setState({addModalShow1:!0,dvnumfac:e.props.numfac.numfac.map((function(e){return parseInt(e.valeur,10)+1})),dvraisoc:e.state.raisonsocial})}},"D\xe9tails Client Passager")):null))),l.a.createElement(C.a,{style:{marginBottom:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.clients.clients,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({raisonsocial:a.title,remiseg:a.userId,codeclient:a.id,categoriefiscale:a.userId,btnEnable:!0,showTimbre:a.completed,showForfitaire:a.userId,showButtonModalPassager:a.completed,cemail:a.title}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Code client",margin:"normal",fullWidth:!0}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.clients.clients,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({raisonsocial:a.title,remiseg:a.userId,codeclient:a.id,categoriefiscale:a.userId,btnEnable:!0,showTimbre:a.completed,showForfitaire:a.userId,showButtonModalPassager:a.completed,cemail:a.title}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Raison sociale",margin:"normal",fullWidth:!0}))}}))),l.a.createElement(S.a,{sm:4},this.state.gilad?l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:!0})):l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codecli",disabled:!0})))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:4},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"remise",defaultValue:this.state.defaultdate})),l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Cat Fiscale",margin:"normal",fullWidth:!0,name:"categoriefiscale",value:this.state.categoriefiscale})),l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",value:this.state.remiseg})),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,{style:{marginTop:"20px"}},this.state.showTimbre?l.a.createElement(Fa.a,{style:{width:"100%",textAlign:"center",fontSize:"12px"},variant:"success"},l.a.createElement("b",{style:{marginTop:"-10px"}}),"Timbre\u2714"):null)),l.a.createElement(S.a,{sm:2},l.a.createElement(He.a,{style:{marginTop:"20px"}},1===this.state.showForfitaire?l.a.createElement(Fa.a,{style:{width:"100%",textAlign:"center",fontSize:"12px"},variant:"success"},l.a.createElement("b",{style:{marginTop:"-10px"}}),"Forfitaire"):null))))),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:12},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(S.a,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"#3f51b5",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))),l.a.createElement(tl,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},rem:a})))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tab28"},l.a.createElement("table",null,l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Article"),l.a.createElement("th",null,"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"Unit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Fodec"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"))),l.a.createElement("tbody",null,this.state.tab.map((function(e){return l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("td",null,e.codearticle),l.a.createElement("td",{style:{fontSize:"12px"}},e.des),l.a.createElement("td",null,e.qte),l.a.createElement("td",null,e.unite),l.a.createElement("td",null,e.puht),l.a.createElement("td",null,"A"===e.faudec?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,e.remisea),l.a.createElement("td",null,e.tva),l.a.createElement("td",null,e.totalht),l.a.createElement("td",null,e.puttcnet))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},al(this.state.totalhtbrut,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},al(this.state.sumremisearticle,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},al(this.state.totaltva,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total Quantit\xe9"),l.a.createElement("p",{style:{color:"black"}},this.state.totalqte))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},al(this.state.totalhtnet,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},al(this.state.remiseglobal,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},al(this.state.totaltva,3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black"}},al(this.state.netapayer,3)))))))),l.a.createElement(ye.a.Footer,null)))}}]),t}(n.Component);Object(w.b)((function(e){return{clients:e.clients,numfac:e.numfac,articles:e.articles}}),(function(e){return{SelectClient:function(){return e(O())},GetNumFacDevis:function(){return e(ze())},SelectArticle:function(){return e(ke())}}}))(rl);var cl=function(){return function(e){I.a.get("https://jsonplaceholder.typicode.com/todos").then((function(t){return e({type:"F_LIG_SELECT",payload:t.data})}))}},il=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:a.state.puht+a.state.puht*(a.state.tva/100),totalht:e.target.value*a.state.puht})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:a.state.remisea,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:a.props.tabb,totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(s.i,null,"Chercher article par :"),l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({codearticle:a.id,des:a.title,unite:a.userId,puht:a.id,remisea:a.userId,tva:a.id,faudec:a.userId}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Code article",margin:"normal",fullWidth:!0}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.articles.articles,getOptionLabel:function(e){return e.title},onChange:function(t,a){a?e.setState({codearticle:a.id,des:a.title,unite:a.userId,puht:a.id,remisea:a.userId,tva:a.id,faudec:a.userId}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N"})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"D\xe9signation article",margin:"normal",fullWidth:!0}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:4},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"0px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,disabled:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:this.state.totalht,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:this.state.puttcnet,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement(s.i,null," Fodec "),"A"===this.state.faudec?l.a.createElement(ia.a,{defaultChecked:!0,value:"secondary",color:"primary",inputProps:{"aria-label":"secondary checkbox"}}):l.a.createElement(s.i,null,l.a.createElement(ia.a,{disabled:!0,value:"disabled",inputProps:{"aria-label":"disabled checkbox"}}))))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tab28"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Article"),l.a.createElement("th",null,"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"Unit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Fodec"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.codearticle),l.a.createElement("td",{style:{fontSize:"12px"}},t.des),l.a.createElement("td",null,t.qte),l.a.createElement("td",null,t.unite),l.a.createElement("td",null,t.puht),l.a.createElement("td",null,"A"===t.faudec?l.a.createElement("span",null,"\u2714"):l.a.createElement("span",null,"\xd8")),l.a.createElement("td",null,t.remisea),l.a.createElement("td",null,t.tva),l.a.createElement("td",null,t.totalht),l.a.createElement("td",null,t.puttcnet),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.onHide()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component);var ol=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(il),sl=a(494),ml=a.n(sl),ul=(a(59),[{icon:l.a.createElement(ml.a,null),name:"PDF"}]),dl={weekday:"short",year:"numeric",month:"short",day:"numeric"},pl=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})}))},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){},a.openModifier=function(){a.setState({openModifierModal:!0,blid:a.props.blid}),a.props.fligs.fligs.map((function(e){a.setState({ligid:e.id})}))},a.annuler=function(){window.alert("annuler")},a.imprimer=function(){window.alert("imprimer")},a.supprimer=function(){window.alert("supprimer")},a.state={open:!1,hidden:!1,openModifierModal:!1,ligid:"",blid:"",tab:[],newtab:[],codearticle:0,des:"",qte:0,unite:0,puht:0,faudec:0,remisea:0,tva:0,puttcnet:0,totalht:0,totalqte:0,netapayer:0,clientimp:[]},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectFactureLig()}},{key:"render",value:function(){var e=this,t=this.state;t.ligidd,t.bcidd,t.tabb;return l.a.createElement("div",{className:"container"},l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Facture"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 Facture")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.blid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date Facture")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datebl).toLocaleDateString("fr",dl))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabf28"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUTTCNET"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbre).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))," "),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-20px",right:"10px"},FabProps:{size:"small"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open},ul.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))),l.a.createElement(ol,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},ligidd:this.state.ligid,bcidd:this.state.bcid,tabb:this.state.newtab})),l.a.createElement(ye.a.Footer,null)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Bon de livraison \u2116 ",this.props.blid," ","-------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"170px"}},"Date:"," ",new Date(this.props.datebl).toLocaleDateString("fr",dl))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Client : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.codtva?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.codtva)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"620px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Timbre fiscal:"),l.a.createElement("td",null,Number(this.props.valtimbre).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var hl=Object(w.b)((function(e){return{fligs:e.fligs}}),(function(e){return{SelectFactureLig:function(){return e(cl())}}}))(pl),El={year:"numeric",month:"numeric",day:"numeric"},bl=new Date;bl.setDate(bl.getDate());var fl=bl.toISOString().substr(0,10),gl=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/FACCLIs/".concat(e.target.value,"?type=FT")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/FACCLIs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=FT")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/FACCLIs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=FT")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,getBLByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:fl,firstdate:fl,seconddate:fl,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectFacture(),this.props.SelectValTimbre()}},{key:"render",value:function(){var e=this,t=this.state,a=t.blid,n=t.datebl,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.rem,v=t.sumqt;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"f-icon"},l.a.createElement("i",{class:"fas fa-file-invoice-dollar"}," Facture")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 Facture / Client")))))),l.a.createElement(s.o,null,this.state.gilad?l.a.createElement(s.c,{sm:"4"},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))):l.a.createElement(s.o,{style:{marginTop:"-25px",marginLeft:"10px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:6},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate}))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabf"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 Facture"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/Api/LigFACCLIs?type=FT&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",El))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabf"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 Facture"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/Api/LigFACCLIs?type=FT&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",El))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))):l.a.createElement("div",{className:"tabf"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 Facture"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.props.factures.factures.map((function(t){return l.a.createElement("tr",{key:t.id,onClick:function(){fetch("http://192.168.1.100:81/Api/LigFACCLIs?type=FT&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",El))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.mntbon).toFixed(3))))}))))),l.a.createElement("div",{className:"tabf"},l.a.createElement(hl,{show:this.state.getBLByIdModalShow,onHide:function(){return e.setState({getBLByIdModalShow:!1})},blid:a,datebl:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,rem:y,tabtab:this.state.tabtab,sumqt:v,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))})))}}]),t}(n.Component);var yl=Object(w.b)((function(e){return{factures:e.factures,SearchingResult:e.SearchingReducer,valtimbres:e.valtimbres}}),(function(e){return{SelectFacture:function(){return e(Zn())},SelectValTimbre:function(){return e(Wt())}}}))(gl),vl=a(790),xl=a(497),Cl=a.n(xl),Sl=a(495),kl=a.n(Sl),Tl=a(496),wl=a.n(Tl),jl=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Auth").then((function(t){return e({type:"GET_DB",payload:t.data})}))}},Il=(a(718),function(e){function t(e){var a;Object(f.a)(this,t);var n=localStorage.getItem("token"),l=(localStorage.getItem("fct"),!0);return null==n&&(l=!1),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.UserHandler=function(e){a.setState({username:e.target.value}),fetch("http://192.168.1.100:81/api/Vendeur?nomm=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({coddeps:e,fct:e.map((function(e){return e.grp}))})}))},a.submitForm=function(e){e.preventDefault(e),fetch("http://192.168.1.100:81/api/Auth?nom=".concat(e.target.username.value,"&mp=").concat(e.target.password.value,"&grp=").concat(a.state.fct),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"Invalid"==e.Status?alert("Invalid username or password"):localStorage.setItem("token","abcd".concat(a.state.username,"1234ghqsd")),localStorage.setItem("username","".concat(a.state.username)),localStorage.setItem("fct","".concat(e.fct)),a.setState({loggedIn:!0})}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.state={username:"",password:"",loggedIn:l,snackbaropen:!1,coddeps:[],fct:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.GetDBFolder(),this.snackbarClose()}},{key:"render",value:function(){return this.state.loggedIn?l.a.createElement(b.a,{to:"/homepage"}):l.a.createElement("div",null,l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Fa.a,{onClose:this.snackbarClose,variant:"danger"},"username ou password invalide!!!")),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:7,className:"carous",style:{textAlign:"center"}},l.a.createElement("div",null,l.a.createElement(vl.a,null,l.a.createElement(vl.a.Item,null,l.a.createElement("img",{style:{height:"97vh",width:"100%"},className:"d-block w-100",src:kl.a,alt:"First slide"}),l.a.createElement(vl.a.Caption,null,l.a.createElement("p",{style:{color:"white",fontSize:"100px"}},"AYOOLA"),l.a.createElement("p",{style:{color:"white",fontSize:"50px"}},"Gestion commercial"))),l.a.createElement(vl.a.Item,null,l.a.createElement("img",{style:{height:"97vh",width:"100%"},className:"d-block w-100",src:wl.a,alt:"First slide"}),l.a.createElement(vl.a.Caption,{style:{marginTop:"-250px"}},l.a.createElement("p",{style:{color:"white",fontSize:"50px"}},"G\xe9rer vos affaires"),l.a.createElement("ul",{style:{color:"white",fontSize:"30px",marginLeft:"50px"}},l.a.createElement("li",null,"Vente ",l.a.createElement("span",null,"\u2714")),l.a.createElement("li",null,"Achat ",l.a.createElement("span",null,"\u2714")),l.a.createElement("li",null,"Facture ",l.a.createElement("span",null,"\u2714")),l.a.createElement("li",null,"Stat\xe9stiques ",l.a.createElement("span",null,"\u2714")),l.a.createElement("li",null,"Analyse ",l.a.createElement("span",null,"\u2714"))))),l.a.createElement(vl.a.Item,null,l.a.createElement("img",{style:{height:"97vh",width:"100%"},className:"d-block w-100",src:ae.a,alt:"First slide"}),l.a.createElement(vl.a.Caption,null))))),l.a.createElement(S.a,{sm:5,style:{marginTop:"100px",textAlign:"center"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:2}),l.a.createElement(S.a,{sm:8},l.a.createElement(we.a,null,l.a.createElement("div",{style:{backgroundColor:"rgb(220, 0, 78)",color:"white",width:"50px",height:"50px",borderRadius:"50%",justifyContent:"center",justifyItems:"center"}},l.a.createElement(Cl.a,{style:{width:"35px",height:"35px",margin:"7px"}}))),l.a.createElement("br",null),l.a.createElement("h3",null,"Login"),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.submitForm},l.a.createElement(A.a,{id:"outlined-basic",label:"username",variant:"outlined",name:"username",value:this.state.username,onChange:this.UserHandler,required:!0,fullWidth:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(A.a,{id:"outlined-basic",label:"password",type:"password",variant:"outlined",name:"password",onChange:this.onChange,required:!0,fullWidth:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(P.a,{type:"submit",style:{backgroundColor:"#1976d2",width:"100%"}},"Login"))),l.a.createElement(S.a,{sm:2}))),l.a.createElement(S.a,{Sm:4})))))}}]),t}(n.Component));var Nl=Object(w.b)((function(e){return{dbs:e.dbs}}),(function(e){return{GetDBFolder:function(){return e(jl())}}}))(Il),Ol=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Nome").then((function(t){return e({type:"ALLNOME_SELECT",payload:t.data})}))}},Bl=function(){return function(e){I.a.get("http://192.168.1.100:81/api/CatNome").then((function(t){return e({type:"CATNOME_SELECT",payload:t.data})}))}},Al=(a(719),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).catHandlerChange=function(){fetch("http://192.168.1.100:81/api/Nome?cat=".concat(a.state.cat)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e,show:!0})}))},a.supprimer=function(e){window.confirm("\xeates-vous s\xfbr de vouloir supprimer cette bon de livraison?")&&fetch("http://192.168.1.100:81/api/Nome?catcat=".concat(a.state.cat,"&codecode=").concat(e),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})}))},a.libHandler=function(e){a.setState({lib:e.target.value})},a.codeHandler=function(e){a.setState({code:e.target.value})},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/Nome?cat=".concat(a.state.cat,"&code=").concat(e.target.code.value,"&lib=").concat(e.target.lib.value,"&chdec=0"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),window.location.reload(),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.modifierHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/Nome?cat=".concat(a.state.cat,"&code=").concat(a.state.code,"&lib=").concat(a.state.lib),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),window.location.reload(),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.state={cat:"",tab:[],show:!1,snackbaropen:!1,snackbarmsg:",",code:"",lib:"",changeButton:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectAllNome(),this.props.SelectCatNome()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement("div",{className:"page-icon"},l.a.createElement("u",null," ",l.a.createElement("i",{class:"far fa-plus-square"}," Nomenclature"))),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:5},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"code"},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.catnomes.catnomes,getOptionLabel:function(e){return e.cat},onChange:function(t,a){a?fetch("http://192.168.1.100:81/api/Nome?cat=".concat(a.cat)).then((function(e){return e.json()})).then((function(t){return e.setState({tab:t,cat:a.cat,show:!0})})):e.setState({cat:"",show:!1,code:"",lib:"",changeButton:!1})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Cat\xe9gorie",margin:"normal",fullWidth:!0,name:"cat"}))}})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"code"},l.a.createElement(A.a,{id:"standard-basic",label:"Code",margin:"normal",fullWidth:!0,name:"code",type:"text",value:this.state.code,onChange:this.codeHandler})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,null,l.a.createElement(an.a.Group,{controlId:"lib"},l.a.createElement(A.a,{id:"standard-basic",label:"Libell\xe9",margin:"normal",fullWidth:!0,name:"lib",type:"text",value:this.state.lib,onChange:this.libHandler})))),l.a.createElement(C.a,{form:!0},l.a.createElement(S.a,{sm:2}),l.a.createElement(S.a,{sm:8},l.a.createElement(an.a.Group,null,this.state.changeButton?l.a.createElement(P.a,{style:{backgroundColor:"#17a2b8",width:"100%",borderColor:"#17a2b8"},onClick:this.modifierHandler},"Valider Modification"):l.a.createElement(P.a,{type:"submit",style:{backgroundColor:"#17a2b8",width:"100%",borderColor:"#17a2b8"}},"Enregistrer"))),l.a.createElement(S.a,{sm:2}))))))),l.a.createElement(S.a,{sm:7},l.a.createElement(k.a,{style:{height:"100%",marginTop:"5px"}},l.a.createElement(k.a.Body,null,l.a.createElement("h4",{style:{marginBottom:"30px"}}," ","Nomenclature \xa0"," ",l.a.createElement("span",{style:{color:"rgb(23, 162, 184)"}}," ",this.state.cat," ")," "),l.a.createElement(C.a,null,l.a.createElement(S.a,null,this.state.show?l.a.createElement("div",{className:"tabnome"},l.a.createElement(R.a,{striped:!0,hover:!0,size:"sm"},l.a.createElement("thead",{style:{background:"#454d55",color:"white"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Libell\xe9"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null," ",t.code," "),l.a.createElement("td",null," ",t.lib," "),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Editer"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){e.setState({code:t.code,lib:t.lib,changeButton:!0})}}))),"\xa0\xa0\xa0",l.a.createElement(Ve.a,{title:"Supprimer"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.supprimer(t.code)}})))))}))))):null)))))))}}]),t}(n.Component));var Dl=Object(w.b)((function(e){return{allnomes:e.allnomes,catnomes:e.catnomes}}),(function(e){return{SelectAllNome:function(){return e(Ol())},SelectCatNome:function(){return e(Bl())}}}))(Al),Fl=(a(217),function(){return function(e){I.a.get("http://192.168.1.100:81/api/bCDVCLIs?typpe=BE").then((function(t){return e({type:"BE_COD",payload:t.data})}))}}),ql=(a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.qteHandler=function(e){a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,netnetapayer:m})},a.submitHandlers=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:e.target.remisea.value,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,netnetapayer:m}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],snackbarmsg:",",netnetapayer:0,clicked:!1,stkfin:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandlers},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",defaultValue:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",t.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",t.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.totalht).toFixed(2))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled,e.state.netnetapayer),e.props.onHide()}},"Enregistrer"))))}}]),t}(n.Component));var Hl=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(ql),Ll=function(){return function(e){I.a.get("http://192.168.1.100:81/api/BEREs?type=BE").then((function(t){return e({type:"BE_SELECT",payload:t.data})}))}},Rl=function(){return function(e){I.a.get("http://192.168.1.100:81/api/bCDVCLIs?typpe=FF").then((function(t){return e({type:"FF_COD",payload:t.data})}))}},Ml=(a(59),new Date);Ml.setDate(Ml.getDate());var Wl=Ml.toISOString().substr(0,10),Pl=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).typachChange=function(){a.props.codfacfrss.codfacfrss.map((function(e){return a.setState({codf:e.valeur})}))},a.submitHandler=function(e,t,n,l,r,c,i,o,s,m){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s,netnetapayer:m})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.remiseChange=function(e){a.setState({remiseg:e.target.value})},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/fournisseurs?codfrss=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.enregistrer=function(e){e.preventDefault(),a.state.tab.map((function(t,n){for(var l=0;l<a.state.tab.length;l++)fetch("http://192.168.1.100:81/api/LigBEREs/{ID}?numfac=".concat(e.target.codbe.value,"&typfac=BE&numlig=").concat(n,"&codart=").concat(t.codearticle,"&quantite=").concat(t.qte,"&fodart=0&desart=").concat(t.des,"&datfac=").concat(e.target.datfac.value,"&priuni=").concat(t.puht,"&remise=").concat(t.remisea,"&unite").concat(t.unite,"&codtva=3&tautva=").concat(t.tva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/BEREs?numfac=".concat(e.target.codbe.value,"&typfac=BE&datfac=").concat(e.target.datfac.value,"&codfrs=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&pj=").concat(e.target.pj.value,"&taurem=").concat(e.target.remise.value,"&catfisc=0&typach=").concat(e.target.typach.value,"&Vendeur=").concat(a.state.username,"&valtimbre=").concat(a.state.valtimbre),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.codbes.codbes.map((function(e){return fetch("http://192.168.1.100:81/api/LIGBEREs?FACc=".concat(e.valeur,"&typfacc=BE"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}})})),a.setState({snackbaropen:!0,snackbarmsg:e}),window.location.reload(),a.props.SelectBECod(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=BE2&valeur=".concat(parseInt(e.target.codbe.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),"L"===e.target.typach.value&&fetch("http://192.168.1.100:81/api/FacFrs?numfac=".concat(e.target.codbe.value,"&typfac=BF&datfac=").concat(e.target.datfac.value,"&codfrs=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&pj=").concat(e.target.pj.value,"&numbe=").concat(e.target.codbe.value,"&taurem=").concat(e.target.remise.value,"&pj=").concat(e.target.pj.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){fetch("http://192.168.1.100:81/api/Switch?code=BF2&valeur=".concat(a.props.codbes.codbes.map((function(e){return parseInt(e.valeur,10)+1}))),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}})})),"F"===e.target.typach.value&&fetch("http://192.168.1.100:81/api/FacFrs?numfac=".concat(a.state.codf,"&typfac=FF&datfac=").concat(e.target.datfac.value,"&codfrs=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&pj=").concat(e.target.pj.value,"&numbe=").concat(e.target.codbe.value,"&taurem=").concat(e.target.remise.value,"&pj=").concat(e.target.pj.value),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){fetch("http://192.168.1.100:81/api/Switch?code=FF2&valeur=".concat(parseInt(a.state.codf)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}})}))};var n=localStorage.getItem("username");return a.state={gilad:!0,defaultdate:Wl,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,btnEnable:!1,btnEnabled:!1,cemail:"",openActionModal:!1,rechs:[],codetva:"",typach:[{code:"L",label:"L"},{code:"F",label:"F"}],nextsubmit:!1,snackbaropen:!1,snackbarmsg:",",codf:"",valtimbre:0,netnetapayer:0,catfiscal:"0",username:n,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBECod(),this.props.SelectFacFrsCod(),this.props.SelectFournisseur()}},{key:"render",value:function(){var e=this,t=this.state.rem;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Bon d'Entr\xe9e"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.props.codbes.codbes.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 BE",margin:"normal",value:e.valeur,fullWidth:!0,name:"codbe",disabled:!0})})))),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",defaultValue:this.state.defaultdate})),l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"outlined-select-currency",select:!0,label:"Type",margin:"normal",fullWidth:!0,name:"typach",onChange:this.typachChange},this.state.typach.map((function(e){return l.a.createElement(Oa.a,{key:e.code,value:e.code},e.label)}))))),l.a.createElement(C.a,{style:{marginBottom:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.fournisseurs.fournisseurs,getOptionLabel:function(e){return e.codfrs},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codfrs,btnEnable:!0,showTimbre:a.timbre,cemail:a.email,codetva:a.CodeTVA,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",codeclient:"",btnEnable:!1,showTimbre:!1,showButtonModalPassager:!1,codetva:"",valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code Fournisseur",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcliii"}))}}))):l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.fournisseurs.fournisseurs,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codfrs,btnEnable:!0,showTimbre:a.timbre,cemail:a.email,codetva:a.CodeTVA,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",codeclient:"",btnEnable:!1,showTimbre:!1,showButtonModalPassager:!1,codetva:"",valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raisssoc"}))}}))),this.state.gilad?l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raisssoc",disabled:!0}))):l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code Fournisseur",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codclii",disabled:!0})))),l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",style:{display:"none"},value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:!0}),l.a.createElement(A.a,{id:"standard-basic",label:"Code Fournisseur",margin:"normal",style:{display:"none"},value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0}),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:4},l.a.createElement(A.a,{id:"standard-basic",label:"Code TVA",margin:"normal",fullWidth:!0,name:"codetva",value:this.state.codetva,disabled:!0})),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",onChange:this.remiseChange})),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"PJ",margin:"normal",fullWidth:!0,name:"pj"}))))),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:12},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(S.a,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"#3f51b5",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(t){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null)))))))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",null,l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.state.tab.map((function(e){return l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",e.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",e.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.totalht).toFixed(2))))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.sumremisearticle).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.valtimbre).toFixed(3)))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.remiseglobal).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.netapayer).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.state.netnetapayer).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:8}),l.a.createElement(S.a,{sm:4},0===this.state.totalqte?l.a.createElement(me.a,{variant:"contained",disabled:!0,style:{marginTop:"20px",width:"100%"}},"Enregistrer tous"):l.a.createElement(me.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"100%",color:"white",backgroundColor:"#020F64"}},"Enregistrer tous"))))),l.a.createElement(ye.a.Footer,null)),l.a.createElement(Hl,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},numfaccc:this.props.codbes.codbes.map((function(e){return parseInt(e.valeur,10)+1})),datfac:this.state.defaultdate,rem:t,valtimbre:this.state.valtimbre}))}}]),t}(n.Component);var zl=Object(w.b)((function(e){return{fournisseurs:e.fournisseurs,codbes:e.codbes,codfacfrss:e.codfacfrss}}),(function(e){return{SelectFournisseur:function(){e(Ua())},SelectBECod:function(){return e(Fl())},SelectBE:function(){return e(Ll())},SelectFacFrsCod:function(){return e(Rl())}}}))(Pl),Vl=new Date;Vl.setDate(Vl.getDate());var Ul=Vl.toISOString().substr(0,10),Gl=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clickeda:!0})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/fournisseurs?codfrss=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechsc:e,clicked:!0})}))},a.datHandler=function(e){a.setState({datebcc:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.sameTable=function(){fetch("http://192.168.1.100:81/Api/LigBEREs?type=BE&numfac=".concat(a.props.blid)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.enrsnackbarClose=function(e){a.setState({enrsnackbaropen:!1})},a.fsnackbarClose=function(e){a.setState({fsnackbaropen:!1})},a.modifiermodification=function(e){var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:a.state.remisea,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,changeButton:!1}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",stkfin:0})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:e.target.remisea.value,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.deleteRowMod=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,btnEnabled:!0})},a.qteHandler=function(e){a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.enregistrer=function(e){fetch("http://192.168.1.100:81/api/BEREs?numfac=".concat(a.props.blid,"&typfac=BE&datfac=").concat(a.state.datebcc,"&codfrs=").concat(a.state.codeclient,"&raisoc=").concat(a.state.raisonsocial,"&catfisc=").concat(a.state.categoriefiscale,"&taurem=").concat(a.state.remiseg,"&pj=").concat(a.state.pj,"&typach=").concat(a.state.typach,"&Vendeur=").concat(a.state.username),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),fetch("http://192.168.1.100:81/api/LigBEREs/".concat(a.props.blid,"?typfacc=BE"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.state.tab.map((function(e,t){for(var n=0;n<a.state.tab.length;n++)fetch("http://192.168.1.100:81/api/LigBEREs/{ID}?numfac=".concat(a.props.blid,"&typfac=BE&numlig=").concat(t+10,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.props.datebl,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=3&tautva=").concat(e.tautva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){fetch("http://192.168.1.100:81/api/LIGBEREs?FACc=".concat(a.props.blid,"&typfacc=BE"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}),window.location.reload(),console.log(e),window.location.reload()}),(function(e){a.setState({enrsnackbaropen:!0,snackbarmsg:"failed"})}))})),"L"===a.props.typach&&fetch("http://192.168.1.100:81/api/FacFrs?numfac=".concat(a.props.blid,"&typfac=BF&datfac=").concat(a.state.defaultdate,"&smhtb=").concat(a.state.totalhtbrut,"&smremart=").concat(a.state.sumremisearticle,"&smremglo=").concat(a.state.remiseglobal,"&smhtn=").concat(a.state.totalhtnet,"&smtva=").concat(a.state.totaltva,"&mntbon=").concat(a.state.netapayer,"&reste=").concat(a.state.netapayer,"&numbe=").concat(a.props.blid,"&codfrs=").concat(a.props.client,"&raisoc=").concat(a.props.raisonsociale),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),"F"===a.props.typach&&fetch("http://192.168.1.100:81/api/FacFrs?numfac=".concat(a.state.numfacfacfrs,"&typfac=FF&datfac=").concat(a.state.defaultdate,"&smhtb=").concat(a.state.totalhtbrut,"&smremart=").concat(a.state.sumremisearticle,"&smremglo=").concat(a.state.remiseglobal,"&smhtn=").concat(a.state.totalhtnet,"&smtva=").concat(a.state.totaltva,"&mntbon=").concat(a.state.netapayer,"&reste=").concat(a.state.netapayer,"&numbe=").concat(a.props.blid,"&codfrs=").concat(a.props.client,"&raisoc=").concat(a.props.raisonsociale),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}))};var n=localStorage.getItem("username");return a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],snackbarmsg:"",enrsnackbaropen:!1,fsnackbaropen:!1,openEditModal:!1,changeButton:!1,idel:0,reload:!1,defaultdate:Ul,ffs:[],numfacfacfrs:"",giladd:!0,rechsc:[],remiseg:0,raisonsocial:"",codeclient:"",categoriefiscale:"",datebcc:"",username:n,typach:"",pj:"",clicked:!1,clickeda:!1,stkfin:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.SelectArticle(),this.sameTable(),this.props.SelectFournisseur(),this.setState({remiseg:this.props.taurem,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,categoriefiscale:this.props.catfisc,datebcc:new Date(this.props.datebl).toISOString().substr(0,10),typach:this.props.typach,pj:this.props.pj}),"F"===this.props.typach&&fetch("http://192.168.1.100:81/api/FacFrs?typpe=FF&numbee=".concat(this.props.blid)).then((function(e){return e.json()})).then((function(t){return e.setState({ffs:t,numfacfacfrs:t.map((function(e){return e.numfac}))})}))}},{key:"render",value:function(){var e=this;console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle));var t=this.state;t.quantt,t.remiss,t.artid,t.totalhtt,t.puttcnett,t.numligg,t.numfacccc,t.prixunix;return this.state.reload?l.a.createElement(b.a,{to:"/bon-de-livraison"}):l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.enrsnackbaropen,autoHideDuration:2e3,onClose:this.enrsnackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.enrsnackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Bon d'entr\xe9e \u2116 ",this.props.blid))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,{style:{marginBottom:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher client par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.giladd,onChange:this.handleChange("giladd"),value:"giladd",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code fournisseur"))))),this.state.giladd?l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.fournisseurs.fournisseurs,getOptionLabel:function(e){return e.codfrs},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codfrs,btnEnable:!0}):e.setState({raisonsocial:e.props.raisonsociale,codeclient:e.props.client,btnEnable:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code Fournisseur",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codfrss"}))}}))):l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.fournisseurs.fournisseurs,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codfrs,btnEnable:!0}):e.setState({raisonsocial:e.props.raisonsociale,codeclient:e.props.client,btnEnable:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}})))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code Fournisseur",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codfrs",disabled:!0,InputLabelProps:{shrink:!0}}))),l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",InputLabelProps:{shrink:!0},onChange:this.remiseglobalChange,value:this.state.remiseg})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",onChange:this.datHandler,value:this.state.datebcc,InputLabelProps:{shrink:!0}}))))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"Code Article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",defaultValue:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),this.state.changeButton?l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"320px"},variant:"contained",color:"primary",onClick:function(){e.modifiermodification()}},"Enregistrer les modifications")):""===this.state.des?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbe2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"46%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"46%"}},t.desart),l.a.createElement("td",null,l.a.createElement("span",null,t.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(t.codart)).then((function(e){return e.json()})).then((function(t){return e.setState({stkfin:t.map((function(e){return e.stkfin}))})})),e.setState({codearticle:t.codart,des:t.desart,unite:t.unite,puht:t.priuni,remisea:t.remise,tva:t.tautva,faudec:t.typfodec,qte:t.quantite,totalht:t.montht,puttcnet:t.PUTTCNET,changeButton:!0}),e.deleteRowMod(a)}})))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.enregistrer(),e.props.onHide(),e.props.onHide01(),window.alert("Modification enregistr\xe9s")}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component);var _l=Object(w.b)((function(e){return{articles:e.articles,fournisseurs:e.fournisseurs}}),(function(e){return{SelectArticle:function(){return e(ke())},SelectBL:function(){return e(wn())},SelectFournisseur:function(){e(Ua())}}}))(Gl),Ql=(a(59),[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}]),Kl={weekday:"short",year:"numeric",month:"short",day:"numeric"},Yl=new Date;Yl.setDate(Yl.getDate());var Xl=Yl.toISOString().substr(0,10),Jl=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).openModifier=function(){a.setState({openModifierModal:!0})},a.handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/fournisseurs?codfrss=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})}))},a.handleClose=function(){a.setState({open:!1})},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.annuler=function(){"0"===a.props.annuler?fetch("http://192.168.1.100:81/api/BEREs?idd=".concat(a.props.blid,"&typfaccs=BE"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBE(),a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()})):window.alert("Bon de livraison d\xe9ja annul\xe9e")},a.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer cette bon de livraison?")&&(fetch("http://192.168.1.100:81/api/LigBEREs/".concat(a.props.blid,"?typfacc=BE"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),"L"===a.props.typach&&fetch("http://192.168.1.100:81/api/FacFrs/".concat(a.props.blid,"?typfacc=BF"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),"F"===a.props.typach&&fetch("http://192.168.1.100:81/api/FacFrs/".concat(a.props.blid,"?typfacc=FF"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://192.168.1.100:81/api/BEREs/".concat(a.props.blid,"?typfacc=BE"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBE(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e}),window.location.reload()})))},a.nonsupprimer=function(){window.alert("Vous devez annuler ce bon de livraison pour que vous puisse le supprimer")},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.state={open:!1,hidden:!1,openModifierModal:!1,ligid:"",blid:"",tab:[],newtab:[],todaydate:Xl,codearticle:0,des:"",qte:0,unite:0,puht:0,faudec:0,remisea:0,tva:0,puttcnet:0,totalht:0,totalqte:0,netapayer:0,clientimp:[],snackbaropen:!1,snackbarmsg:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Bon d'Entr\xe9e"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 BE")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.blid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date BE")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datebl).toLocaleDateString("fr",Kl))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Fournisseur")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:5},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbl2"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"46%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"46%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbree).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"grey",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.props.totalttc).toFixed(3)))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-30px",right:"0px"},FabProps:{size:"small"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open},Ql.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&"1"===e.props.annuler&&e.supprimer(),"Supprimer"==t.name&&"0"===e.props.annuler&&e.nonsupprimer(),"Annuler"==t.name&&e.annuler()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}))))))),l.a.createElement(_l,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},tabb:this.props.tabtab,blid:this.props.blid,datebl:this.props.datebl,onHide01:this.props.onHide,typach:this.props.typach,pj:this.props.pj,client:this.props.client,raisonsociale:this.props.raisonsociale,taurem:this.props.taurem,catfisc:this.props.catfisc}),l.a.createElement(ye.a.Footer,null)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Bon d'Entr\xe9e \u2116 ",this.props.blid," ","-------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"190px"}},"Date:"," ",new Date(this.props.datebl).toLocaleDateString("fr",Kl))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Fournisseur : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.CodeTVA?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.CodeTVA)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"640px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},l.a.createElement(T.a,{style:{backgroundColor:"black"}})),l.a.createElement("td",null,l.a.createElement(T.a,{style:{backgroundColor:"black"}}))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(this.props.totalttc).toFixed(3)," ")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var $l=Object(w.b)((function(e){return{}}),(function(e){return{SelectBE:function(){return e(Ll())}}}))(Jl),Zl={year:"numeric",month:"numeric",day:"numeric"},er=new Date;er.setDate(er.getDate());var tr=er.toISOString().substr(0,10),ar=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/BEREs/".concat(e.target.value,"?type=BE")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/BEREs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=BE")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/BEREs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=BE")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,getBLByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:tr,firstdate:tr,seconddate:tr,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectBE(),this.props.SelectValTimbre()}},{key:"render",value:function(){var e=this;if(!1===this.state.loggedIn)return l.a.createElement(b.a,{to:"/"});var t=this.state,a=t.blid,n=t.datebl,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.rem,v=t.annuler,x=t.sumqt,C=t.facture,S=t.catfisc,k=t.typach,T=t.pj,w=t.taurem,j=t.valtimbree;return l.a.createElement("div",null,l.a.createElement("div",{className:"bl-icon"},l.a.createElement("i",{class:"fa fa-share","aria-hidden":"true"}," ","Bon d'Entr\xe9e")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 BE / Fournisseur")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BE"))))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BE")))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabbe"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BE"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code Frs"),l.a.createElement("th",{style:{width:"40%"}},"Raison social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t,a){return l.a.createElement("tr",{key:a,onClick:function(){fetch("http://192.168.1.100:81/api/LIGBEREs?type=BE&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codfrs,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,typach:t.typach,pj:t.pj,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Zl))),l.a.createElement("td",null,l.a.createElement("span",null,t.codfrs)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabbe"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BE"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code Frs"),l.a.createElement("th",{style:{width:"40%"}},"Raison social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t,a){return l.a.createElement("tr",{key:a,onClick:function(){fetch("http://192.168.1.100:81/api/LIGBEREs?type=BE&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codfrs,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,typach:t.typach,pj:t.pj,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Zl))),l.a.createElement("td",null,l.a.createElement("span",null,t.codfrs)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))):l.a.createElement("div",{className:"tabbe"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BE"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code Frs"),l.a.createElement("th",{style:{width:"40%"}},"Raison social"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,this.props.bes.bes.map((function(t,a){return l.a.createElement("tr",{key:a,onClick:function(){fetch("http://192.168.1.100:81/api/LIGBEREs?type=BE&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({getBLByIdModalShow:!0,blid:t.numfac,datebl:t.datfac,client:t.codfrs,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,facture:t.facture,catfisc:t.catfisc,typach:t.typach,pj:t.pj,taurem:t.taurem,valtimbree:t.valtimbre})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",Zl))),l.a.createElement("td",null,l.a.createElement("span",null,t.codfrs)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(t.valtimbre)).toFixed(3))," "))}))))),l.a.createElement(zl,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})},valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}),l.a.createElement($l,{show:this.state.getBLByIdModalShow,onHide:function(){return e.setState({getBLByIdModalShow:!1})},blid:a,datebl:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,rem:y,annuler:v,tabtab:this.state.tabtab,sumqt:x,facture:C,catfisc:S,typach:k,pj:T,taurem:w,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)})),valtimbree:j}))}}]),t}(n.Component);var nr=Object(w.b)((function(e){return{bes:e.bes,valtimbres:e.valtimbres}}),(function(e){return{SelectBE:function(){return e(Ll())},SelectValTimbre:function(){return e(Wt())}}}))(ar),lr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/BCDVCLIs?REG=REGC").then((function(t){return e({type:"RECCCCCOD",payload:t.data})}))}},rr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=BQ").then((function(t){return e({type:"NOMENCLATUREBQ_SELECT",payload:t.data})}))}},cr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=AG").then((function(t){return e({type:"NOMENCLATUREAG_SELECT",payload:t.data})}))}},ir=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=CS").then((function(t){return e({type:"NOMENCLATURECS_SELECT",payload:t.data})}))}},or=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=SC").then((function(t){return e({type:"NOMENCLATURESC_SELECT",payload:t.data})}))}},sr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=CCB").then((function(t){return e({type:"NOMENCLATURECCB_SELECT",payload:t.data})}))}},mr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/REGCLIs").then((function(t){return e({type:"REG_SELECT",payload:t.data})}))}},ur=new Date;ur.setDate(ur.getDate());var dr=ur.toISOString().substr(0,10),pr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).enregistrer=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/REGCLIs?numreg=".concat(e.target.codre.value,"&datreg=").concat(e.target.datreg.value,"&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&modreg=").concat(a.state.codmodreg,"&numcais=").concat(a.state.codcaisse,"&matban=").concat(a.state.codbqclient,"&monreg=").concat(e.target.montant.value,"&numchq=").concat(e.target.numpiece.value,"&titulaire=").concat(e.target.titulaire.value,"&datech=").concat(e.target.echeance.value,"&mntreg=").concat(e.target.montant.value,"&verser=").concat(a.state.codsituation,"&lib_reg=").concat(e.target.note.value,"&BqEscompte=").concat(a.state.codbqvers,"&codccb=").concat(a.state.codccb,"&agence=").concat(a.state.codagence),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectReglement(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.GetRECod(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=REGC&valeur=".concat(parseInt(e.target.codre.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e})}))},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.state={gilad:!0,defaultdate:dr,raisonsocial:"",codeclient:"",btnEnable:!1,soldfacbl:0,codmodreg:"",libmodreg:"",bqclient:"",montant:0,codbqclient:"",libbqclient:"",codagence:"",libagence:"",codcaisse:"",libcaisse:"",codsituation:"",libsituation:"",codbqvers:"",libbqvers:"",codccb:"",libccb:"",chdec:"",snackbaropen:!1,snackbarmsg:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.GetRECod(),this.props.SelectNomenclature(),this.props.SelectNomenclatureBQ(),this.props.SelectNomenclatureAG(),this.props.SelectNomenclatureCS(),this.props.SelectNomenclatureSC(),this.props.SelectNomenclatureCCB(),this.props.SelectReglement()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter R\xe8glement client"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-30px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,this.props.codres.codres.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 R\xe8glement",margin:"normal",value:parseInt(e.valeur),fullWidth:!0,name:"codre",disabled:!0})})))),l.a.createElement(s.c,{sm:4},l.a.createElement(A.a,{name:"datreg",id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Montant",margin:"normal",defaultValue:Number(this.state.montant).toFixed(3),fullWidth:!0,name:"montant"})))),l.a.createElement(s.o,{style:{marginBottom:"-30px"}},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.rechs,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codcli,soldfacbl:a.soldfacbl,btnEnable:!0}):e.setState({raisonsocial:"",codeclient:"",btnEnable:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.rechs,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,codeclient:a.codcli,soldfacbl:a.soldfacbl,btnEnable:!0}):e.setState({raisonsocial:"",codeclient:"",btnEnable:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}}))),this.state.gilad?l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:!0}))):l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0})))))),l.a.createElement(s.o,{style:{marginTop:"10px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-15px",marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.nomenclatures.nomenclatures,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codmodreg:a.code,libmodreg:a.lib}):e.setState({codmodreg:"",libmodreg:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Mode R\xe8g",margin:"normal",fullWidth:!0,name:"modreg"}))}})),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.libmodreg," "))),l.a.createElement(s.o,{style:{marginBottom:"-15px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 Pi\xe8ce",margin:"normal",fullWidth:!0,name:"numpiece"})))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",type:"date",label:"Ech\xe9ance",margin:"normal",fullWidth:!0,name:"echeance",InputLabelProps:{shrink:!0}})))),l.a.createElement(s.o,{style:{marginBottom:"5px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Titulaire",margin:"normal",fullWidth:!0,name:"titulaire"})))),l.a.createElement(s.o,{style:{marginBottom:"-10px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"outlined-multiline-static",label:"Note",variant:"outlined",fullWidth:!0,name:"note",rows:2,multiline:!0}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-35px",marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.bqs.bqs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codbqclient:a.code,libbqclient:a.lib}):e.setState({codbqclient:"",libbqclient:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Bq client",margin:"normal",fullWidth:!0,name:"bqclient"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.libbqclient," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.ags.ags,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codagence:a.code,libagence:a.lib}):e.setState({codagence:"",libagence:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Agence",margin:"normal",fullWidth:!0,name:"agence"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.libagence," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.css.css,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codcaisse:a.code,libcaisse:a.lib}):e.setState({codcaisse:"",libcaisse:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Caisse",margin:"normal",fullWidth:!0,name:"caisse"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.libcaisse," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.scs.scs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codsituation:a.code,libsituation:a.lib}):e.setState({codsituation:"",libsituation:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Situation",margin:"normal",fullWidth:!0,name:"situation"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.libsituation," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.bqs.bqs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codbqvers:a.code,libbqvers:a.lib}):e.setState({codbqvers:"",libbqvers:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Bq vers",margin:"normal",fullWidth:!0,name:"bqvers"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.libbqvers," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.ccbs.ccbs,getOptionLabel:function(t){return t.chdec===e.state.codbqvers?t.code:null},onChange:function(t,a){a?e.setState({codccb:a.code,libccb:a.lib,chdec:a.chdec}):e.setState({codccb:"",libccb:"",chdec:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"CCB",margin:"normal",fullWidth:!0,name:"ccb"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.libccb," "))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("h3",{style:{color:"rgb(23, 162, 184)"}},"\xa0 Solde:","  ",l.a.createElement("span",{style:{color:"black"}},Number(this.state.soldfacbl).toFixed(3)))),l.a.createElement(s.c,{sm:2}),l.a.createElement(s.c,{sm:4},l.a.createElement(me.a,{variant:"contained",type:"submit",style:{width:"100%",color:"white",backgroundColor:"#020F64"}},"Enregistrer")))))))}}]),t}(n.Component);var hr=Object(w.b)((function(e){return{clients:e.clients,codres:e.codres,nomenclatures:e.nomenclatures,bqs:e.bqs,ags:e.ags,css:e.css,scs:e.scs,ccbs:e.ccbs}}),(function(e){return{SelectClient:function(){return e(O())},GetRECod:function(){return e(lr())},SelectNomenclature:function(){return e(mn("MR"))},SelectNomenclatureBQ:function(){return e(rr())},SelectNomenclatureAG:function(){return e(cr())},SelectNomenclatureCS:function(){return e(ir())},SelectNomenclatureSC:function(){return e(or())},SelectNomenclatureCCB:function(){return e(sr())},SelectReglement:function(){return e(mr())}}}))(pr),Er=(a(720),a(732)),br=new Date;br.setDate(br.getDate());var fr=br.toISOString().substr(0,10),gr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).montantHandler=function(e){a.setState({montant:e.target.value})},a.numchqHandler=function(e){a.setState({numchq:e.target.value})},a.titulaireHandler=function(e){a.setState({titulaire:e.target.value})},a.noteHandler=function(e){a.setState({note:e.target.value})},a.enregistrer=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/REGCLIs?numreg=".concat(e.target.codre.value,"&datreg=").concat(e.target.datreg.value,"&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raisonsocial.value,"&modreg=").concat(a.state.codmodreg,"&numcais=").concat(a.state.codcaisse,"&matban=").concat(a.state.codbqclient,"&monreg=").concat(a.state.montant,"&numchq=").concat(e.target.numchq.value,"&titulaire=").concat(a.state.titulaire,"&datech=").concat(e.target.echeance.value,"&mntreg=").concat(a.state.montant,"&verser=").concat(a.state.codsituation,"&lib_reg=").concat(a.state.note,"&BqEscompte=").concat(a.state.codbqvers,"&codccb=").concat(a.state.codccb,"&agence=").concat(a.state.codagence),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectReglement(),a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e})}))},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.state={gilad:!0,defaultdate:fr,raisonsocial:"",codeclient:"",btnEnable:!1,soldfacbl:0,codmodreg:"",libmodreg:"",bqclient:"",montant:0,codbqclient:"",libbqclient:"",codagence:"",libagence:"",codcaisse:"",libcaisse:"",codsituation:"",libsituation:"",codbqvers:"",libbqvers:"",codccb:"",libccb:"",chdec:"",snackbaropen:!1,snackbarmsg:",",numchq:"",titulaire:"",note:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.SelectNomenclature(),this.props.SelectNomenclatureBQ(),this.props.SelectNomenclatureAG(),this.props.SelectNomenclatureCS(),this.props.SelectNomenclatureSC(),this.props.SelectNomenclatureCCB(),this.props.SelectReglement(),this.setState({codmodreg:this.props.codmodreg,codbqclient:this.props.codbqclient,codagence:this.props.codagence,codcaisse:this.props.codcaisse,codsituation:this.props.codsituation,codbqvers:this.props.codbqvers,codccb:this.props.codccb,montant:this.props.montant,numchq:this.props.numchq,titulaire:this.props.titulaire,note:this.props.note})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier R\xe8glement client"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-30px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 R\xe8glement",margin:"normal",value:this.props.regid,fullWidth:!0,name:"codre",disabled:!0}))),l.a.createElement(s.c,{sm:4},l.a.createElement(A.a,{name:"datreg",id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},defaultValue:new Date(this.props.datreg).toISOString().substr(0,10)})),l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Montant",margin:"normal",defaultValue:Number(this.state.montant).toFixed(3),fullWidth:!0,name:"montant",onChange:this.montantHandler})))),l.a.createElement(s.o,{style:{marginBottom:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",fullWidth:!0,name:"codcli",value:this.props.codeclient,disabled:!0}))),l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison Social",margin:"normal",fullWidth:!0,name:"raisonsocial",value:this.props.raisonsocial,disabled:!0})))))),l.a.createElement(s.o,{style:{marginTop:"10px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-15px",marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.nomenclatures.nomenclatures,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codmodreg:a.code,libmodreg:a.lib}):e.setState({codmodreg:"",libmodreg:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Mode R\xe8g",margin:"normal",fullWidth:!0,name:"modreg"}))}})),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.codmodreg," "))),l.a.createElement(s.o,{style:{marginBottom:"-15px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 Pi\xe8ce",margin:"normal",fullWidth:!0,name:"numchq",defaultValue:this.state.numchq,onChange:this.numchHandler})))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",type:"date",label:"Ech\xe9ance",margin:"normal",fullWidth:!0,name:"echeance",InputLabelProps:{shrink:!0},defaultValue:new Date(this.props.datech).toISOString().substr(0,10)})))),l.a.createElement(s.o,{style:{marginBottom:"5px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Titulaire",margin:"normal",fullWidth:!0,name:"titulaire",defaultValue:this.state.titulaire,onChange:this.titulaireHandler})))),l.a.createElement(s.o,{style:{marginBottom:"-10px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"outlined-multiline-static",label:"Note",variant:"outlined",fullWidth:!0,name:"note",rows:2,multiline:!0,defaultValue:this.state.note,onChange:this.noteHandler}))))))),l.a.createElement(s.c,{sm:6},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-35px",marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.bqs.bqs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codbqclient:a.code,libbqclient:a.lib}):e.setState({codbqclient:"",libbqclient:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Bq client",margin:"normal",fullWidth:!0,name:"bqclient"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.codbqclient," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.ags.ags,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codagence:a.code,libagence:a.lib}):e.setState({codagence:"",libagence:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Agence",margin:"normal",fullWidth:!0,name:"agence"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.codagence," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.css.css,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codcaisse:a.code,libcaisse:a.lib}):e.setState({codcaisse:"",libcaisse:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Caisse",margin:"normal",fullWidth:!0,name:"caisse"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}}," ",this.state.codcaisse," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.scs.scs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codsituation:a.code,libsituation:a.lib}):e.setState({codsituation:"",libsituation:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Situation",margin:"normal",fullWidth:!0,name:"situation"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.codsituation," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.bqs.bqs,getOptionLabel:function(e){return e.code},onChange:function(t,a){a?e.setState({codbqvers:a.code,libbqvers:a.lib}):e.setState({codbqvers:"",libbqvers:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Bq vers",margin:"normal",fullWidth:!0,name:"bqvers"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.codbqvers," "))),l.a.createElement(s.o,{style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.ccbs.ccbs,getOptionLabel:function(t){return t.chdec===e.state.codbqvers?t.code:null},onChange:function(t,a){a?e.setState({codccb:a.code,libccb:a.lib,chdec:a.chdec}):e.setState({codccb:"",libccb:"",chdec:""})},renderInput:function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"CCB",margin:"normal",fullWidth:!0,name:"ccb"}))}}))),l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{fontSize:"12px",marginTop:"40px",color:"#007bff"}}," ",this.state.codccb," "))))))),l.a.createElement("br",null),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6}),l.a.createElement(s.c,{sm:2}),l.a.createElement(s.c,{sm:4},l.a.createElement(me.a,{variant:"contained",type:"submit",style:{width:"100%",color:"white",backgroundColor:"#020F64"}},"Enregistrer")))))))}}]),t}(n.Component);var yr=Object(w.b)((function(e){return{clients:e.clients,nomenclatures:e.nomenclatures,bqs:e.bqs,ags:e.ags,css:e.css,scs:e.scs,ccbs:e.ccbs}}),(function(e){return{SelectClient:function(){return e(O())},SelectNomenclature:function(){return e(mn("MR"))},SelectNomenclatureBQ:function(){return e(rr())},SelectNomenclatureAG:function(){return e(cr())},SelectNomenclatureCS:function(){return e(ir())},SelectNomenclatureSC:function(){return e(or())},SelectNomenclatureCCB:function(){return e(sr())},SelectReglement:function(){return e(mr())}}}))(gr),vr=Object(mt.a)((function(e){return{typography:{padding:e.spacing(2)}}})),xr=[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}],Cr={weekday:"short",year:"numeric",month:"short",day:"numeric"},Sr={year:"numeric",month:"numeric",day:"numeric"},kr=new Date;kr.setDate(kr.getDate());var Tr=kr.toISOString().substr(0,10),wr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClosee=function(){a.setState({anchorEl:null})},a.toggle=function(){a.setState({popoverOpen:!0})},a.handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})}))},a.handleClose=function(){a.setState({open:!1})},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer Le r\xe9glement num\xe9ro ".concat(a.props.regid,"?"))&&fetch("http://192.168.1.100:81/api/REGCLIs/".concat(a.props.regid),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e),window.location.reload()}))},a.openModifier=function(){a.setState({openModifierModal:!0})},a.state={open:!1,popoverOpen:!1,anchorEl:null,snackbaropen:!1,snackbarmsg:"",clientimp:[],todaydate:Tr,openModifierModal:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl),a=t?"simple-popover":void 0;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails R\xe8glement Client"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 R\xe8glement")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.regid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date R\xe8g")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datereg).toLocaleDateString("fr",Cr))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:4},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:6},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:6},l.a.createElement("p",{style:{color:"darkslateblue"}},"Mode r\xe8glement")),l.a.createElement(S.a,{sm:6},""===this.props.modreg||null===this.props.modreg?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.modreg))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:6},l.a.createElement("p",{style:{color:"darkslateblue"}},"\u2116 Pi\xe8ce")),l.a.createElement(S.a,{sm:6},""===this.props.numchq||null===this.props.numchq?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.numchq))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:6},l.a.createElement("p",{style:{color:"darkslateblue"}},"Banque client")),l.a.createElement(S.a,{sm:6},""===this.props.matban||null===this.props.matban?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.matban))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:6},l.a.createElement("p",{style:{color:"darkslateblue"}},"Agence")),l.a.createElement(S.a,{sm:6},""===this.props.agence||null===this.props.agence?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.agence))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:6},l.a.createElement("p",{style:{color:"darkslateblue"}},"Caisse")),l.a.createElement(S.a,{sm:6},""===this.props.numcais||null===this.props.numcais?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.numcais)))))),l.a.createElement(S.a,{sm:6},l.a.createElement(k.a,{style:{height:"100%"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:7},l.a.createElement("p",{style:{color:"darkslateblue"}},"Ech\xe9ance")),l.a.createElement(S.a,{sm:5},null===this.props.datech||""===this.props.datech?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}}," ",new Date(this.props.datech).toLocaleDateString("fr",Sr)))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:7},l.a.createElement("p",{style:{color:"darkslateblue"}},"Titulaire")),l.a.createElement(S.a,{sm:5},""===this.props.titulaire||null===this.props.titulaire?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.titulaire))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:7},l.a.createElement("p",{style:{color:"darkslateblue"}},"Situation")),l.a.createElement(S.a,{sm:5},""===this.props.verser||null===this.props.verser?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.verser))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:7},l.a.createElement("p",{style:{color:"darkslateblue"}},"Banque versement")),l.a.createElement(S.a,{sm:5},""===this.props.bqescompte||null===this.props.bqescompte?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.bqescompte))),l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:7},l.a.createElement("p",{style:{color:"darkslateblue"}},"C.C.B")),l.a.createElement(S.a,{sm:5},""===this.props.codccb||null===this.props.codccb?l.a.createElement("p",{style:{color:"black"}},"--"):l.a.createElement("p",{style:{color:"black"}},this.props.codccb)))," ")))),l.a.createElement(k.a,{style:{marginTop:"12px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-12px"}},l.a.createElement(S.a,{sm:3},l.a.createElement("div",null,l.a.createElement(me.a,{"aria-describedby":a,variant:"contained",color:"primary",style:{width:"100%",height:"60px"},onClick:this.handleClick},"Note"),l.a.createElement(Er.a,{id:a,open:t,anchorEl:this.state.anchorEl,onClose:this.handleClosee,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(ue.a,{style:{width:"500px",height:"100px",padding:"10px",background:"#eee"},className:vr.typography},""===this.props.note||null===this.props.note?l.a.createElement("p",null," Note Vide ... "):l.a.createElement("p",{style:{color:"black",fontSize:"17px"}},this.props.note))))),l.a.createElement(S.a,{sm:8},l.a.createElement(s.a,{color:"secondary",style:{width:"100%",height:"60px"}},l.a.createElement("h4",{style:{color:"#17a2b8",textAlign:"center"}},"Montant \xa0\xa0",l.a.createElement("span",{style:{color:"black"}},Number(this.props.monreg).toFixed(3))))),l.a.createElement(S.a,{sm:1},l.a.createElement("div",null,l.a.createElement(ht.a,{style:{position:"absolute",bottom:"25px",right:"0px"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open,FabProps:{size:"small"}},xr.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&e.supprimer()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))))))),l.a.createElement(ye.a.Footer,null),l.a.createElement(yr,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},regid:this.props.regid,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,datreg:this.props.datereg,codmodreg:this.props.modreg,bqclient:this.props.matban,montant:this.props.monreg,codbqclient:this.props.matban,codagence:this.props.agence,codcaisse:this.props.numcais,codsituation:this.props.verser,codbqvers:this.props.bqescompte,codccb:this.props.codccb,titulaire:this.props.titulaire,datech:this.props.datech,numchq:this.props.numchq,note:this.props.note})),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("div",{style:{borderTopStyle:"solid",marginBottom:"20px"}}),l.a.createElement("h1",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"Re\xe7u \u2116: ",this.props.regid," "),l.a.createElement(C.a,null,l.a.createElement(S.a,null),l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"230px"}},"Le:"," ",new Date(this.state.todaydate).toLocaleDateString("fr",Sr)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h2",{style:{marginBottom:"15px",marginLeft:"10px"}},"Client : \xa0\xa0"," ",l.a.createElement("span",{className:"imp"},l.a.createElement("b",null,this.props.client)," ",this.props.raisonsociale)),l.a.createElement("h2",{style:{marginBottom:"15px",marginLeft:"10px"}},"R\xe8glement : \xa0\xa0"," ",l.a.createElement("span",{className:"imp"},this.props.modreg)),""===this.props.numchq||null===this.props.numchq?null:l.a.createElement("h2",{style:{marginBottom:"15px",marginLeft:"10px"}},"Pi\xe8ce : \xa0\xa0"," ",l.a.createElement("span",{className:"imp"},this.props.numchq," \xa0 ",l.a.createElement("b",null,"Au")," ",new Date(this.props.datech).toLocaleDateString("fr",Sr),"\xa0 ",l.a.createElement("b",null,"Banque")," \xa0",this.props.matban)),l.a.createElement("h2",{style:{marginBottom:"15px",marginLeft:"10px"}},"Montant : \xa0\xa0"," ",l.a.createElement("span",{className:"imp"},Number(this.props.monreg).toFixed(3))),l.a.createElement("h2",{style:{marginBottom:"15px",marginLeft:"10px"}},"Date du r\xe8glement : \xa0\xa0"," ",l.a.createElement("span",{className:"imp"},new Date(this.props.datereg).toLocaleDateString("fr",Sr)))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("h3",{style:{marginLeft:"170px"}}," Signature & Cachet "),l.a.createElement("h3",{style:{marginRight:"200px"}}," Signature Client ")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{borderBottomStyle:"dashed"}}))))}}]),t}(n.Component),jr={year:"numeric",month:"numeric",day:"numeric"},Ir=new Date;Ir.setDate(Ir.getDate());var Nr=Ir.toISOString().substr(0,10),Or=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/REGCLIs/".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/REGCLIs?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate)).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/REGCLIs?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,getREByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:Nr,firstdate:Nr,seconddate:Nr,rechdats:[],showrechbydate:!1,gilad:!0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectReglement()}},{key:"render",value:function(){var e=this;if(!1===this.state.loggedIn)return l.a.createElement(b.a,{to:"/"});var t=this.state,a=t.regid,n=t.datereg,r=t.client,c=t.raisonsociale,i=t.modreg,o=t.numcais,m=t.numchq,u=t.titulaire,d=t.datech,p=t.mntreg,h=t.bqescompte,E=t.codccb,f=t.agence,g=t.monreg,y=t.verser,v=t.matban,x=t.note;return l.a.createElement("div",null,l.a.createElement("div",{className:"bl-icon"},l.a.createElement("i",{className:"fab fa-dashcube"}," R\xe8glement Client")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 BR\xe8glement / Client")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter R\xe8glement"))))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BL")))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabre"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 REG"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant"),l.a.createElement("th",null,"Solde"))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numreg,onClick:function(){return e.setState({getREByIdModalShow:!0,regid:t.numreg,datereg:t.datreg,client:t.codcli,raisonsociale:t.raisoc,modreg:t.modreg,numcais:t.numcais,numchq:t.numchq,titulaire:t.titulaire,datech:t.datech,mntreg:t.mntreg,bqescompte:t.BqEscompte,codccb:t.codccb,agence:t.agence,monreg:t.monreg,verser:t.verser,matban:t.matban,note:t.lib_reg})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numreg)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datreg).toLocaleDateString("fr",jr))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(t.mntreg).toFixed(3)," ")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.Reste).toFixed(3))))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabre"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 REG"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant"),l.a.createElement("th",null,"Solde"))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numreg,onClick:function(){return e.setState({getREByIdModalShow:!0,regid:t.numreg,datereg:t.datreg,client:t.codcli,raisonsociale:t.raisoc,modreg:t.modreg,numcais:t.numcais,numchq:t.numchq,titulaire:t.titulaire,datech:t.datech,mntreg:t.mntreg,bqescompte:t.BqEscompte,codccb:t.codccb,agence:t.agence,monreg:t.monreg,verser:t.verser,matban:t.matban,note:t.lib_reg})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numreg)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datreg).toLocaleDateString("fr",jr))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(t.mntreg).toFixed(3)," ")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.Reste).toFixed(3))))}))))):l.a.createElement("div",{className:"tabre"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 REG"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant"),l.a.createElement("th",null,"Solde"))),l.a.createElement("tbody",null,this.props.regs.regs.map((function(t){return l.a.createElement("tr",{key:t.numreg,onClick:function(){return e.setState({getREByIdModalShow:!0,regid:t.numreg,datereg:t.datreg,client:t.codcli,raisonsociale:t.raisoc,modreg:t.modreg,numcais:t.numcais,numchq:t.numchq,titulaire:t.titulaire,datech:t.datech,mntreg:t.mntreg,bqescompte:t.BqEscompte,codccb:t.codccb,agence:t.agence,monreg:t.monreg,verser:t.verser,matban:t.matban,note:t.lib_reg})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numreg)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datreg).toLocaleDateString("fr",jr))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null," ",Number(t.mntreg).toFixed(3)," ")),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.Reste).toFixed(3))))}))))),l.a.createElement(hr,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})}}),l.a.createElement(wr,{show:this.state.getREByIdModalShow,onHide:function(){return e.setState({getREByIdModalShow:!1})},regid:a,datereg:n,client:r,raisonsociale:c,modreg:i,numcais:o,numchq:m,titulaire:u,datech:d,mntreg:p,bqescompte:h,codccb:E,agence:f,monreg:g,verser:y,matban:v,note:x}))}}]),t}(n.Component);var Br=Object(w.b)((function(e){return{regs:e.regs}}),(function(e){return{SelectReglement:function(){return e(mr())}}}))(Or),Ar=(a(468),a(721),a(351)),Dr=a.n(Ar),Fr=a(352),qr=a.n(Fr),Hr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).call1=function(){fetch("http://192.168.1.14/couplagetel/cal.php?from=1001&target=".concat(a.props.tel1),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return a.setState({snackbaropen:!0,snackbarmsg:e})}))},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.snackbarClose2=function(){a.setState({snackbaropen2:!1})},a.state={snackbaropen:!1,snackbarmsg:",",snackbaropen2:!1,snackbarmsg2:","},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.snackbaropen,onClose:this.snackbarClose},l.a.createElement(k.a,{style:{borderRadius:"8px"}},l.a.createElement(k.a.Body,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("h5",null," ","Appel eff\xe9ctu\xe9 vers"," ",l.a.createElement("span",{style:{fontWeight:"bold",color:"#20c997"}},this.props.raisonsocial)," ")," ",l.a.createElement("br",null),l.a.createElement("h3",{style:{color:"#20c997"}}," ",l.a.createElement(Dr.a,null)," ",this.props.tel1," "),l.a.createElement("div",{class:"spinner"},l.a.createElement("div",{class:"double-bounce1"}),l.a.createElement("div",{class:"double-bounce2"})),l.a.createElement("p",null,"Appel en cours ..."),l.a.createElement(s.b,{color:"danger",onClick:this.snackbarClose},l.a.createElement(qr.a,null)),l.a.createElement("br",null),this.state.snackbarmsg))),l.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.snackbaropen2,onClose:this.snackbarClose2},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("h5",null," ","Appel eff\xe9ctu\xe9 vers"," ",l.a.createElement("span",{style:{fontWeight:"bold",color:"#20c997"}},this.props.raisonsocial)," ")," ",l.a.createElement("br",null),l.a.createElement("h3",{style:{color:"#20c997"}}," ",l.a.createElement(Dr.a,null)," ",this.props.tel2," "),l.a.createElement("div",{class:"spinner"},l.a.createElement("div",{class:"double-bounce1"}),l.a.createElement("div",{class:"double-bounce2"})),l.a.createElement("p",null,"Appel en cours ..."),l.a.createElement(s.b,{color:"danger",onClick:this.snackbarClose2},l.a.createElement(qr.a,null)),l.a.createElement("br",null),this.state.snackbarmsg2))),l.a.createElement(ye.a,Object.assign({},this.props,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"#F5F5F5",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"}," ",l.a.createElement(Bt.a,null)," ",this.props.raisonsocial)),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#F5F5F5"}},""===this.props.tel1||null===this.props.tel1?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{padding:"5px",fontWeight:"bold"}},"--")),l.a.createElement(s.c,{sm:6},l.a.createElement(s.b,{outline:!0,color:"secondary",size:"sm",disabled:!0},l.a.createElement(Bt.a,null)," Appeler"))):l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{padding:"5px",fontWeight:"bold"}}," ",this.props.tel1," ")),l.a.createElement(s.c,{sm:6},l.a.createElement(s.b,{outline:!0,color:"success",size:"sm",onClick:this.call1},l.a.createElement(Bt.a,null)," Appeler"))),""===this.props.tel2||null===this.props.tel2?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{padding:"5px",fontWeight:"bold"}},"--")),l.a.createElement(s.c,{sm:6},l.a.createElement(s.b,{outline:!0,color:"secondary",size:"sm",disabled:!0},l.a.createElement(Bt.a,null)," Appeler"))):l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("p",{style:{padding:"5px",fontWeight:"bold"}}," ",this.props.tel2," ")),l.a.createElement(s.c,{sm:6},l.a.createElement(s.b,{outline:!0,color:"success",size:"sm"},l.a.createElement(Bt.a,null)," Appeler"))))))}}]),t}(n.Component),Lr=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/CLIEntS?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,appelModal:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient()}},{key:"render",value:function(){var e=this;if(!1===this.state.loggedIn)return l.a.createElement(b.a,{to:"/"});var t=this.state,a=t.tel1,n=t.tel2,r=t.raisonsocial;return l.a.createElement("div",null,l.a.createElement("main",{className:"gestion-des-clients"},l.a.createElement(s.o,{style:{marginTop:"20px"}},l.a.createElement(s.c,{sm:12},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:"9"},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:"3"})))),this.state.rechercheclicked?l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"T\xe9lephone 1"),l.a.createElement("th",null,"T\xe9lephone 2"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.codcli,onClick:function(){e.setState({GetByIdModalShow:!0,passager:t.passager,codeclient:t.codcli,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,cin:t.cin,ville:t.ville,codepostal:t.cp,identifiant:t.fax,tauxfodec:t.compte,timbre:t.timbre,soustraitant:t.NAR,acontacter:t.RC,impot:t.CodDep,comptable:t.RIB2})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,""===t.tel1||null===t.tel1?l.a.createElement("span",null,"--"):l.a.createElement("span",null,t.tel1)),l.a.createElement("td",null,""===t.tel2||null===t.tel2?l.a.createElement("span",null,"--"):l.a.createElement("span",null,t.tel2)),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Effectuer un appel"},l.a.createElement(_e.a,{size:"small",onClick:function(){return e.setState({appelModal:!0,tel1:t.tel1,tel2:t.tel2,raisonsocial:t.raisoc})}}," ",l.a.createElement(Bt.a,{style:{fontSize:"18px",color:"green"}})," "))))}))))):l.a.createElement("div",{className:"tabcf"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Raison sociale"),l.a.createElement("th",null,"Ville"),l.a.createElement("th",null,"T\xe9lephone 1"),l.a.createElement("th",null,"T\xe9lephone 2"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.props.clients.clients.map((function(t){return l.a.createElement("tr",{key:t.codcli,onClick:function(){e.setState({GetByIdModalShow:!0,passager:t.passager,codeclient:t.codcli,raisoc:t.raisoc,tel1:t.tel1,tel2:t.tel2,email:t.email,adresse:t.adr,siteweb:t.sitweb,cin:t.cin,ville:t.ville,codepostal:t.cp,identifiant:t.fax,tauxfodec:t.compte,timbre:t.timbre,soustraitant:t.NAR,acontacter:t.RC,impot:t.CodDep,comptable:t.RIB2})}},l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",null,l.a.createElement("span",null,t.raisoc)),""===t.ville?l.a.createElement("td",null,l.a.createElement("span",null,"--")):l.a.createElement("td",null,l.a.createElement("span",null,t.ville)),l.a.createElement("td",null,""===t.tel1||null===t.tel1?l.a.createElement("span",null,"--"):l.a.createElement("span",null,t.tel1)),l.a.createElement("td",null,""===t.tel2||null===t.tel2?l.a.createElement("span",null,"--"):l.a.createElement("span",null,t.tel2)),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Effectuer un appel"},l.a.createElement(_e.a,{size:"small",onClick:function(){return e.setState({appelModal:!0,tel1:t.tel1,tel2:t.tel2,raisonsocial:t.raisoc})}}," ",l.a.createElement(Bt.a,{style:{fontSize:"18px",color:"green"}})," "))))})))))),l.a.createElement(Hr,{show:this.state.appelModal,onHide:function(){return e.setState({appelModal:!1})},tel1:a,tel2:n,raisonsocial:r}))}}]),t}(n.Component),Rr=Object(w.b)((function(e){return{DataTables:e.DataTablesReducer,tests:e.tests,SearchingResult:e.SearchingReducer,clients:e.clients}}),(function(e){return{getClientHeader:function(){e(Ia())},SelectTest:function(){e(Na())},SelectClient:function(){e(O())}}}))(Lr),Mr=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"page-icon"},l.a.createElement("u",null," ",l.a.createElement("i",{class:"fas fa-phone-volume"}," Click To Call"))),l.a.createElement(H.a,{defaultActiveKey:"home",transition:!1,id:"noanim-tab-example"},l.a.createElement(L.a,{eventKey:"home",title:"Client",style:{padding:"5px"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(Rr,null)))),l.a.createElement(L.a,{eventKey:"profile",title:"Fournisseur"},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3}),l.a.createElement(s.c,null,l.a.createElement("h3",{style:{margin:"20px",marginTop:"30px",color:"#6610f2"}},"Fournisseurs")),l.a.createElement(s.c,{sm:3})))))}}]),t}(n.Component),Wr=(a(722),function(){return function(e){I.a.get("http://192.168.1.100:81/api/NOME?cat=VD").then((function(t){return e({type:"VD_SELECT",payload:t.data})}))}}),Pr=function(){return function(e){I.a.get("http://192.168.1.100:81/api/Nome?catttt=VD").then((function(t){return e({type:"CODVD_SELECT",payload:t.data})}))}},zr={month:"short",day:"numeric"},Vr=new Date,Ur=Vr.setDate(Vr.getDate()),Gr=Vr.toISOString().substr(0,10),_r=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).vendeurHandler=function(e){a.setState({showing:!0}),I.a.get("http://192.168.1.100:81/api/BLBRs?typpppp=bl&vend=".concat(a.state.libvendeur)).then((function(e){console.log(e);var t=e.data,n=[],l=[];t.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",zr)),l.push(e.sommemntbn)})),a.setState({databl:{labels:n,datasets:[{label:"Montant BL effectu\xe9 / jour",data:l,backgroundColor:["#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2","#6610f2"]}]}})})),I.a.get("http://192.168.1.100:81/api/FACCLIs?typpppp=FT&vend=".concat(a.state.libvendeur)).then((function(e){console.log(e);var t=e.data,n=[],l=[];t.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",zr)),l.push(e.sommemntbn)})),a.setState({datafac:{labels:n,datasets:[{label:"Montant Facture effectu\xe9 / jour",data:l,backgroundColor:["#28a745","#28a745","#28a745","#28a745","#28a745","#28a745","#28a745"]}]}})})),I.a.get("http://192.168.1.100:81/api/BEREs?typpppp=BE&vend=".concat(a.state.libvendeur)).then((function(e){console.log(e);var t=e.data,n=[],l=[];t.forEach((function(e){n.push(new Date(e.datfac).toLocaleDateString("fr",zr)),l.push(e.sommemntbn)})),a.setState({databe:{labels:n,datasets:[{label:"Montant BE effectu\xe9 / jour",data:l,backgroundColor:["blue","blue","blue","blue","blue","blue","blue"]}]}})}))},a.submitHandler=function(e){e.preventDefault(),fetch("http://192.168.1.100:81/api/Nome?cat=VD&code=".concat(e.target.code.value,"&lib=").concat(e.target.lib.value,"&chdec=0"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Vendeur?code=".concat(e.target.code.value,"&nom=").concat(e.target.lib.value,"&mp=").concat(e.target.pass.value,"&grp=200"),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),window.location.reload(),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.libChange=function(e){a.setState({usern:e.target.value})},a.state={cat:"",show:!1,snackbaropen:!1,snackbarmsg:",",usern:"",codvendeur:"",libvendeur:"",ModalShow:!1,data:{},datadv:{},showing:!1,databl:{},datafac:{},databe:{},dat:Ur,dv:[],bc:[],ft:[],bl:[]},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.SelectVendeur(),this.props.SelectCodVendeur(),fetch("http://192.168.1.100:81/api/BCDVCLIs?dat=".concat(Gr,"&typppeeep=dv")).then((function(e){return e.json()})).then((function(t){return e.setState({dv:t})})),fetch("http://192.168.1.100:81/api/BCDVCLIs?dat=".concat(Gr,"&typppeeep=bc")).then((function(e){return e.json()})).then((function(t){return e.setState({bc:t})})),fetch("http://192.168.1.100:81/api/BLBRs?dat=".concat(Gr,"&typppeeep=bl")).then((function(e){return e.json()})).then((function(t){return e.setState({bl:t})})),fetch("http://192.168.1.100:81/api/FACCLIs?dat=".concat(Gr,"&typppeeep=ft")).then((function(e){return e.json()})).then((function(t){return e.setState({ft:t})}))}},{key:"render",value:function(){var e,t=this,a=this.state;a.codvendeur,a.libvendeur;return l.a.createElement("div",null,l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement("div",{className:"page-icon"},l.a.createElement("u",null," ",l.a.createElement("i",{class:"fas fa-users"}," Vendeurs"))),l.a.createElement("br",null),l.a.createElement("div",{className:"scrolll"},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:5},l.a.createElement(k.a,{style:{height:"100%"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement("p",{className:"p111"},"Ajouter un nouveau compte vendeur"),l.a.createElement(an.a,{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(an.a.Group,{controlId:"code"},this.props.codvds.codvds.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"Code",margin:"normal",fullWidth:!0,name:"code",type:"text",value:parseInt(e.Column1)+1,disabled:!0})}))))),l.a.createElement(s.o,{form:!0,style:{marginBottom:"-25px"}},l.a.createElement(s.c,{sm:6},l.a.createElement(an.a.Group,{controlId:"lib"},l.a.createElement(A.a,{id:"standard-basic",label:"Libell\xe9",margin:"normal",fullWidth:!0,name:"lib",type:"text",onChange:this.libChange}))),l.a.createElement(s.c,{sm:6},l.a.createElement(an.a.Group,{controlId:"username"},l.a.createElement(A.a,{id:"standard-basic",label:"Username",margin:"normal",fullWidth:!0,name:"username",type:"text",value:this.state.usern,disabled:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:12},l.a.createElement(an.a.Group,{controlId:"pass"},l.a.createElement(A.a,{id:"standard-basic",label:"Password",margin:"normal",fullWidth:!0,name:"pass",type:"password"})))),l.a.createElement("br",null),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2}),l.a.createElement(s.c,{sm:8},l.a.createElement(an.a.Group,null,l.a.createElement(P.a,{type:"submit",style:{backgroundColor:"#17a2b8",width:"100%",borderColor:"#17a2b8"}},"Enregistrer"))),l.a.createElement(s.c,{sm:2}))))))),l.a.createElement(s.c,{sm:7},l.a.createElement(k.a,{style:{height:"100%",marginTop:"0px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{style:{margin:"20px"}},l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,{style:{marginTop:"-25px"}},l.a.createElement(Se.a,(e={id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.props.vendeurs.vendeurs,onChange:this.vendeurHandler,getOptionLabel:function(e){return e.lib}},Object(Oe.a)(e,"onChange",(function(e,a){a?t.setState({libvendeur:a.lib,codvendeur:a.code,showing:!1}):t.setState({libvendeur:"",codvendeur:"",showing:!1})})),Object(Oe.a)(e,"renderInput",(function(e){return l.a.createElement(A.a,Object.assign({},e,{label:"Vendeur",margin:"normal",fullWidth:!0,name:"vendeur"}))})),e)))),l.a.createElement(s.c,{sm:6},l.a.createElement(P.a,{variant:"outline-info",onClick:this.vendeurHandler}," ","Afficher les statistiques ",l.a.createElement(Ye.a,null)," "))),this.state.showing?l.a.createElement("div",null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:6},l.a.createElement("div",null,l.a.createElement(D.a,{data:this.state.databl,options:{maintainAspectRatio:!1},width:"300px",height:"150px"}))),l.a.createElement(s.c,{sm:6},l.a.createElement("div",null,l.a.createElement(D.a,{data:this.state.datafac,options:{maintainAspectRatio:!1},width:"300px",height:"150px"})))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:12},l.a.createElement("div",null,l.a.createElement(D.a,{data:this.state.databe,options:{maintainAspectRatio:!1},width:"300px",height:"150px"}))))):null))))),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(s.o,{style:{marginBottom:"10px"}},l.a.createElement(s.c,{sm:12},l.a.createElement("h3",{style:{color:"rgb(2, 15, 100"}},"Total des ventes pour le ",Gr))),l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:3},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8},l.a.createElement("h3",null," ",l.a.createElement("i",{className:"fas fa-tasks",style:{color:"darkslateblue"}}," ","Devis"))),l.a.createElement(s.c,{sm:4},this.state.dv.map((function(e){return l.a.createElement("h3",{style:{color:"black"}},e.num)}))))))),l.a.createElement(s.c,{sm:3},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8},l.a.createElement("h3",null," ",l.a.createElement("i",{className:"fas fa-clipboard-list",style:{color:"darkslateblue"}}," ","BC"))),l.a.createElement(s.c,{sm:4},this.state.bc.map((function(e){return l.a.createElement("h3",{style:{color:"black"}},e.num)}))))))),l.a.createElement(s.c,{sm:3},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8},l.a.createElement("h3",null," ",l.a.createElement("i",{className:"fas fa-list-alt",style:{color:"darkslateblue"}}," ","BL"))),l.a.createElement(s.c,{sm:4},this.state.bl.map((function(e){return l.a.createElement("h3",{style:{color:"black"}},e.num)}))))))),l.a.createElement(s.c,{sm:3},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:8},l.a.createElement("h3",null," ",l.a.createElement("i",{className:"fas fa-file-invoice-dollar",style:{color:"darkslateblue"}}," ","Facture"))),l.a.createElement(s.c,{sm:4},this.state.ft.map((function(e){return l.a.createElement("h3",{style:{color:"black"}},e.num)}))))))))))}}]),t}(n.Component);var Qr=Object(w.b)((function(e){return{vendeurs:e.vendeurs,codvds:e.codvds}}),(function(e){return{SelectVendeur:function(){return e(Wr())},SelectCodVendeur:function(){return e(Pr())}}}))(_r),Kr=(a(218),function(){return function(e){I.a.get("http://192.168.1.100:81/api/BSRS?type=BS").then((function(t){return e({type:"BS_SELECT",payload:t.data})}))}}),Yr=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).datHandler=function(e){a.setState({datebcc:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clickeda:!0})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechsc:e,clicked:!0})}))},a.sameTable=function(){fetch("http://192.168.1.100:81/Api/LigBSRS?type=BS&numfac=".concat(a.props.bsid)).then((function(e){return e.json()})).then((function(e){return a.setState({tab:e})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.enrsnackbarClose=function(e){a.setState({enrsnackbaropen:!1})},a.fsnackbarClose=function(e){a.setState({fsnackbaropen:!1})},a.modifiermodification=function(e){var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:a.state.remisea,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,changeButton:!1}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",stkfin:0})},a.submitHandler=function(e){e.preventDefault();var t=a.state.tab.concat({codart:a.state.codearticle,desart:a.state.des,quantite:a.state.qte,unite:a.state.unite,priuni:a.state.puht,remise:e.target.remisea.value,tautva:a.state.tva,montht:a.state.totalht,PUTTCNET:a.state.puttcnet}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,btnEnabled:!0})},a.deleteRowMod=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,btnEnabled:!0})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)}),a.state.stkfin>=parseInt(e.target.value)?a.setState({yesno:"yes"}):a.setState({yesno:"no"})},a.enregistrer=function(){fetch("http://192.168.1.100:81/api/BSRS?numfac=".concat(a.props.bsid,"&typfac=BS&datfac=").concat(a.state.datebcc,"&codcli=").concat(a.state.codeclient,"&raisoc=").concat(a.state.raisonsocial,"&taurem=").concat(a.state.remiseg,"&catfisc=").concat(a.state.categoriefiscale),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),fetch("http://192.168.1.100:81/api/LigBSRS/".concat(a.props.bsid,"?typfacc=BS"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.state.tab.map((function(e,t){for(var n=0;n<a.state.tab.length;n++)fetch("http://192.168.1.100:81/api/LigBSRS/{ID}?numfac=".concat(a.props.bsid,"&typfac=BS&numlig=").concat(t+10,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.props.datebs,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=3&tautva=").concat(e.tautva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({enrsnackbaropen:!0,snackbarmsg:"failed"})}))}))}))};var n=localStorage.getItem("username");return a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,snackbarmsg:"",enrsnackbaropen:!1,fsnackbaropen:!1,openEditModal:!1,idel:0,reload:!1,giladd:!0,rechs:[],rechsc:[],changeButton:!1,remiseg:0,raisonsocial:"",codeclient:"",categoriefiscale:"",datebcc:"",username:n,clicked:!1,clickeda:!1,stkfin:0,yesno:""},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle(),this.sameTable(),this.props.SelectClient(),this.setState({remiseg:this.props.taurem,raisonsocial:this.props.raisonsociale,codeclient:this.props.client,categoriefiscale:this.props.catfisc,datebcc:new Date(this.props.datebs).toISOString().substr(0,10)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.enrsnackbaropen,autoHideDuration:2e3,onClose:this.enrsnackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.enrsnackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Modifier Bon de sortie \u2116 ",this.props.bsid))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,{style:{marginBottom:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(s.o,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(s.c,{sm:8},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher client par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.giladd,onChange:this.handleChange("giladd"),value:"giladd",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code client"))))),this.state.giladd?l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(s.c,{sm:4},l.a.createElement(s.g,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechsc:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email}):e.setState({raisonsocial:e.props.raisonsociale,remiseg:e.props.taurem,codeclient:e.props.client,categoriefiscale:e.props.catfisc,btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}})))),l.a.createElement(s.o,{style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0,InputLabelProps:{shrink:!0}}))),l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",InputLabelProps:{shrink:!0},onChange:this.remiseglobalChange,value:this.state.remiseg})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,name:"datfac",onChange:this.datHandler,value:this.state.datebcc,InputLabelProps:{shrink:!0}}))))),l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandler},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"Code Article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clickeda?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.changeButton?l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0}):this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0,size:"small"}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),this.state.changeButton?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0,style:{width:"320px"},variant:"contained",color:"primary",onClick:function(){e.modifiermodification()}},"Enregistrer les modifications")):""===this.state.des||"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbs2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null,"PUNet"),l.a.createElement("th",null),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},t.desart),l.a.createElement("td",null,l.a.createElement("span",null,t.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.montht).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(t.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Editer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(yt.a,{style:{},onClick:function(){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(t.codart)).then((function(e){return e.json()})).then((function(t){return e.setState({stkfin:t.map((function(e){return e.stkfin}))})})),e.setState({codearticle:t.codart,des:t.desart,unite:t.unite,puht:t.priuni,remisea:t.remise,tva:t.tautva,faudec:t.typfodec,qte:t.quantite,totalht:t.montht,puttcnet:t.PUTTCNET,changeButton:!0}),e.deleteRowMod(a)}})))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,this.state.btnEnabled?l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.enregistrer(),e.props.onHide(),e.props.onHide01(),window.alert("Modification enregistr\xe9s"),e.props.SelectBS()}},"Enregistrer"):l.a.createElement(me.a,{disabled:!0,variant:"contained",style:{width:"30%"}},"Enregistrer"))))}}]),t}(n.Component);var Xr=Object(w.b)((function(e){return{articles:e.articles,clients:e.clients}}),(function(e){return{SelectArticle:function(){return e(ke())},SelectBS:function(){return e(Kr())},SelectClient:function(){return e(O())}}}))(Yr),Jr=(a(59),[{icon:l.a.createElement(yt.a,null),name:"Modifier"},{icon:l.a.createElement(xt.a,null),name:"Annuler"},{icon:l.a.createElement(St.a,null),name:"Supprimer"}]),$r={weekday:"short",year:"numeric",month:"short",day:"numeric"},Zr=new Date;Zr.setDate(Zr.getDate());var ec=Zr.toISOString().substr(0,10),tc=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0}),fetch("http://192.168.1.100:81/api/Clients?codeclient=".concat(a.props.client)).then((function(e){return e.json()})).then((function(e){return a.setState({clientimp:e})})),a.setState({valeurtimb:a.props.valtimbre})},a.handleClose=function(){a.setState({open:!1})},a.openMail=function(){},a.openModifier=function(){a.setState({openModifierModal:!0,bsid:a.props.bsid})},a.annuler=function(){"0"===a.props.annuler?fetch("http://192.168.1.100:81/api/BSRS?idd=".concat(a.props.bsid,"&typfaccs=BS"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBS(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})})):window.alert("Bon de sortie d\xe9ja annul\xe9e")},a.imprimer=function(){window.alert("imprimer")},a.nonsupprimer=function(){window.alert("Vous devez annuler ce bon de livraison pour que vous puisse le supprimer")},a.facturer=function(){"0"===a.props.facture?fetch("http://192.168.1.100:81/api/BLBRs?iddd=".concat(a.props.bsid,"&typfaccss=BL"),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBL(),console.log(e),a.props.tabtab.map((function(e,t){for(var n=0;n<a.props.tabtab.length;n++)fetch("http://192.168.1.100:81/api/LigFACCLIs/{ID}?numfac=".concat(a.props.codfacs.codfacs.map((function(e){return e.valeur})),"&typfac=FT&numlig=").concat(e.numlig,"&codart=").concat(e.codart,"&quantite=").concat(e.quantite,"&fodart=0&desart=").concat(e.desart,"&datfac=").concat(a.state.todaydate,"&priuni=").concat(e.priuni,"&remise=").concat(e.remise,"&unite").concat(e.unite,"&codtva=").concat(e.codtva,"&tautva=").concat(e.tautva,"&montht=").concat(e.montht,"&ttclig=").concat(e.ttclig),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log("22",e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/FACCLIs?numfac=".concat(a.props.codfacs.codfacs.map((function(e){return e.valeur})),"&typfac=FT&codcli=").concat(a.props.client,"&raisoc=").concat(a.props.raisonsociale,"&catfisc=").concat(a.props.catfisc,"&datfac=").concat(a.state.todaydate,"&timbre=").concat(a.props.droitdetimbre,"&smhtb=").concat(a.props.totalhtbrut,"&smremart=").concat(a.props.remiselignes,"&smremglo=").concat(a.props.remiseglobale,"&smhtn=").concat(a.props.totalhtnet,"&smtva=").concat(a.props.totaltva,"&mntbon=").concat(a.props.totalttc,"&valtimbre=").concat(Number(.5),"&Vendeur=").concat(a.state.username),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({snackbaropen:!0,snackbarmsg:e}),console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=FC2&valeur=".concat(a.props.codfacs.codfacs.map((function(e){return parseInt(e.valeur)+1}))),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}),a.setState({snackbaropen:!0,snackbarmsg:e})})):window.alert("Bon de livraison d\xe9ja factur\xe9")},a.supprimer=function(){window.confirm("\xeates-vous s\xfbr de vouloir supprimer ce bon de sortie?")&&(fetch("http://192.168.1.100:81/api/LigBSRS/".concat(a.props.bsid,"?typfacc=BS"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})),fetch("http://192.168.1.100:81/api/BSRS/".concat(a.props.bsid,"?typfacc=BS"),{method:"DELETE",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.props.SelectBS(),console.log(e),a.setState({snackbaropen:!0,snackbarmsg:e})})))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})};var n=localStorage.getItem("username");return a.state={open:!1,hidden:!1,openModifierModal:!1,ligid:"",bsid:"",tab:[],newtab:[],todaydate:ec,codearticle:0,des:"",qte:0,unite:0,puht:0,faudec:0,remisea:0,tva:0,puttcnet:0,totalht:0,totalqte:0,netapayer:0,clientimp:[],snackbaropen:!1,snackbarmsg:"",username:n,valeurtimb:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state;t.ligidd,t.bcidd,t.tabb;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#08052B"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"D\xe9tails Bon de sortie"))),l.a.createElement(ye.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"\u2116 BS")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.bsid)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:3},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Date BS")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},new Date(this.props.datebs).toLocaleDateString("fr",$r))),l.a.createElement(S.a,{style:{textAlign:"center"},sm:2},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Client")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.client)),l.a.createElement(S.a,{style:{textAlign:"center"},sm:5},l.a.createElement(ue.a,{variant:"h6",component:"h2"},l.a.createElement(s.i,{style:{color:"#020f64"}},"Raison Sociale")),l.a.createElement(ue.a,{style:{color:"grey",fontSize:"14px"}},this.props.raisonsociale))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbs2"},l.a.createElement("table",{stripped:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",{style:{overflowY:"auto",display:"block",maxHeight:"10em"}},this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codart)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},e.desart),l.a.createElement("td",null,l.a.createElement("span",null,e.quantite)),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.priuni).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.remise).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.tautva).toFixed(2))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.PUTTCNET).toFixed(3))),l.a.createElement("td",null,l.a.createElement("span",null,Number(e.montht).toFixed(3))))}))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-10px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiselignes).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Valeur de Timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.valtimbre).toFixed(3)))),l.a.createElement(C.a,{style:{marginBottom:"10px"}},l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.remiseglobale).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.props.totalttc).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:10}),l.a.createElement(S.a,{sm:2},l.a.createElement(ht.a,{style:{position:"absolute",bottom:"-20px",right:"10px"},FabProps:{size:"small"},ariaLabel:"SpeedDial openIcon example",hidden:this.state.hidden,icon:l.a.createElement(yt.a,{openIcon:l.a.createElement(yt.a,null)}),onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.open},Jr.map((function(t){return l.a.createElement(Et.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,onClick:function(){e.handleClose(),"Imprimer"==t.name&&e.imprimer(),"Modifier"==t.name&&e.openModifier(),"Supprimer"==t.name&&"1"===e.props.annuler&&e.supprimer(),"Supprimer"==t.name&&"0"===e.props.annuler&&e.nonsupprimer(),"Annuler"==t.name&&e.annuler()}})})),this.state.open?l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",marginLeft:"7px",color:"grey"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}}):l.a.createElement(jt.a,{trigger:function(){return l.a.createElement(_e.a,{size:"small",style:{backgroundColor:"white",display:"none"},"aria-label":"add"},l.a.createElement(ft.a,null))},content:function(){return e.componentRef}})))),l.a.createElement(Xr,{show:this.state.openModifierModal,onHide:function(){return e.setState({openModifierModal:!1})},ligidd:this.state.ligid,tabb:this.props.tabtab,bsid:this.props.bsid,datebs:this.props.datebs,onHide01:this.props.onHide,taurem:this.props.taurem,catfisc:this.props.catfisc,client:this.props.client,raisonsociale:this.props.raisonsociale,droitdetimbre:this.props.droitdetimbre,avanceimpot:this.props.avanceimpot,facture:this.props.facture})),l.a.createElement(ye.a.Footer,null)),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("div",{ref:function(t){return e.componentRef=t},style:{margin:"15px",height:"98%"}},l.a.createElement("h3",null,"Soci\xe9t\xe9 POLYSOFT & CO"),l.a.createElement("p",null,"Logiciels, Servie informatique et conseil ",l.a.createElement("br",null),"Adresse : Avenue Majida Boulila Imm Loulou 3000 Sfax - Tunisie"," ",l.a.createElement("br",null),"T\xe9l: 74 443 620 / Gsm: 20 413 577 / Email: gm@polysoftco.tn ",l.a.createElement("br",null),"Code TVA: 1609013R A/M/000 ",l.a.createElement("br",null),"RIB: 08 804 0003410007877 51 BIAT H.Thameur Sfax"),l.a.createElement("h3",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"10px"}},"---------- Bon de sortie \u2116 ",this.props.bsid," ","-------------------------------------"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,l.a.createElement("h4",{style:{marginLeft:"170px"}},"Date:"," ",new Date(this.props.datebs).toLocaleDateString("fr",$r))),l.a.createElement(S.a,null,l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row",textAlign:"center",justifyContent:"space-between"}},l.a.createElement("h6",null,"Code Client : ",this.props.client),this.state.clientimp.map((function(e){return l.a.createElement("h6",{style:{marginRight:"20px"}},l.a.createElement(Bt.a,null)," ",e.tel1," / ",e.tel2)}))),l.a.createElement("div",{style:{marginTop:"5px",borderStyle:"solid",height:"150px",width:"95%",borderRadius:"20px",marginBottom:"15px"}},l.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null," ",this.props.raisonsociale," "),this.state.clientimp.map((function(e){return""===e.adr?l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," --"):l.a.createElement("h5",null,l.a.createElement(Nt.a,null)," ",e.adr)})),this.state.clientimp.map((function(e){return""===e.ville?l.a.createElement("h5",null,e.ville):l.a.createElement("h5",null,"--")})))),this.state.clientimp.map((function(e){return""===e.codtva?l.a.createElement("h6",null,"Code TVA : --"):l.a.createElement("h6",null,"Code TVA : ",e.codtva)})))),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"5px",marginTop:"10px",width:"99%",minHeight:"620px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"1px",width:"100%"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"20px",fontWeight:"bold",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PUHT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.props.tabtab.map((function(e,t){return l.a.createElement("tr",{key:t,style:{textAlign:"center",height:"50px"}},l.a.createElement("td",null,e.codart),l.a.createElement("td",{style:{width:"37%"}},e.desart),l.a.createElement("td",null,e.quantite),l.a.createElement("td",null,Number(e.priuni).toFixed(3)),l.a.createElement("td",null,Number(e.remise).toFixed(2)),l.a.createElement("td",null,Number(e.tautva).toFixed(2)),l.a.createElement("td",null,Number(e.montht).toFixed(3)))}))))),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{marginLeft:"5px"}},l.a.createElement("table",{style:{textAlign:"center",borderStyle:"solid",width:"450px",borderWidth:"1px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold"}},l.a.createElement("tr",null,l.a.createElement("th",null,"T.V.A"),l.a.createElement("th",null,"Assiette"),l.a.createElement("th",null,"Montant"))),l.a.createElement("tbody",null,l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",null,Number(Number(this.props.totaltva)/Number(this.props.totalhtnet)*100).toFixed(2)," ","%"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3)),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3)))))),l.a.createElement("div",{style:{width:"200px",display:"flex",flexDirection:"row",textAlign:"center"}},l.a.createElement("h5",null,l.a.createElement("b",null,"Total quantit\xe9: ")),"\xa0\xa0\xa0 ",l.a.createElement("h5",null,this.props.sumqt)),l.a.createElement("table",{style:{borderStyle:"solid",width:"270px",marginRight:"10px",borderWidth:"1px"}},l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}},"\xa0\xa0\xa0Total.H.T Net:"),l.a.createElement("td",null,Number(this.props.totalhtnet).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Total TVA:"),l.a.createElement("td",null,Number(this.props.totaltva).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Timbre fiscal:"),l.a.createElement("td",null,Number(this.props.valtimbre).toFixed(3))),l.a.createElement("tr",{style:{height:"50px"}},l.a.createElement("td",{style:{fontWeight:"bold"}}," ","\xa0\xa0\xa0Net \xe0 Payer:"),l.a.createElement("td",{style:{fontWeight:"bold"}}," ",Number(parseFloat(this.props.totalttc)+parseFloat(this.props.valtimbre)).toFixed(3)," ")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",textAlign:"center",marginTop:"20px",justifyContent:"space-between",marginLeft:"5px"}},l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",marginLeft:"5px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Notes:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"350px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature Client:"),l.a.createElement("div",{style:{borderStyle:"solid",width:"340px",marginRight:"10px",borderWidth:"1px",height:"100px",borderRadius:"20px",textAlign:"left"}},"\xa0\xa0\xa0Signature & cachet:")))))}}]),t}(n.Component);var ac=Object(w.b)((function(e){return{}}),(function(e){return{SelectBS:function(){return e(Kr())}}}))(tc),nc=(a(59),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).articleHandlerChange=function(e){fetch("http://192.168.1.100:81/api/ARTICLEs?codartt=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))},a.snackbarClose=function(e){a.setState({snackbaropen:!1})},a.snackbarFailClose=function(e){a.setState({snackbarfail:!1})},a.qteHandler=function(e){console.log(typeof parseInt(e.target.value)),console.log(typeof a.state.totalqte),a.setState({qte:e.target.value,puttcnet:parseInt(a.state.puht)+parseInt(a.state.puht)*(a.state.tva/100),totalht:e.target.value*a.state.puht*((100-a.state.remisea)/100)}),a.state.stkfin>=parseInt(e.target.value)?a.setState({yesno:"yes"}):a.setState({yesno:"no"})},a.remiseHandler=function(e){a.setState({remisea:e.target.value,totalht:a.state.qte*a.state.puht*((100-e.target.value)/100)})},a.puhtHandler=function(e){a.setState({puht:e.target.value,totalht:a.state.qte*e.target.value*((100-a.state.remisea)/100),puttcnet:parseInt(e.target.value)+parseInt(e.target.value)*(parseInt(a.state.tva)/100)})},a.onCellChange=function(e){a.setState({codearticle:e.target.value})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.deleteRow=function(e){var t=Object(Xe.a)(a.state.tab);t.splice(e,1);var n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbarfail:!0,netnetapayer:m})},a.submitHandlers=function(e){e.preventDefault();var t=a.state.tab.concat({codearticle:a.state.codearticle,des:a.state.des,qte:a.state.qte,unite:a.state.unite,puht:a.state.puht,faudec:a.state.faudec,remisea:e.target.remisea.value,tva:a.state.tva,puttcnet:a.state.puttcnet,totalht:a.state.totalht}),n=t&&t.reduce((function(e,t){return e+parseInt(t.qte)}),0),l=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*t.remisea/100}),0),r=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht}),0),c=t&&t.reduce((function(e,t){return e+parseInt(t.qte)*t.puht*((100-t.remisea)/100)*(t.tva/100)}),0),i=t&&t.reduce((function(e,t){return e+t.totalht*((100-a.props.rem)/100)}),0),o=t&&t.reduce((function(e,t){return e+t.totalht*(a.props.rem/100)}),0),s=t&&t.reduce((function(e,t){return e+(t.totalht*((100-a.props.rem)/100)+t.qte*t.puht*((100-t.remisea)/100)*(t.tva/100))}),0),m=s+parseFloat(a.props.valtimbre);a.setState({tab:t,totalqte:n,sumremisearticle:l,totalhtbrut:r,totaltva:c,totalhtnet:i,remiseglobal:o,netapayer:s,snackbaropen:!0,btnEnabled:!0,netnetapayer:m}),a.setState({codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N"})},a.state={codearticle:"",qte:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,puttcnet:0,faudec:"N",tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,totalhtnet:0,remiseglobal:0,netapayer:0,snackbaropen:!1,snackbarfail:!1,editModalShow:!1,qtte:0,btnEnabled:!1,gilad:!0,rechs:[],stkfin:0,snackbarmsg:",",yesno:"",netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectArticle()}},{key:"render",value:function(){var e=this;return console.log(this.state.totalqte,"remise article =".concat(this.state.sumremisearticle)),l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{open:this.state.snackbaropen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarClose,severity:"success"},"Article ajout\xe9")),l.a.createElement(Re.a,{open:this.state.snackbarfail,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.snackbarFailClose},l.a.createElement(Je.a,{style:{height:"50px"},onClose:this.snackbarFailClose,severity:"error"},"Article supprim\xe9")),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{color:"#00087E"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Articles"))),l.a.createElement(ye.a.Body,{style:{backgroundColor:"#fff"}},l.a.createElement(s.o,null,l.a.createElement(s.c,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement("form",{onSubmit:this.submitHandlers},l.a.createElement(s.o,{form:!0,style:{marginBottom:"-20px"}},l.a.createElement(s.c,{sm:7},l.a.createElement(s.g,null,l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,null,l.a.createElement("b",null,"Chercher article par :")),"\xa0\xa0",l.a.createElement(Pe.a,{item:!0},"D\xe9signation"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{color:"primary",checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),l.a.createElement(s.c,{sm:3},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},"A"===this.state.faudec?l.a.createElement("p",{style:{color:"grey"}},"Fodec: \u2714"):null)),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,{style:{marginTop:"10px",marginLeft:"10px"}},l.a.createElement("p",{style:{color:"grey"}},"Stock: ",this.state.stkfin," ")))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,null,this.state.gilad?l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.codart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0,qte:""})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}):l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.articles.articles,getOptionLabel:function(e){return e.desart},onChange:function(t,a){a?e.setState({codearticle:a.codart,des:a.desart,unite:a.unite,puht:a.PUDHT,remisea:a.remise,tva:a.tautva,faudec:a.typfodec,stkfin:a.stkfin}):e.setState({codearticle:"",totalht:0,des:"",unite:"",puht:"",remisea:0,tva:0,faudec:"N",stkfin:0,qte:"",puttcnet:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"D\xe9signation article",margin:"normal",fullWidth:!0,onChange:e.articleHandlerChange}))}}))),l.a.createElement(s.g,{style:{display:"none"}},l.a.createElement(s.i,null," code artcile"),l.a.createElement(s.h,{type:"text",value:this.state.codearticle,disabled:!0})),l.a.createElement(s.c,{sm:5},this.state.gilad?l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"D\xe9signation",value:this.state.des,disabled:!0,margin:"normal",fullWidth:!0})):l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code article",value:this.state.codearticle,disabled:!0,margin:"normal",fullWidth:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,""===this.state.des?l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",disabled:!0,InputLabelProps:{shrink:!0},style:{marginTop:"16px"},margin:"normal",fullWidth:!0,required:!0}):l.a.createElement(A.a,{id:"standard-basic",label:"Quantit\xe9",type:"number",InputLabelProps:{shrink:!0},style:{marginTop:"16px"},value:this.state.qte,onChange:this.qteHandler,margin:"normal",fullWidth:!0,required:!0})))),l.a.createElement(s.o,{form:!0},l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Unit\xe9",value:this.state.unite,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU HT",value:this.state.puht,fullWidth:!0,name:"puht",onChange:this.puhtHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Remise %",value:this.state.remisea,fullWidth:!0,name:"remisea",onChange:this.remiseHandler}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"TVA",value:this.state.tva,fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"PU TTC Net",value:Number(this.state.puttcnet).toFixed(3),fullWidth:!0,disabled:!0}))),l.a.createElement(s.c,{sm:2},l.a.createElement(s.g,null,l.a.createElement(A.a,{id:"standard-basic",label:"Total HT",value:Number(this.state.totalht).toFixed(3),fullWidth:!0,disabled:!0})))),""===this.state.des||"no"===this.state.yesno||""===this.state.qte||this.state.stkfin<=0||parseInt(this.state.qte)<=0?l.a.createElement(we.a,null,l.a.createElement(me.a,{disabled:!0,style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter")):l.a.createElement(we.a,null,l.a.createElement(me.a,{style:{width:"250px"},variant:"contained",color:"primary",type:"submit"},"Ajouter"))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbs2"},l.a.createElement("table",{style:{marginTop:"10px"}},l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"),l.a.createElement("th",null))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.tab.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("span",null,t.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",t.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",t.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(t.totalht).toFixed(2))),l.a.createElement("td",null,l.a.createElement(Ve.a,{title:"Supprimer cet article"},l.a.createElement(_e.a,{size:"small"},l.a.createElement(et.a,{style:{},onClick:function(){return e.deleteRow(a)}})))))})))))))))),l.a.createElement(ye.a.Footer,null,l.a.createElement(me.a,{variant:"contained",style:{backgroundColor:"rgb(0, 8, 126)",color:"white",width:"30%"},onClick:function(){e.props.submitHandler(e.state.tab,e.state.totalqte,e.state.sumremisearticle,e.state.totalhtbrut,e.state.totaltva,e.state.totalhtnet,e.state.remiseglobal,e.state.netapayer,e.state.btnEnabled,e.state.netnetapayer),e.props.onHide()}},"Enregistrer"))))}}]),t}(n.Component));var lc=Object(w.b)((function(e){return{articles:e.articles}}),(function(e){return{SelectArticle:function(){return e(ke())}}}))(nc),rc=function(){return function(e){I.a.get("http://192.168.1.100:81/api/bCDVCLIs?typpe=BS").then((function(t){return e({type:"BS_COD",payload:t.data})}))}},cc=(a(59),new Date);cc.setDate(cc.getDate());var ic=cc.toISOString().substr(0,10),oc=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e,t,n,l,r,c,i,o,s,m){a.setState({tab:e,totalqte:t,sumremisearticle:n,totalhtbrut:l,totaltva:r,totalhtnet:c,remiseglobal:i,netapayer:o,btnEnabled:s,netnetapayer:m})},a.snackbarClose=function(){a.setState({snackbaropen:!1})},a.handleSubmit=function(e){e.preventDefault(),a.setState({openActionModal:!0})},a.handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked))}},a.remiseglobalChange=function(e){a.setState({remiseg:e.target.value})},a.raisocHandler=function(e){a.setState({raisonsocial:e.target.value})},a.enregistrer=function(e){e.preventDefault(),a.state.tab.map((function(t,n){for(var l=0;l<a.state.tab.length;l++)fetch("http://192.168.1.100:81/api/LigBSRS/{ID}?numfac=".concat(e.target.codbl.value,"&typfac=BS&numlig=").concat(n,"&codart=").concat(t.codearticle,"&quantite=").concat(t.qte,"&fodart=0&desart=").concat(t.des,"&datfac=").concat(a.state.defaultdate,"&priuni=").concat(t.puht,"&remise=").concat(t.remisea,"&unite").concat(t.unite,"&codtva=3&tautva=").concat(t.tva),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))})),fetch("http://192.168.1.100:81/api/BSRS?numfac=".concat(e.target.codbl.value,"&typfac=BS&codcli=").concat(e.target.codcli.value,"&raisoc=").concat(e.target.raissoc.value,"&catfisc=").concat(e.target.categoriefiscale.value,"&datfac=").concat(a.state.defaultdate,"&taurem=").concat(a.state.remiseg),{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.props.onHide(),a.setState({snackbaropen:!0,snackbarmsg:e}),a.props.SelectBSCod(),console.log(e),window.location.reload()}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})})),fetch("http://192.168.1.100:81/api/Switch?code=BS2&valeur=".concat(parseInt(e.target.codbl.value)+1),{method:"PUT",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}),(function(e){a.setState({snackbaropen:!0,snackbarmsg:"failed"})}))},a.clientHandlerChange=function(e){fetch("http://192.168.1.100:81/api/CLIENTs?codclii=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,clicked:!0})}))};var n=localStorage.getItem("username");return a.state={gilad:!0,defaultdate:ic,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,addModalShow1:!1,ligModalShow:!1,tab:[],totalqte:0,sumremisearticle:0,totalhtbrut:0,totaltva:0,remiseg:0,representant:"",raisonsocial:"",codeclient:"",categoriefiscale:"",totalhtnet:0,remiseglobal:0,netapayer:0,btnEnable:!1,btnEnabled:!1,cemail:"",openActionModal:!1,rechs:[],nextsubmit:!1,snackbaropen:!1,snackbarmsg:",",username:n,valtimbre:0,netnetapayer:0,clicked:!1},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.SelectClient(),this.props.SelectBSCod()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dvnumfac,t.dvraisoc,t.rem);t.clientmail,t.val;return l.a.createElement("div",{className:"container"},l.a.createElement(Re.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.snackbaropen,autoHideDuration:2e3,onClose:this.snackbarClose,message:l.a.createElement("span",{id:"message-id"}," ",this.state.snackbarmsg," "),action:[l.a.createElement(Me.a,{key:"close",color:"inherit",onClick:this.snackbarClose},"x")]}),l.a.createElement(ye.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(ye.a.Header,{closeButton:!0,style:{backgroundColor:"white",color:"#020F64"}},l.a.createElement(ye.a.Title,{id:"contained-modal-title-vcenter"},l.a.createElement("b",null,"Ajouter Bon de sortie"))),l.a.createElement(ye.a.Body,null,l.a.createElement("form",{onSubmit:this.enregistrer},l.a.createElement(k.a,null,l.a.createElement(k.a.Body,null,l.a.createElement(C.a,{style:{marginBottom:"-20px",marginTop:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,null,this.props.bscods.bscods.map((function(e){return l.a.createElement(A.a,{id:"standard-basic",label:"\u2116 BS",margin:"normal",value:parseInt(e.valeur),fullWidth:!0,name:"codbl",disabled:!0})})))),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date",margin:"normal",type:"date",fullWidth:!0,defaultValue:this.state.defaultdate}))),l.a.createElement(C.a,{style:{marginBottom:"-20px"}},l.a.createElement(S.a,{sm:4},l.a.createElement(He.a,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Raison sociale"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Code"))))),this.state.gilad?l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.codcli},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Code client",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"codcli"}))}}))):l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(Se.a,{id:"include-input-in-list",includeInputInList:!0,className:"ajouter-client-input",options:this.state.clicked?this.state.rechs:this.props.clients.clients,getOptionLabel:function(e){return e.raisoc},onChange:function(t,a){a?e.setState({raisonsocial:a.raisoc,remiseg:a.remise,codeclient:a.codcli,categoriefiscale:a.catfisc,btnEnable:!0,showTimbre:a.timbre,showForfitaire:a.regimecli,showButtonModalPassager:a.passager,cemail:a.email,valtimbre:a.timbre?e.props.valtimbre:0}):e.setState({raisonsocial:"",remiseg:0,codeclient:"",categoriefiscale:"",btnEnable:!1,showTimbre:!1,showForfitaire:0,showButtonModalPassager:!1,valtimbre:0})},renderInput:function(t){return l.a.createElement(A.a,Object.assign({},t,{label:"Raison sociale",margin:"normal",fullWidth:!0,onChange:e.clientHandlerChange,name:"raissoc"}))}}))),this.state.gilad?l.a.createElement(S.a,{sm:5},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Raison sociale",margin:"normal",value:this.state.raisonsocial,fullWidth:!0,name:"raissoc",disabled:"100"!==this.state.codeclient,onChange:this.raisocHandler}))):l.a.createElement(S.a,{sm:3},l.a.createElement(He.a,null,l.a.createElement(A.a,{id:"standard-basic",label:"Code client",margin:"normal",value:this.state.codeclient,fullWidth:!0,name:"codcli",disabled:!0})))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:2},l.a.createElement(A.a,{id:"standard-basic",label:"Cat Fiscale",margin:"normal",fullWidth:!0,name:"categoriefiscale",value:this.state.categoriefiscale,disabled:!0})),l.a.createElement(S.a,{sm:2},"0"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Assujetti"," "):"1"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Non Assujetti"," "):"2"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA/FODEC"," "):"3"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Exon\xe9r\xe9 TVA"," "):"4"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Suspenssion"," "):"5"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cession \xe0 Quai"," "):"6"===this.state.categoriefiscale?l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"R\xe9duction TVA"," "):l.a.createElement("p",{style:{fontSize:"13px",marginTop:"40px",color:"#007bff"}},"Cat Fiscale"," ")),l.a.createElement(S.a,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Remise Globale %",margin:"normal",fullWidth:!0,name:"remise",value:this.state.remiseg,onChange:this.remiseglobalChange}))))),l.a.createElement(Le.a,{style:{marginTop:"10px"}},l.a.createElement(k.a,{bg:"light"},l.a.createElement(k.a.Header,{style:{height:"60px"}},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:12},l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:11},l.a.createElement(Le.a.Toggle,{as:me.a,eventKey:"0",style:{marginTop:"-5px"}},l.a.createElement(Qe.a,{style:{fontSize:"16px"},icon:l.a.createElement(Ye.a,null),color:"primary",label:"Liste des Articles",variant:"outlined"}))),l.a.createElement(S.a,{sm:1},this.state.btnEnable?l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{style:{backgroundColor:"#3f51b5",color:"white",width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null))))):l.a.createElement("label",null,l.a.createElement("h5",null,l.a.createElement(Ve.a,{title:"Ajouter, Editer et supprimer article"},l.a.createElement(_e.a,{disabled:!0,style:{width:"40px",height:"40px"},"aria-label":"add",onClick:function(){return e.setState({ligModalShow:!0,rem:e.state.remiseg})}},l.a.createElement(Ge.a,null)))))))))),l.a.createElement(Le.a.Collapse,{eventKey:"0"},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"tabbs2"},l.a.createElement("table",null,l.a.createElement("thead",{style:{textAlign:"center",fontSize:"12px"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Code"),l.a.createElement("th",{style:{width:"37%"}},"D\xe9signation"),l.a.createElement("th",null,"Quantit\xe9"),l.a.createElement("th",null,"PU HT"),l.a.createElement("th",null,"Remise"),l.a.createElement("th",null,"TVA"),l.a.createElement("th",null,"PUTTCNet"),l.a.createElement("th",null,"TotalHT"))),l.a.createElement("tbody",null,this.state.tab.map((function(e){return l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("td",null,l.a.createElement("span",null,e.codearticle)),l.a.createElement("td",{style:{fontSize:"12px",width:"37%"}},l.a.createElement("span",null," ",e.des," ")),l.a.createElement("td",null," ",l.a.createElement("span",null," ",e.qte)),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puht).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.remisea).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.tva).toFixed(2))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.puttcnet).toFixed(3))),l.a.createElement("td",null," ",l.a.createElement("span",null," ",Number(e.totalht).toFixed(2))))}))))))))),l.a.createElement(k.a,{style:{marginTop:"10px"}},l.a.createElement(k.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Brut"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtbrut).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Article"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.sumremisearticle).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TVA"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totaltva).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"valeur de timbre"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.valtimbre).toFixed(3)))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}})),l.a.createElement(S.a,{sm:3},l.a.createElement(T.a,{style:{marginTop:"-8px",backgroundColor:"grey"}}))),l.a.createElement(C.a,{style:{marginBottom:"-25px"}},l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total HT Net"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.totalhtnet).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Remise Globale"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.remiseglobal).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"darkslateblue",marginBottom:"-5px"}},"Total TTC"),l.a.createElement("p",{style:{color:"black"}},Number(this.state.netapayer).toFixed(3))),l.a.createElement(S.a,{sm:3,style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"}},l.a.createElement("p",{style:{color:"rgb(220, 0, 78)",fontWeight:"bold",marginBottom:"-5px"}},"Net \xe0 Payer"),l.a.createElement("p",{style:{color:"black",fontWeight:"bold"}},Number(this.state.netnetapayer).toFixed(3)))))),l.a.createElement(C.a,null,l.a.createElement(S.a,{sm:8}),l.a.createElement(S.a,{sm:4},0===this.state.totalqte?l.a.createElement(me.a,{variant:"contained",disabled:!0,style:{marginTop:"20px",width:"100%"}},"Enregistrer tous"):l.a.createElement(me.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"100%",color:"white",backgroundColor:"#020F64"}},"Enregistrer tous")))))),l.a.createElement(lc,{submitHandler:this.submitHandler,show:this.state.ligModalShow,onHide:function(){return e.setState({ligModalShow:!1})},rem:a,numfaccc:this.props.bscods.bscods.map((function(e){return parseInt(e.valeur)})),datfac:this.state.defaultdate,valtimbre:this.state.valtimbre}))}}]),t}(n.Component);var sc=Object(w.b)((function(e){return{clients:e.clients,bscods:e.bscods}}),(function(e){return{SelectClient:function(){return e(O())},SelectBSCod:function(){return e(rc())}}}))(oc),mc={year:"numeric",month:"numeric",day:"numeric"},uc=new Date;uc.setDate(uc.getDate());var dc=uc.toISOString().substr(0,10),pc=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(Oe.a)({},e,t.target.checked)),a.state.gilad?a.setState({showrechbydate:!1}):a.setState({rechercheclicked:!1})}},a.toggle=function(){return a.setState({modal:!a.state.modal})},a.rechercheHandler=function(e){fetch("http://192.168.1.100:81/api/BSRS/".concat(e.target.value,"?type=BS")).then((function(e){return e.json()})).then((function(e){return a.setState({rechs:e,rechercheclicked:!0})}))},a.firstrechdatHandler=function(e){a.setState({firstdate:e.target.value}),fetch("http://192.168.1.100:81/api/BSRS?datt=".concat(e.target.value,"&dattt=").concat(a.state.seconddate,"&typpe=BS")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))},a.secondrechdatHandler=function(e){a.setState({seconddate:e.target.value}),fetch("http://192.168.1.100:81/api/BSRS?datt=".concat(a.state.firstdate,"&dattt=").concat(e.target.value,"&typpe=BS")).then((function(e){return e.json()})).then((function(e){return a.setState({rechdats:e,showrechbydate:!0,rechercheclicked:!1})}))};var n=!0;return null==localStorage.getItem("token")&&(n=!1),a.state={addModalShow:!1,GetBSByIdModalShow:!1,loggedIn:n,rechs:[],icon:!1,rechercheclicked:!1,tabtab:[],defaultdate:dc,firstdate:dc,seconddate:dc,rechdats:[],showrechbydate:!1,gilad:!0,valeurtim:0},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.SelectBS(),this.props.SelectValTimbre(),this.props.valtimbres.valtimbres.map((function(t){return e.setState({valeurtim:t.valtimbre})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.bsid,n=t.datebs,r=t.client,c=t.raisonsociale,i=(t.totalqteee,t.totalhtbrut),o=t.remiselignes,m=t.remiseglobale,u=t.totalhtnet,d=t.totaldc,p=t.totalcos,h=t.totalttc,E=t.totaltva,f=t.droitdetimbre,g=t.avanceimpot,y=t.rem,v=t.annuler,x=t.catfisc,C=t.sumqt,S=t.taurem;t.valtimbree;return!1===this.state.loggedIn?l.a.createElement(b.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"bc-icon"},l.a.createElement("i",{class:"fa fa-reply","aria-hidden":"true"}," ","Bon de sortie")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(s.o,{style:{marginTop:"-30px"}},l.a.createElement(s.c,{sm:5},l.a.createElement(s.g,{style:{marginTop:"25px"}},l.a.createElement(ue.a,{component:"div"},l.a.createElement(Pe.a,{component:"label",container:!0,alignItems:"center",spacing:1},l.a.createElement(Pe.a,{item:!0,style:{color:"grey"}},"Recherche par date"),l.a.createElement(Pe.a,{item:!0},l.a.createElement(We.a,{checked:this.state.gilad,onChange:this.handleChange("gilad"),value:"gilad",color:"primary"})),l.a.createElement(Pe.a,{item:!0,style:{color:"#3f51b5"}},"Recherche par \u2116 BS / Client")))))),this.state.gilad?l.a.createElement(s.o,null,l.a.createElement(s.c,{sm:10},l.a.createElement("div",{className:"search-bar"},l.a.createElement(A.a,{placeholder:"Recherche...",id:"input-with-icon-textfield",className:"input-search",onChange:this.rechercheHandler,onClick:this.toggle,InputProps:{startAdornment:l.a.createElement(Fe.a,{position:"start"},l.a.createElement(De.a,{className:"search-icon"}))}}))),l.a.createElement(s.c,{sm:2,style:{marginTop:"-15px"}},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BS"))))):l.a.createElement(s.o,{style:{marginTop:"-15px"}},l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date D\xe9but",margin:"normal",type:"date",fullWidth:!0,name:"firstdate",InputLabelProps:{shrink:!0},onChange:this.firstrechdatHandler,value:this.state.firstdate,defaultValue:this.state.defaultdate})),l.a.createElement(s.c,{sm:3},l.a.createElement(A.a,{id:"standard-basic",label:"Date Fin",margin:"normal",type:"date",fullWidth:!0,name:"seconddate",InputLabelProps:{shrink:!0},defaultValue:this.state.defaultdate,onChange:this.secondrechdatHandler,value:this.state.seconddate})),l.a.createElement(s.c,{sm:4}),l.a.createElement(s.c,{sm:2},l.a.createElement("div",{id:"",style:{textAlign:"center"}},l.a.createElement("button",{className:"icon-btn add-btn",onClick:function(){return e.setState({addModalShow:!0})}},l.a.createElement("div",{className:"add-icon"}),l.a.createElement("div",{className:"btn-txt"},"Ajouter BC")))))),l.a.createElement("br",null),this.state.rechercheclicked?l.a.createElement("div",{className:"tabbs"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechs.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBSRS?type=BS&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({GetBSByIdModalShow:!0,bsid:t.numfac,datebs:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",mc))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)).toFixed(3))," "))}))))):this.state.showrechbydate?l.a.createElement("div",{className:"tabbs"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.state.rechdats.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBSRS?type=BS&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({GetBSByIdModalShow:!0,bsid:t.numfac,datebs:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",mc))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)+parseFloat(e.state.valeurtim)).toFixed(3))," "))}))))):l.a.createElement("div",{className:"tabbs"},l.a.createElement("table",{striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u2116 BC"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Code client"),l.a.createElement("th",{style:{width:"40%"}},"Raison Sociale"),l.a.createElement("th",null,"Montant "))),l.a.createElement("tbody",null,this.props.bsss.bsss.map((function(t){return l.a.createElement("tr",{key:t.numfac,onClick:function(){fetch("http://192.168.1.100:81/api/LigBSRS?type=BS&numfac=".concat(t.numfac)).then((function(e){return e.json()})).then((function(t){return e.setState({tabtab:t,sumqt:t&&t.reduce((function(e,t){return e+parseInt(t.quantite)}),0)})})),e.setState({GetBSByIdModalShow:!0,bsid:t.numfac,datebs:t.datfac,client:t.codcli,raisonsociale:t.raisoc,totalhtbrut:t.smhtb,remiselignes:t.smremart,remiseglobale:t.smremglo,totalhtnet:t.smhtn,totaldc:t.smDC,totalcos:t.smCOS,totalttc:t.mntbon,totaltva:t.smtva,droitdetimbre:t.timbre,avanceimpot:t.ForfaitCli,annuler:t.annuler,catfisc:t.catfisc,taurem:t.taurem})}},l.a.createElement("td",null,l.a.createElement("span",null,t.numfac)),l.a.createElement("td",null,l.a.createElement("span",null,new Date(t.datfac).toLocaleDateString("fr",mc))),l.a.createElement("td",null,l.a.createElement("span",null,t.codcli)),l.a.createElement("td",{style:{width:"40%"}},l.a.createElement("span",null,t.raisoc)),l.a.createElement("td",null,l.a.createElement("span",null,Number(parseFloat(t.mntbon)).toFixed(3))))}))))),l.a.createElement(sc,{show:this.state.addModalShow,onHide:function(){return e.setState({addModalShow:!1})},valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}),l.a.createElement(ac,{show:this.state.GetBSByIdModalShow,onHide:function(){return e.setState({GetBSByIdModalShow:!1})},bsid:a,datebs:n,client:r,raisonsociale:c,totalhtbrut:i,remiselignes:o,remiseglobale:m,totalhtnet:u,totaldc:d,totalcos:p,totalttc:h,totaltva:E,droitdetimbre:f,avanceimpot:g,rem:y,tabtab:this.state.tabtab,annuler:v,sumqt:C,taurem:S,catfisc:x,valtimbre:this.props.valtimbres.valtimbres.map((function(e){return parseFloat(e.valtimbre)}))}))}}]),t}(n.Component);var hc=Object(w.b)((function(e){return{bsss:e.bsss,valtimbres:e.valtimbres}}),(function(e){return{SelectBS:function(){return e(Kr())},SelectValTimbre:function(){return e(Wt())}}}))(pc),Ec=function(e){return l.a.createElement(s.e,{fluid:!0,className:o()("content",{"is-open":e.isOpen})},l.a.createElement(E,{toggle:e.toggle}),l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/faq",component:function(){return"FAQ"}}),l.a.createElement(b.b,{exact:!0,path:"/contact",component:re}),l.a.createElement(b.b,{exact:!0,path:"/fiche-client",component:tn}),l.a.createElement(b.b,{exact:!0,path:"/fiche-article",component:Tn}),l.a.createElement(b.b,{exact:!0,path:"/fiche-fournisseur",component:Za}),l.a.createElement(b.b,{exact:!0,path:"/devis",component:ka}),l.a.createElement(b.b,{exact:!0,path:"/bon-entree",component:nr}),l.a.createElement(b.b,{exact:!0,path:"/bon-de-commande",component:Gt}),l.a.createElement(b.b,{exact:!0,path:"/bon-de-livraison",component:$n}),l.a.createElement(b.b,{exact:!0,path:"/facture",component:yl}),l.a.createElement(b.b,{exact:!0,path:"/homepage",component:le}),l.a.createElement(b.b,{exact:!0,path:"/nomenclature",component:Dl}),l.a.createElement(b.b,{exact:!0,path:"/reglement",component:Br}),l.a.createElement(b.b,{exact:!0,path:"/clicktocall",component:Mr}),l.a.createElement(b.b,{exact:!0,path:"/personnel",component:Qr}),l.a.createElement(b.b,{exact:!0,path:"/bon-de-sortie",component:hc})))},bc=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).toggleNavbar=function(){a.setState({collapsed:!a.state.collapsed})};var n=localStorage.getItem("fct"),l=localStorage.getItem("token");return a.state={collapsed:!0,fct:n,token:l},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.items;t.icon;return l.a.createElement("div",null,l.a.createElement("div",null,"200"!==this.state.fct||"Suivi Banque"!==a&&"Parametres"!==a?l.a.createElement(s.k,{onClick:this.toggleNavbar,className:o()({"menu-open":!this.state.collapsed})},l.a.createElement(s.l,{className:"dropdown-toggle"},a)):null,l.a.createElement(s.d,{isOpen:!this.state.collapsed,navbar:!0,className:o()("items-menu",{"mb-1":!this.state.collapsed})},n&&n.map((function(t,a){return l.a.createElement(p.b,{key:a,to:t.title.toLowerCase().split(" ").join("-")},"200"!==e.state.fct||"Bon entree"!==t.title&&"Bon de sortie"!==t.title?l.a.createElement(s.k,{style:{marginLeft:"20px"},className:"pl-4"},t.icon,"\xa0\xa0",t.title):null)})))))}}]),t}(n.Component),fc=(a(723),Object(w.b)((function(e){return{SideBarTitles:e.SideBarTitles}}))((function(e){var t=localStorage.getItem("fct"),a=localStorage.getItem("token"),r=Object(n.useState)(t),c=Object(m.a)(r,2),i=c[0],u=(c[1],Object(n.useState)(a)),d=Object(m.a)(u,2);d[0],d[1];return l.a.createElement("div",{className:o()("sidebar",{"is-open":e.isOpen})},l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("span",{color:"info",onClick:e.toggle,style:{color:"#fff"}},"\xd7"),l.a.createElement("h3",{style:{fontFamily:"cursive"}},"AYOOLA")),l.a.createElement("div",{className:"side-menu"},l.a.createElement(s.j,{vertical:!0,className:"list-unstyled pb-3"},l.a.createElement("div",null,"100"===i?l.a.createElement(p.b,{to:"/homepage",className:"title",onClick:e.toggle},l.a.createElement(s.k,{style:{paddingLeft:"27px"}},l.a.createElement("i",{class:"fas fa-chart-bar"}," DashBoard"))):null,e.SideBarTitles.sidebar.map((function(e,t){return l.a.createElement(bc,{key:t,title:e.title,icon:e.icon,items:e.submenu})})),"100"===i?l.a.createElement(p.b,{to:"/clicktocall",className:"title",onClick:e.toggle},l.a.createElement(s.k,{style:{fontSize:"16px",paddingLeft:"27px"}},l.a.createElement("i",{class:"fas fa-phone-volume"})," ",l.a.createElement("span",{style:{marginLeft:"17px"}},"Click To Call"))):null,"100"===i?l.a.createElement(p.b,{to:"/personnel",className:"title",onClick:e.toggle},l.a.createElement(s.k,{style:{fontSize:"16px",paddingLeft:"27px"}},l.a.createElement("i",{class:"fas fa-users"})," ",l.a.createElement("span",{style:{marginLeft:"17px"}},"Vendeurs"))):l.a.createElement("h3",null),l.a.createElement("br",null),l.a.createElement("a",{to:"",href:"https://polysoftco.tn"},l.a.createElement(s.k,{style:{fontSize:"16px",paddingLeft:"20px"}},l.a.createElement("i",{class:"fas fa-globe"}),l.a.createElement("span",{style:{marginLeft:"17px"}},"Polysoft&CO.tn"))),l.a.createElement(p.b,{to:"/contact",onClick:e.toggle},l.a.createElement(s.k,null,l.a.createElement(s.k,{style:{fontSize:"16px",paddingLeft:"12px"}},l.a.createElement("i",{class:"far fa-comment-alt"}),l.a.createElement("span",{style:{marginLeft:"17px"}},"Contact"))))))))}))),gc=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],r=t[1],c=function(){return r(!a)};return l.a.createElement("div",{className:"App wrapper"},l.a.createElement(fc,{toggle:c,isOpen:a}),l.a.createElement(Ec,{toggle:c,isOpen:a}))},yc=(a(724),a(725)),vc={width:"100%",height:"100vh",backgroundImage:"url(".concat(yc,")"),backgroundSize:"cover"},xc=function(e){function t(e){var a;return Object(f.a)(this,t),a=Object(y.a)(this,Object(v.a)(t).call(this,e)),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("fct"),a.state={},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:vc},l.a.createElement("div",null,l.a.createElement(we.a,null,l.a.createElement("h1",{style:{marginTop:"200px",color:"white"}},"Vous avez d\xe9connect\xe9 de AYOOLA!!!")),l.a.createElement(we.a,null,l.a.createElement(p.b,{to:"/"},l.a.createElement(P.a,{style:{height:"200px",width:"200px",borderColor:"rgb(220, 0, 78)",fontSize:"30px",borderRadius:"50%",backgroundColor:"rgb(220, 0, 78)",color:"white"}},"Login ...")))))}}]),t}(n.Component),Cc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sc(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var kc=a(100),Tc={sidebar:ja,submenuIndex:0},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc;arguments.length>1&&arguments[1];return e},jc=a(498),Ic=a(19),Nc={articles:[],tableHeader:[],clients:[],dataTable:[],etat:"",fournisseurs:[],elementDetails:[]},Oc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}},Bc={searching:""},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCHING":return{searching:t.payload};default:return e}},Dc={devis:[]},Fc=a(784),qc={clients:[]},Hc={articles:[]},Lc={numfac:[]},Rc={ligs:[]},Mc={tests:[]},Wc={bcs:[]},Pc={bcligs:[]},zc={bls:[]},Vc={blligs:[]},Uc={factures:[]},Gc={fligs:[]},_c={nomes:[]},Qc={sousfamilles:[]},Kc={codarts:[]},Yc={codclis:[]},Xc={fournisseurs:[]},Jc={codfrss:[]},$c={sums:[]},Zc={dbs:[]},ei={codbls:[]},ti={nomenclatures:[]},ai={numfacbcs:[]},ni={tops:[]},li={topfrss:[]},ri={charges:[]},ci={bes:[]},ii={codbes:[]},oi={codgacfrss:[]},si={codres:[]},mi={regs:[]},ui={bqs:[]},di={ags:[]},pi={css:[]},hi={scs:[]},Ei={ccbs:[]},bi={allnomes:[]},fi={catnomes:[]},gi={codfacs:[]},yi={vendeurs:[]},vi={codvds:[]},xi={valtimbres:[]},Ci={bsss:[]},Si={bscods:[]},ki=[jc.a],Ti=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):kc.d)(kc.a.apply(void 0,ki)),wi=Object(kc.e)(Object(kc.c)({SideBarTitles:wc,DataTablesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ELEMENT_DETAILS":return Object(Ic.a)({},e,{elementDetails:t.payload});case"GET_ARTICLES_LIST":return Object(Ic.a)({},e,{etat:t.etat,articles:t.payload.map((function(e,t){return{id:t,code:e.codart,name:e.desart}}))});case"GET_FOURNISSEURS_LIST":return Object(Ic.a)({},e,{etat:t.etat,fournisseurs:t.payload.map((function(e,t){return{id:t,code:e.codfrs,name:e.raisoc,adresse:e.adr,numTel1:e.tel1,numTel2:e.tel2,codePostal:e.cp,siteWeb:e.sitweb,ville:e.ville,email:e.email,timbre:e.timbre,codeTVA:e.codeTVA,tauxFodec:e.tauxfodec,userType:e.psg,soldeFacture:e.soldfac,soldeGlobal:e.soldfacbl}}))});case"GET_ARTICLES_HEADER":case"GET_CLIENTS_HEADER":case"GET_FOURNISSEURS_HEADER":return Object(Ic.a)({},e,{tableHeader:t.payload});case"GET_CLIENTS_LIST":return Object(Ic.a)({},e,{etat:t.etat,clients:t.payload.map((function(e,t){return{id:t,code:e.codcli,name:e.raisoc,adresse:e.adr,numTel1:e.tel1,numTel2:e.tel2,codePostal:e.cp,siteWeb:e.sitweb,ville:e.ville,CIN:e.cin,email:e.email,RIB:e.rib,timbre:e.timbre,categorieFiscale:e.catfisc,remise:e.remise,RC:e.RC,regimeClient:e.regimecli,codeTVA:e.codtva,userType:e.passager,soldeFacture:e.soldfac,soldeGlobal:e.soldfacbl,representant:e.rep}}))});case"REMPLIR_DATA_TABLE":return Object(Ic.a)({},e,{etat:e.etat,dataTable:"client"===e.etat?e.clients:"article"===e.etat?e.articles:e.fournisseurs});default:return e}},loaderReducer:Oc,SearchingReducer:Ac,devis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SELECTED":return Object(Ic.a)({},e,{devis:t.payload});default:return e}},form:Fc.a,clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT_SELECT":return Object(Ic.a)({},e,{clients:t.payload});default:return e}},articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ARTICLE_SELECT":return Object(Ic.a)({},e,{articles:t.payload});default:return e}},numfac:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NUMFAC_DEVIS":return Object(Ic.a)({},e,{numfac:t.payload});default:return e}},ligs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEVIS_LIG_SELECT":return Object(Ic.a)({},e,{ligs:t.payload});default:return e}},tests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEST_SELECT":return Object(Ic.a)({},e,{tests:t.payload});default:return e}},bcs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BC_SELECT":return Object(Ic.a)({},e,{bcs:t.payload});default:return e}},bcligs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BC_LIG_SELECT":return Object(Ic.a)({},e,{bcligs:t.payload});default:return e}},bls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BL_SELECT":return Object(Ic.a)({},e,{bls:t.payload});default:return e}},blligs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BL_LIG_SELECT":return Object(Ic.a)({},e,{blligs:t.payload});default:return e}},factures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FACTURE_SELECT":return Object(Ic.a)({},e,{factures:t.payload});default:return e}},fligs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"F_LIG_SELECT":return Object(Ic.a)({},e,{fligs:t.payload});default:return e}},nomes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOME_SELECT":return Object(Ic.a)({},e,{nomes:t.payload});default:return e}},sousfamilles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOUS_FAMILLE_SELECT":return Object(Ic.a)({},e,{sousfamilles:t.payload});default:return e}},codarts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CODART":return Object(Ic.a)({},e,{codarts:t.payload});default:return e}},codclis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CODCLI":return Object(Ic.a)({},e,{codclis:t.payload});default:return e}},fournisseurs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOURNISSEUR_SELECT":return Object(Ic.a)({},e,{fournisseurs:t.payload});default:return e}},codfrss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CODFRS":return Object(Ic.a)({},e,{codfrss:t.payload});default:return e}},sums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUMQDV_SELECT":return Object(Ic.a)({},e,{sums:t.payload});default:return e}},dbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DB":return Object(Ic.a)({},e,{dbs:t.payload});default:return e}},codbls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BL_COD":return Object(Ic.a)({},e,{codbls:t.payload});default:return e}},nomenclatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATURE_SELECT":return Object(Ic.a)({},e,{nomenclatures:t.payload});default:return e}},numfacbcs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NUMFAC_BC":return Object(Ic.a)({},e,{numfacbcs:t.payload});default:return e}},tops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOP_SELECT":return Object(Ic.a)({},e,{tops:t.payload});default:return e}},topfrss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOPFRS_SELECT":return Object(Ic.a)({},e,{topfrss:t.payload});default:return e}},charges:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUMCHARGE_SELECT":return Object(Ic.a)({},e,{charges:t.payload});default:return e}},bes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BE_SELECT":return Object(Ic.a)({},e,{bes:t.payload});default:return e}},codbes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BE_COD":return Object(Ic.a)({},e,{codbes:t.payload});default:return e}},codfacfrss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FF_COD":return Object(Ic.a)({},e,{codfacfrss:t.payload});default:return e}},codres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECCCCCOD":return Object(Ic.a)({},e,{codres:t.payload});default:return e}},regs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REG_SELECT":return Object(Ic.a)({},e,{regs:t.payload});default:return e}},bqs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATUREBQ_SELECT":return Object(Ic.a)({},e,{bqs:t.payload});default:return e}},ags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATUREAG_SELECT":return Object(Ic.a)({},e,{ags:t.payload});default:return e}},css:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATURECS_SELECT":return Object(Ic.a)({},e,{css:t.payload});default:return e}},scs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATURESC_SELECT":return Object(Ic.a)({},e,{scs:t.payload});default:return e}},ccbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOMENCLATURECCB_SELECT":return Object(Ic.a)({},e,{ccbs:t.payload});default:return e}},allnomes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALLNOME_SELECT":return Object(Ic.a)({},e,{allnomes:t.payload});default:return e}},catnomes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATNOME_SELECT":return Object(Ic.a)({},e,{catnomes:t.payload});default:return e}},codfacs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAC_COD":return Object(Ic.a)({},e,{codfacs:t.payload});default:return e}},vendeurs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VD_SELECT":return Object(Ic.a)({},e,{vendeurs:t.payload});default:return e}},codvds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CODVD_SELECT":return Object(Ic.a)({},e,{codvds:t.payload});default:return e}},valtimbres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALTIMBRE_SELECT":return Object(Ic.a)({},e,{valtimbres:t.payload});default:return e}},bsss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BS_SELECT":return Object(Ic.a)({},e,{bsss:t.payload});default:return e}},bscods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BS_COD":return Object(Ic.a)({},e,{bscods:t.payload});default:return e}}}),Ti);c.a.render(l.a.createElement(w.a,{store:wi},l.a.createElement((function(){return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/",component:Nl}),l.a.createElement(b.b,{exact:!0,path:"/logout",component:xc}),l.a.createElement(b.b,{component:gc}))))}),null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Cc?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Sc(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Sc(e)}))}}()},93:function(e,t,a){}},[[509,1,2]]]);
//# sourceMappingURL=main.b831b161.chunk.js.map